require=function r(a,s,u){function l(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(m)return m(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var o=s[t]={exports:{}};a[t][0].call(o.exports,function(e){return l(a[t][1][e]||e)},o,o.exports,r,a,s,u)}return s[t].exports}for(var m="function"==typeof require&&require,e=0;e<u.length;e++)l(u[e]);return l}({AllDB:[function(e,t,n){"use strict";cc._RF.push(t,"14174yJWqBFyI5OgBtOTrZW","AllDB"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./MaoxianItem_DB"),s=e("./Daoju_DB"),u=e("./Skill_DB"),f=e("./Enemy_DB"),i=e("./Role_DB"),h=e("../Utils/Util"),p=e("./ZhuangBei_DB"),d=e("../Utils/Constant"),l=e("./Shop_DB"),o=cc._decorator,r=o.ccclass,m=o.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mMaoxianDBMap=new Map,e.mSkillDBMap=new Map,e.mEnemyDBMap=new Map,e.mIemMap=new Map,e.mShopObj={mID:[],shopItem:[]},e.mBuffItemPrefab=null,e.mBuffItemPool=null,e.mHechengMap=new Map,e.mJsonPath="Json/%s",e}var y;return __extends(e,t),(y=e).instance=function(){if(!this.mInstance){var e=cc.find("Canvas").getComponent(y);this.mInstance=e}return this.mInstance},e.prototype.onLoad=function(){var e=window.h5api;console.log("Is4399:",e),null!=e&&(y.mIs4399=!0),this.LoadMaoxianDB(),this.LoadDaojuDB(),this.LoadSkillDB(),this.LoadEnemyDB(),this.LoadZhuangBeiDB(),this.LoadShopDB()},e.prototype.LoadMaoxianDB=function(){var r=this;cc.loader.loadRes(cc.js.formatStr(this.mJsonPath,"maoxianItem"),function(e,t){for(var n=0;n<t.length;n++){var i=t[n],o=new a.default;o.mID=i.id,o.mLevel=i.level,o.mName=i.name,o.mBG=i.bg,o.mEnemyIDArry=i.enemyIDS,o.mEnemyLevelArry=i.levels,o.mAttackType=Number(i.attackType),r.mMaoxianDBMap.set(i.id,o)}y.mIs4399&&window.h5api.progress(15)})},e.prototype.LoadDaojuDB=function(){var r=this;cc.loader.loadRes(cc.js.formatStr(this.mJsonPath,"daoju"),function(e,t){for(var n=0;n<t.length;n++){var i=t[n],o=new s.default;o.mID=i.id,o.mLevel=i.level,o.mName=i.name,o.mDes=i.des,o.mPinzhi=i.quality,o.mBuyForRMB=i.buyMoney,o.mSellCoin=i.sellCoin,o.mItemType=d.TItemType.daoju,r.mIemMap.set(i.id,o)}y.mIs4399&&window.h5api.progress(50)})},e.prototype.LoadHechengDB=function(){var h=this;cc.loader.loadRes(cc.js.formatStr(this.mJsonPath,"hecheng"),function(e,t){for(var n=0;n<t.length;n++){var i=t[n],o=i.id,r={needDaojuIDS:[],needDaojuCount:[]},a=i.needDaojuIDS;if(0<=a.indexOf(","))for(var s=a.split(","),u=0;u<s.length;u++){var l=s[u];r.needDaojuIDS.push(l)}else{if("-1"==a)return;r.needDaojuIDS.push(a)}var m=i.needDaojuCount;if(0<=m.indexOf(",")){var c=m.split(",");for(u=0;u<c.length;u++){l=c[u];r.needDaojuCount.push(l)}}else{if("-1"==a)return;r.needDaojuCount.push(m)}h.mHechengMap.set(o,r)}})},e.prototype.LoadShopDB=function(){var r=this;cc.loader.loadRes(cc.js.formatStr(this.mJsonPath,"shop"),function(e,t){for(var n=0;n<t.length;n++){var i=t[n],o=new l.default;o.mID=i.id,o.mCount=Number(i.count),o.mNeedGem=Number(i.needGem),o.mGetCoin=Number(i.GetCoin),r.mShopObj.mID.push(i.id),r.mShopObj.shopItem.push(o)}})},e.prototype.LoadZhuangBeiDB=function(){var c=this;cc.loader.loadRes(cc.js.formatStr(this.mJsonPath,"equipmentItem"),function(e,t){for(var n=0;n<t.length;n++){var i=t[n],o=new p.default;o.mID=i.id,o.mCode=h.default.GetCode(),o.mIcon=i.icon,o.mName=i.name,o.mBuWei=Number(i.buwei),o.mLevel=Number(i.level),o.mPinzhi=Number(i.pinzhi),o.mZhuShuxing=Number(i.zhushuxing),o.mZhuShuxingValue=Number(i.zhushuxingValue),o.mFuShuxing=Number(i.fushuxing),o.mFuShuxingValue=Number(i.fushuxingValue),h.default.instance().FujiaShuxingIDs(o),h.default.instance().ShenqiShuxingIDs(o);var r=i.hechengNeedDaojuArry;if(0<=r.indexOf(","))for(var a=r.split(","),s=0;s<a.length;s++){var u=a[s];o.mHechengNeedDaojuIDArry.push(u)}else{if("-1"==r)return;o.mHechengNeedDaojuIDArry.push(r)}var l=i.hechengNeedDaojuValueArray;if(0<=l.indexOf(",")){var m=l.split(",");for(s=0;s<m.length;s++){u=m[s];o.mHechengNeedDaojuCountArry.push(u)}}else{if("-1"==l)return;o.mHechengNeedDaojuCountArry.push(l)}o.mItemType=d.TItemType.zhuangbei,c.mIemMap.set(i.id,o)}c.roleDB(),c.InitPool(),y.mIs4399&&window.h5api.progress(100)})},e.prototype.LoadSkillDB=function(){var r=this;cc.loader.loadRes(cc.js.formatStr(this.mJsonPath,"skill"),function(e,t){for(var n=0;n<t.length;n++){var i=t[n],o=new u.default;o.mID=i.id,o.mLevel=Number(i.level),o.mName=i.name,o.mDes=i.des,o.mAddAttack=i.addAttack,o.mBuffSum=i.BuffSum,o.mIsBUFF=i.isBUFF,o.mBuffTarget=i.buffTarget,o.mTime=i.time,r.mSkillDBMap.set(i.id,o)}y.mIs4399&&window.h5api.progress(65)})},e.prototype.LoadEnemyDB=function(){var d=this;cc.loader.loadRes(cc.js.formatStr(this.mJsonPath,"enemy"),function(e,t){for(var n=0;n<t.length;n++){var i=t[n],o=new f.default;o.mID=i.id,o.mName=i.name;var r=i.skills;if(0<=r.indexOf(","))for(var a=r.split(","),s=0;s<a.length;s++){var u=a[s];o.mSkillIDArry.push(u)}else o.mSkillIDArry.push(r);var l=i.daojuDrop;if(0<=l.indexOf(",")){var m=l.split(",");for(s=0;s<m.length;s++){var c=m[s];o.mDiaoluoDaojuArry.push(c)}}else o.mDiaoluoDaojuArry.push(l);var h=i.zhuangbeiDrop;if(0<=h.indexOf(",")){var p=h.split(",");for(s=0;s<p.length;s++){c=p[s];o.mDiaoluoZhuangbeiArry.push(c)}}else o.mDiaoluoZhuangbeiArry.push(h);d.mEnemyDBMap.set(i.id,o)}y.mIs4399&&window.h5api.progress(85)})},e.prototype.roleDB=function(){if(h.default.UnSerializer(d.TLocalStorage.ERole)){console.log("有数据"+h.default.UnSerializer(d.TLocalStorage.ERole));var e=h.default.UnSerializer(d.TLocalStorage.ERole);i.default.instance().mFightCount=e.mFightCount,i.default.instance().mPlayer_DB=e.mPlayer_DB,i.default.instance().mMaoxianIDAndEnemyIndex=e.mMaoxianIDAndEnemyIndex,i.default.instance().mChoujiangTime=e.mChoujiangTime,i.default.instance().mChoujiangYetCount=e.mChoujiangYetCount,i.default.instance().mChangeNameCount=e.mChangeNameCount,y.mIs4399&&(i.default.instance().mPlayer_DB.mName="4399勇士")}else{var t=new f.default;t.mID="Player",y.mIs4399?t.mName="4399勇士":t.mName="新手";t.mLevel=1,t.mAttack=118,t.mDef=38,t.mHP=258,t.mMingzhong=119,t.mShanbi=36,t.mBaoji=45,t.mBaojiAttack=177,t.mFumian=82,t.mHPRes=0,t.mCoinDiaolv=100,t.mItemDiaolv=100,t.mExpDiaolv=100,t.mCoin=1e4,t.mGem=50,t.mEXP=0,t.mSkillIDArry.push("1"),t.mCurSkillIDArry.push("1"),i.default.instance().mFightCount=1,i.default.instance().mPlayer_DB=t,this.InitXinshouZhuangbei(i.default.instance().mPlayer_DB),h.default.Serializer(d.TLocalStorage.ERole,i.default.instance()),console.log("没数据")}},e.prototype.InitXinshouZhuangbei=function(e){var t=new p.default;t.Clone("6101"),t.mIsDress=1,e.mHP+=t.mZhuShuxingValue,e.mZhuangbeiArry.push(t);var n=new p.default;n.Clone("6201"),n.mIsDress=1,e.mDef+=n.mZhuShuxingValue,e.mZhuangbeiArry.push(n);var i=new p.default;i.Clone("6701"),i.mIsDress=1,e.mFumian+=i.mZhuShuxingValue,e.mZhuangbeiArry.push(i);var o=new p.default;o.Clone("6001"),o.mIsDress=1,e.mZhuangbeiArry.push(o),e.mAttack+=o.mZhuShuxingValue;var r=new p.default;r.Clone("6601"),r.mIsDress=1,e.mBaojiAttack+=r.mZhuShuxingValue,e.mZhuangbeiArry.push(r);var a=new p.default;a.Clone("6301"),a.mIsDress=1,e.mMingzhong+=a.mZhuShuxingValue,e.mZhuangbeiArry.push(a);var s=new p.default;s.Clone("6501"),s.mIsDress=1,e.mBaoji+=s.mZhuShuxingValue,e.mZhuangbeiArry.push(s);var u=new p.default;u.Clone("6401"),s.mIsDress=1,e.mShanbi+=s.mZhuShuxingValue,e.mZhuangbeiArry.push(u)},e.prototype.InitPool=function(){this.mBuffItemPool=new cc.NodePool;for(var e=0;e<5;e++){var t=cc.instantiate(this.mBuffItemPrefab);this.mBuffItemPool.put(t)}},e.mInstance=null,e.mIs4399=!1,__decorate([m(cc.Prefab)],e.prototype,"mBuffItemPrefab",void 0),e=y=__decorate([r],e)}(cc.Component);n.default=c,cc._RF.pop()},{"../Utils/Constant":"Constant","../Utils/Util":"Util","./Daoju_DB":"Daoju_DB","./Enemy_DB":"Enemy_DB","./MaoxianItem_DB":"MaoxianItem_DB","./Role_DB":"Role_DB","./Shop_DB":"Shop_DB","./Skill_DB":"Skill_DB","./ZhuangBei_DB":"ZhuangBei_DB"}],AllTexture:[function(e,t,n){"use strict";cc._RF.push(t,"e4e1cEWrsdB/oY1aswa7BCc","AllTexture"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,r=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mSkillAtlas=new Map,e.mEnemyMap=new Map,e}return __extends(e,t),(n=e).instance=function(){if(!this.mInstance){var e=cc.find("Canvas").getComponent(n);this.mInstance=e}return this.mInstance},e.prototype.onLoad=function(){var r=this;cc.loader.loadResDir("Texture/Effect",cc.SpriteAtlas,function(e,t){for(var n=0;n<t.length;n++){var i=t[n],o=i.name.indexOf(".");0<=o&&(i.name=i.name.substr(0,o)),r.mSkillAtlas.set(i.name,i)}})},e.prototype.GetAtlasByName=function(e){var t=this.mSkillAtlas.get(e);return null!=t?t:null},e.mInstance=null,e=n=__decorate([o],e);var n}(cc.Component));n.default=r,cc._RF.pop()},{}],AudioMgr:[function(e,t,n){"use strict";cc._RF.push(t,"70ce35sXeJNjI2H+oLqp9R6","AudioMgr"),Object.defineProperty(n,"__esModule",{value:!0});var a,i,o=e("./Constant"),r=e("../UIFormwork/ResourcesMar"),s=cc._decorator,u=(s.ccclass,s.property,function(){function e(){this.music_id=-1,this.sound_ids=[],this.clip_cache=new Map,this.loading_map=new Map}return e.getInst=function(){return this.inst||(this.inst=new e),this.inst},e.prototype.init=function(){var e=localStorage.get(o.TLocalStorage.ESoundVolum),t=localStorage.get(o.TLocalStorage.EMusicVolume),n=1==localStorage.get(o.TLocalStorage.EMute);this.set_music_mute(n),this.set_music_volumn(t),this.set_sound_mute(n),this.set_sound_volumn(e)},e.prototype.play_music=function(e){0<=this.music_id&&this.stop_music();var t=cc.js.formatStr("sounds/music/%s",e);if(this.curr_music=e,this.music_mute)cc.info("music is mute");else if(this.clip_cache.get(t))this.play_clip(t,this.music_volume,!0,a.Music);else{var n={type:a.Music,name:e,path:t,volume:this.music_volume,loop:!0};this.load_task(n)}},e.prototype.stop_music=function(){this.music_id<0?cc.info("no music is playing"):(cc.audioEngine.stop(this.music_id),this.music_id=-1)},e.prototype.set_music_mute=function(e){this.music_mute=e,this.music_id<0?!e&&this.curr_music&&this.play_music(this.curr_music):e?cc.audioEngine.pause(this.music_id):cc.audioEngine.resume(this.music_id)},e.prototype.set_music_volumn=function(e){this.music_volume=e,0<=this.music_id&&cc.audioEngine.setVolume(this.music_id,e)},e.prototype.load_task=function(e){var t=e.path;this.loading_map.get(t)||(this.loading_map.set(t,!0),r.default.loadRawAsset(t))},e.prototype.on_clip_loaded=function(e,t){this.clip_cache.set(e.path,t),e.type==a.Music&&e.name!=this.curr_music||this.play_clip(e.path,e.volume,e.loop,e.type)},e.prototype.play_clip=function(e,t,n,i){var o=this,r=cc.audioEngine.play(e,n,t);i==a.Music?this.music_id=r:i==a.Sound&&(this.sound_ids.push(r),cc.audioEngine.setFinishCallback(r,function(){o.on_sound_finished(r)}))},e.prototype.on_sound_finished=function(e){this.sound_ids.forEach(function(e){})},e.prototype.play_sound=function(e){if(this.sound_mute)cc.info("sound is mute");else{var t=cc.js.formatStr("sounds/sound/%s",e);if(this.clip_cache.get(t))this.play_clip(t,this.sound_volume,!1,a.Sound);else{var n={type:a.Sound,name:e,path:t,volume:this.sound_volume,loop:!1};this.load_task(n)}}},e.prototype.set_sound_mute=function(t){this.sound_mute=t,this.sound_ids.forEach(function(e){t?cc.audioEngine.pause(e):cc.audioEngine.resume(e)})},e.prototype.set_sound_volumn=function(t){this.sound_volume=t,this.sound_ids.forEach(function(e){cc.audioEngine.setVolume(e,t)})},e.prototype.stop_sound=function(){this.sound_ids.forEach(function(e){cc.audioEngine.stop(e)}),this.sound_ids.length=0},e.prototype.clear_cache=function(){this.clip_cache.forEach(function(e,t){r.default.release(e)}),this.clip_cache.clear(),this.loading_map.clear(),cc.audioEngine.uncacheAll()},e}());n.AudioMgr=u,(i=a||(a={}))[i.Music=1]="Music",i[i.Sound=2]="Sound",n.AUDIO_CONFIG={MAIN_BG_MUSIC:"dz_hall_background_music",SGCARD_BG_MUSIC:"background",BUTTON_CLICK:"button_click_sound",SSC_BG_MUSIC:"fruit_bg",SSC_OPEN_NOTIFY:"start",LHC_BG_MUSIC:"fruit_bg",LHC_OPEN_NOTIFY:"start"},cc._RF.pop()},{"../UIFormwork/ResourcesMar":"ResourcesMar","./Constant":"Constant"}],BaseUIForm:[function(e,t,n){"use strict";cc._RF.push(t,"c5334uSdjJBZKYIOOhAPNp/","BaseUIForm"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./UIType"),r=e("./UIMaskMgr"),a=e("./UIManager"),o=cc._decorator,s=o.ccclass,u=(o.property,e("../Utils/CCCompentHelper")),l=e("./E_UIForm"),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uiType=new i.default,e}return __extends(e,t),o=e,Object.defineProperty(e.prototype,"GetUIType",{get:function(){return this.uiType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SetUIType",{set:function(e){this.uiType=e},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){},e.prototype.ActiveUIForm=function(){this.GetUIType.UIForm_AnimType==l.AnimType.Normal&&(this.node.active=!0),this.GetUIType.UIForms_Type==l.UIFormType.PopUp&&r.default.instance().SetMaskNode(this.node,this.uiType.UIForm_LucencyType)},e.prototype.UnActiveUIForm=function(){this.uiType.UIForm_AnimType==l.AnimType.Normal&&(this.node.active=!1),this.uiType.UIForms_Type==l.UIFormType.PopUp&&r.default.instance().CancelMaskNode(this.node)},e.prototype.Redisplay=function(){this.node.active=!0,this.uiType.UIForms_Type==l.UIFormType.PopUp&&r.default.instance().SetMaskNode(this.node,this.uiType.UIForm_LucencyType)},e.prototype.Freeze=function(){this.node.active=!0,this.node.zIndex-=1},e.prototype.RigisterButtonObjectEvent=function(t,e,n){var i=u.default.FindChildNode(t,e);i.on(cc.Node.EventType.TOUCH_START,function(){}),i.on(cc.Node.EventType.TOUCH_END,function(){var e=r.default.instance().mMaskPanel.zIndex;null!=t.getComponent(o)&&t.zIndex<e||n()})},e.prototype.OpenUIForm=function(e){a.default.instance().ShowUIForms(e)},e.prototype.OpenUIFormAndCloseOther=function(e){a.default.instance().OpenUIFormAndCloseOther(e)},e.prototype.SetCurUIFormByCenter=function(e){a.default.instance().SetCurUIFormByCenter(e)},e.prototype.CloseUIForm=function(e,t){void 0===t&&(t=null),a.default.instance().CloseUIForms(e,t)},e.prototype.InitUIFormItme=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},e=o=__decorate([s],e);var o}(cc.Component);n.default=m,cc._RF.pop()},{"../Utils/CCCompentHelper":"CCCompentHelper","./E_UIForm":"E_UIForm","./UIManager":"UIManager","./UIMaskMgr":"UIMaskMgr","./UIType":"UIType"}],BatchUIForm:[function(e,t,n){"use strict";cc._RF.push(t,"73f15AiIXxAvrdxWwBfQ7+m","BatchUIForm"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,r=i.property,a=e("../UIFormwork/BaseUIForm"),s=e("../UIFormwork/E_UIForm"),u=e("../Utils/Constant"),l=e("../Utils/EventDispatch"),m=e("../UIFormwork/UIMaskMgr"),c=e("../UIFormwork/ResourcesMar"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mToggleArry=[],e}return __extends(e,t),e.prototype.onLoad=function(){var n=this;this.GetUIType.UIForms_ShowMode=s.UIFormShowMode.ReverseChange,this.GetUIType.UIForm_AnimType=s.AnimType.Normal,this.GetUIType.UIForm_LucencyType=s.UIFormLucenyType.ImPenetrable,this.GetUIType.UIForms_Type=s.UIFormType.PopUp,this.RigisterButtonObjectEvent(m.default.instance().mMaskPanel,"_UIMaskPanel",function(){n.haiyuan()}),this.RigisterButtonObjectEvent(this.node,"cancleBtn",function(){n.haiyuan()}),this.RigisterButtonObjectEvent(this.node,"fenjieBtn",function(){for(var e=0,t=0;t<n.mToggleArry.length;t++){1==n.mToggleArry[t].isChecked&&(e=t+1)}0!=e?n.ZhuangbeiPinzhiFenjie(e):c.default.instance().ShowTip("选择一个品质批量分解")})},e.prototype.ZhuangbeiPinzhiFenjie=function(e){l.default.emit(u.TEventType.EBatchDelZhuangBei_ChangeToRole,e),this.haiyuan()},e.prototype.haiyuan=function(){this.mToggleArry.forEach(function(e){e.isChecked=!1}),this.CloseUIForm(this.node.name)},__decorate([r([cc.Toggle])],e.prototype,"mToggleArry",void 0),e=__decorate([o],e)}(a.default);n.default=h,cc._RF.pop()},{"../UIFormwork/BaseUIForm":"BaseUIForm","../UIFormwork/E_UIForm":"E_UIForm","../UIFormwork/ResourcesMar":"ResourcesMar","../UIFormwork/UIMaskMgr":"UIMaskMgr","../Utils/Constant":"Constant","../Utils/EventDispatch":"EventDispatch"}],BeiBaoUIForm:[function(e,t,n){"use strict";cc._RF.push(t,"d1bbd0fRldLAILIkVjy2oPF","BeiBaoUIForm"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../UIFormwork/E_UIForm"),o=e("../Utils/EventDispatch"),r=e("../Utils/Constant"),a=e("../Utils/Util"),s=e("../Entity/Role_DB"),u=e("../UI/WuPinItem"),l=e("../UIFormwork/BaseUIForm"),m=e("../UIFormwork/UIManager"),c=cc._decorator,h=c.ccclass,p=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mZhuangBeiToggle=null,e.mDaojuToggle=null,e.mZhuangbeiLayout=null,e.mDaojuLayout=null,e.mItemPrefab=null,e.mItemPool=new cc.NodePool,e.mDaojuIDs=[],e.mZhuangbeiIDS=[],e.mRow=4,e.mItemNodeHeight=96,e}return __extends(e,t),e.prototype.onLoad=function(){this.GetUIType.UIForms_ShowMode=i.UIFormShowMode.Normal,this.GetUIType.UIForm_AnimType=i.AnimType.Normal,this.GetUIType.UIForm_LucencyType=i.UIFormLucenyType.ImPenetrable,this.GetUIType.UIForms_Type=i.UIFormType.Normal;for(var e=0;e<5;e++){var t=cc.instantiate(this.mItemPrefab);this.mItemPool.put(t)}this.InitItem(),o.default.register(r.TEventType.EXieZhuangBei_ChangeToBeiBao,this.XieZhuangbeiToBeiBao,this),o.default.register(r.TEventType.EChuanZhuangBei_ChangeToBeiBao,this.ChuanZhuangBeiToBeiBao,this),o.default.register(r.TEventType.EUseDaoju_ChangeToBeibao,this.UseDaojuToBeiBao,this),a.default.RisiterToggleObjectEvent(this.mZhuangBeiToggle,this.node,"ZhuangbeiBtnClick"),a.default.RisiterToggleObjectEvent(this.mDaojuToggle,this.node,"DaojuBtnClick"),this.RigisterButtonObjectEvent(this.node,"batchDelBtn",function(){m.default.instance().ShowUIForms(r.default.mBatchUIForm)})},e.prototype.InitItem=function(){for(var e=s.default.instance().mPlayer_DB,t=0;t<e.mItemArry.length;t++){var n=e.mItemArry[t];this.XieZhuangbeiToBeiBao(n)}a.default.SetLayoudHeight(this.mDaojuIDs.length,this.mRow,this.mItemNodeHeight,this.mDaojuLayout,1,3),a.default.SetLayoudHeight(this.mZhuangbeiIDS.length,this.mRow,this.mItemNodeHeight,this.mZhuangbeiLayout,1,3)},e.prototype.ZhuangbeiBtnClick=function(){this.mDaojuLayout.parent.active=!1,this.mZhuangbeiLayout.parent.active=!0;var e=a.default.instance().mBeibaoDaojuSelect;e&&(e.mSelect.active=!1)},e.prototype.DaojuBtnClick=function(){this.mZhuangbeiLayout.parent.active=!1,this.mDaojuLayout.parent.active=!0;var e=a.default.instance().mBeibaoZhuangbeiSelect;e&&(e.mSelect.active=!1)},e.prototype.XieZhuangbeiToBeiBao=function(t){var e=null,n=t.mItemType;0<=this.mDaojuIDs.indexOf(t.mID)?this.mDaojuLayout.getComponentsInChildren(u.default).forEach(function(e){e.AddCount(t)}):(e=0<this.mItemPool.size()?this.mItemPool.get():cc.instantiate(this.mItemPrefab),0==n?(e.parent=this.mDaojuLayout,this.mDaojuIDs.push(t.mID)):(e.parent=this.mZhuangbeiLayout,this.mZhuangbeiIDS.push(t.mCode)),e.getComponent(u.default).InitItem(t,this,null),a.default.SetLayoudHeight(this.mDaojuIDs.length,this.mRow,this.mItemNodeHeight,this.mDaojuLayout,1,3),a.default.SetLayoudHeight(this.mZhuangbeiIDS.length,this.mRow,this.mItemNodeHeight,this.mZhuangbeiLayout,1,3))},e.prototype.ChuanZhuangBeiToBeiBao=function(t){var n=this.mZhuangbeiIDS.indexOf(t.mCode);0<=n?this.mZhuangbeiLayout.getComponentsInChildren(u.default).forEach(function(e){e.mItem.mCode==t.mCode&&e.ClearItem(n)}):console.log("穿戴装备时,背包没发现此装备",t.mName)},e.prototype.UseDaojuToBeiBao=function(t,n){var i=this.mDaojuIDs.indexOf(t);0<=i?this.mDaojuLayout.getComponentsInChildren(u.default).forEach(function(e){e.DelCount(t,n,i)}):console.log("使用物品时,背包没发现此物品!!!",i)},e.prototype.onDisable=function(){this.mDaojuLayout.parent.getComponent(cc.ScrollView).scrollToTop(0),this.mZhuangbeiLayout.parent.getComponent(cc.ScrollView).scrollToTop(0)},__decorate([p(cc.Toggle)],e.prototype,"mZhuangBeiToggle",void 0),__decorate([p(cc.Toggle)],e.prototype,"mDaojuToggle",void 0),__decorate([p(cc.Node)],e.prototype,"mZhuangbeiLayout",void 0),__decorate([p(cc.Node)],e.prototype,"mDaojuLayout",void 0),__decorate([p(cc.Prefab)],e.prototype,"mItemPrefab",void 0),e=__decorate([h],e)}(l.default);n.default=d,cc._RF.pop()},{"../Entity/Role_DB":"Role_DB","../UI/WuPinItem":"WuPinItem","../UIFormwork/BaseUIForm":"BaseUIForm","../UIFormwork/E_UIForm":"E_UIForm","../UIFormwork/UIManager":"UIManager","../Utils/Constant":"Constant","../Utils/EventDispatch":"EventDispatch","../Utils/Util":"Util"}],BuffItem:[function(e,t,n){"use strict";cc._RF.push(t,"7ebecgqPOdKuKb/50JIAlSk","BuffItem"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Entity/AllDB"),o=cc._decorator,r=o.ccclass,a=o.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mDes=null,e.mBuffStr=["燃烧(%s)","攻击↓(%s)","眩晕(%s)","防御↓(%s)","掉血(%s)"],e.mCurBuff=null,e.mCount=0,e.mOldNum=0,e.mAttack=0,e.mDef=0,e.mXuanyun=!1,e.mSelf=null,e.mTarget=null,e.mBuffStar="",e.mCallBack=null,e.mTimer=0,e.mSumTime=0,e.mTotalTime=0,e}return __extends(e,t),e.prototype.InitBuff=function(e,t,n){this.mSelf=e,this.mTarget=t,this.mCurBuff=n,this.mBuffStar=this.mBuffStr[Number(n.mIsBUFF)-1],this.mDes.string=cc.js.formatStr(this.mBuffStar,n.mTime),this.mCount=n.mTime,this.mAttack=0,this.mDef=0,this.mXuanyun=!1,this.mSumTime=n.mTime,this.BuffLogic()},e.prototype.BuffLogic=function(){if(this.mCount<=0)this.huanyuan();else switch(this.mDes.string=cc.js.formatStr(this.mBuffStar,this.mCount),this.mCount-=1,this.mCurBuff.mIsBUFF.toString()){case"1":var e=this.mTarget.mAttack*this.mCurBuff.mAddAttack*this.mCurBuff.mBuffSum;this.mSelf.DelHP(e);break;case"2":var t=this.mSelf.mAttack*this.mCurBuff.mBuffSum;if(this.mAttack==t)break;this.mAttack=t,this.mSelf.DelAttack(t);break;case"3":if(this.mSelf.mXuanyun){this.mTarget.mSelfAttack||0<this.mSelf.mItemDB.mHP&&this.scheduleOnce(function(){this.mTarget.mSelfAttack=!0}.bind(this),.2);break}this.mSelf.mXuanyun=!0,this.mXuanyun=!0,this.mTarget.mSelfAttack||(this.mTarget.mSelfAttack=!0);break;case"4":var n=this.mSelf.mDef*this.mCurBuff.mBuffSum;if(this.mDef==n)break;this.mDef=n,this.mSelf.DelDef(n);break;case"5":var i=this.mSelf.mCurHP*this.mCurBuff.mBuffSum;this.mSelf.DelHP(i)}},e.prototype.update=function(e){this.mTimer+=e,1<=this.mTimer&&(this.mTimer=0,this.BuffLogic())},e.prototype.huanyuan=function(){0<this.mAttack?this.mSelf.AddAttack(this.mAttack):0<this.mDef?this.mSelf.AddDef(this.mDef):this.mXuanyun&&(this.mSelf.mXuanyun=!1,this.mTarget.mSelfAttack||(this.mSelf.mSelfAttack=!0)),this.node.parent=null,this.mAttack=0,this.mDef=0,this.mXuanyun=!1,i.default.instance().mBuffItemPool.put(this.node)},__decorate([a(cc.Label)],e.prototype,"mDes",void 0),e=__decorate([r],e)}(cc.Component);n.default=s,cc._RF.pop()},{"../Entity/AllDB":"AllDB"}],ByteArray:[function(e,t,n){"use strict";cc._RF.push(t,"bc45dB8GHhLhLATCXrA9fY6","ByteArray"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.EncodePack=function(e,t){var n=new Uint8Array(e.length+2),i=new ArrayBuffer(2);new DataView(i).setUint16(0,t,!0);var o=new Uint8Array(i);return n.set(o),n.set(e,o.length),console.log("写类型newUint8Array",n),this.WriteToMsgLenght(n)},e.prototype.WriteToMsgLenght=function(e){var t=new Uint8Array(e.length+4),n=new ArrayBuffer(4);new DataView(n).setInt32(0,e.length,!0);var i=new Uint8Array(n);return t.set(i),t.set(e,i.length),console.log("写长度newUint8Array",t),t},e.prototype.DecodePack=function(e){var t,n=new DataView(e).getInt32(0,!0);return n>(t=e.slice(4,e.byteLength)).byteLength&&console.log("未收到正确消息长度",n,t.byteLength),this.ReadOfMsgType(t)},e.prototype.ReadOfMsgType=function(e){var t,n=new DataView(e).getUint16(0,!0);return t=e.slice(2,e.byteLength),console.log("消息体",length,t.byteLength),{msgType:n,data:new Uint8Array(t)}},e}();n.default=i,cc._RF.pop()},{}],CCCompentHelper:[function(e,t,n){"use strict";cc._RF.push(t,"ecf37c41JhD5Z1pybgqbIn0","CCCompentHelper"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,r=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.FindChildNode=function(e,t){var n,i=null;n=e.getComponentsInChildren(cc.Component);for(var o=0;o<n.length;o++){var r=n[o],a=r.name,s=a.indexOf("<");if(0<=s&&(a=a.substr(0,s)),a==t){i=r.node;break}}return i},t.SetNodeParent=function(e,t,n){null==n&&(n=cc.find("Canvas")||cc.find("Root")),this.FindChildNode(n,t).parent=e},t=__decorate([o],t)}(cc.Component));n.default=r,cc._RF.pop()},{}],ChoujiangUIForm:[function(e,t,n){"use strict";cc._RF.push(t,"c4c11ucxKBEFo3QTXMXdGYM","ChoujiangUIForm"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,r=i.property,s=e("../UIFormwork/E_UIForm"),a=e("../UIFormwork/BaseUIForm"),u=e("../Utils/EventDispatch"),l=e("../Utils/Constant"),m=e("../Utils/Util"),c=e("../UIFormwork/ResourcesMar"),h=e("../Entity/Role_DB"),p=e("../UIFormwork/UIManager"),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mItemNodeArry=[],e.mAnimNode=null,e.mChoujiangCountLabel=null,e.mIsStar=!1,e.mChoujiangTimer=.3,e.mTimer=0,e.mScheduleCallBack=null,e.mChangeSpeedTimer=0,e.mStarSpeed=0,e.mIndex=0,e.mMaxTime=5,e.mReawardType=["视频","金币","钻石"],e.mReawardArry=[0,1,0,-1,0,0,1,2,2,0,2,-1,1,0,0,1],e.mCurChoujiangCount=0,e.mCurChoujiangStr="剩余次数:%s",e.mGetReawardStr="获得%s%s",e}return __extends(e,t),e.prototype.onLoad=function(){var r=this;this.GetUIType.UIForms_ShowMode=s.UIFormShowMode.Normal,this.GetUIType.UIForm_AnimType=s.AnimType.Normal,this.GetUIType.UIForm_LucencyType=s.UIFormLucenyType.ImPenetrable,this.GetUIType.UIForms_Type=s.UIFormType.Normal,this.RigisterButtonObjectEvent(this.node,"starBtn",function(){if(!r.mIsStar)if(r.mCurChoujiangCount>=l.default.mChoujiangMaxCount)c.default.instance().ShowTip("今日已达抽奖上线");else{r.mAnimNode.active=!0,r.mIsStar=!0,r.mCurChoujiangCount+=1;var e=l.default.mChoujiangMaxCount-r.mCurChoujiangCount;r.mChoujiangCountLabel.string=cc.js.formatStr(r.mCurChoujiangStr,e);var t=new Date,n=Number(t.getFullYear()),i=Number(t.getMonth())+1,o=Number(t.getDate());u.default.emit(l.TEventType.EChoujiang,n,i,o,r.mCurChoujiangCount)}});var e=h.default.instance().mChoujiangTime;if(0==e.year)this.mCurChoujiangCount=0;else{var t=new Date,n=Number(t.getFullYear()),i=Number(t.getMonth())+1,o=Number(t.getDate());(e.year<n||e.month<i||e.day<o)&&(h.default.instance().mChoujiangYetCount=0),this.mCurChoujiangCount=h.default.instance().mChoujiangYetCount}var a=l.default.mChoujiangMaxCount-this.mCurChoujiangCount;this.mChoujiangCountLabel.string=cc.js.formatStr(this.mCurChoujiangStr,a)},e.prototype.update=function(e){this.mIsStar&&(this.mTimer+=e,this.mChangeSpeedTimer+=e,this.mChoujiangTimer<=0&&(this.mChoujiangTimer=0),this.mTimer>=this.mMaxTime?(.15<=this.mChangeSpeedTimer&&(this.mChoujiangTimer+=e,this.mChangeSpeedTimer=0),.3<=this.mChoujiangTimer&&(this.GetReawar(this.mIndex),this.haiyuan())):.15<=this.mChangeSpeedTimer&&(this.mChoujiangTimer-=e,this.mChangeSpeedTimer=0),this.mStarSpeed+=e,this.mStarSpeed>=this.mChoujiangTimer&&this.mIsStar&&(this.mStarSpeed=0,this.mIndex+=1,this.mIndex%=this.mItemNodeArry.length,this.mAnimNode.position=this.mItemNodeArry[this.mIndex].position))},e.prototype.GetReawar=function(e){var t=this.mReawardArry[e];if(-1!=t){var n=this.mReawardType[t];if("视频"==n)p.default.instance().ShowUIForms(l.default.mDialogUIForm).InitUIFormItme(l.DialogType.shipin,"是要观看广告获取更多钻石吗?","观看","取消");else if("金币"==n){var i=m.default.RandomNumber(l.default.mChoujiangGetMinCoin,l.default.mChoujiangGetMaxCoin);u.default.emit(l.TEventType.EChangeCoinToRole,i);var o=cc.js.formatStr(this.mGetReawardStr,i,"金币");c.default.instance().ShowTip(o)}else if("钻石"==n){var r=m.default.RandomNumber(l.default.mChoujiangGetMinGem,l.default.mChoujiangGetMaxGem);u.default.emit(l.TEventType.EChangeGemToRole,r);var a=cc.js.formatStr(this.mGetReawardStr,r,"钻石");c.default.instance().ShowTip(a)}cc.log("当前奖品:",n)}},e.prototype.playAds=function(){var n=this;window.h5api.canPlayAd()&&window.h5api.playAd(function(e){if(console.log("代码:"+e.code+",消息:"+e.message),1e4===e.code)console.log("开始播放");else if(10001===e.code){u.default.emit(l.TEventType.EChangeGemToRole,l.default.mChoujiangGetMaxGem_Video);var t=cc.js.formatStr(n.mGetReawardStr,l.default.mChoujiangGetMaxGem_Video,"钻石(视频播放完成)");c.default.instance().ShowTip(t)}else{u.default.emit(l.TEventType.EChangeGemToRole,l.default.mChoujiangGetMaxGem_Video/2);t=cc.js.formatStr(n.mGetReawardStr,l.default.mChoujiangGetMaxGem_Video/2,"钻石(视频播放失败)")}})},e.prototype.haiyuan=function(){this.mIsStar=!1,this.mTimer=0,this.mScheduleCallBack=null,this.mChangeSpeedTimer=0,this.mStarSpeed=0,this.mIndex=0,this.mMaxTime=m.default.RandomNumber(4,7)},e.prototype.onDisable=function(){this.haiyuan(),this.mAnimNode.active=!1,this.mAnimNode.position=this.mItemNodeArry[0].position},__decorate([r([cc.Node])],e.prototype,"mItemNodeArry",void 0),__decorate([r(cc.Node)],e.prototype,"mAnimNode",void 0),__decorate([r(cc.Label)],e.prototype,"mChoujiangCountLabel",void 0),e=__decorate([o],e)}(a.default);n.default=d,cc._RF.pop()},{"../Entity/Role_DB":"Role_DB","../UIFormwork/BaseUIForm":"BaseUIForm","../UIFormwork/E_UIForm":"E_UIForm","../UIFormwork/ResourcesMar":"ResourcesMar","../UIFormwork/UIManager":"UIManager","../Utils/Constant":"Constant","../Utils/EventDispatch":"EventDispatch","../Utils/Util":"Util"}],Constant:[function(e,t,n){"use strict";cc._RF.push(t,"8164f6j1b9NvrFqW12fALrz","Constant"),Object.defineProperty(n,"__esModule",{value:!0});var i,o,r,a,s,u,l,m,c,h,p,d,y,f,g=e("../Entity/Role_DB"),I=e("./EventDispatch"),v=function(){function t(){}return t.OpenGMPattern=function(){t.mChoujiangMaxCount=999999,t.mChangeNameMore2NeedGem=0,t.mIsOpenGMPattern=!0,t.mMeetBoxEnemylv=60,t.mBoxEnemyDaojuDiaolv=100,t.mDaojuDiaolv=100,t.mZhuangbeiDiaolv=100,t.mSkillTriggerOdds=100,t.mBaojiTriggerOdds=1,t.mZhuangbeiDiaolv=100,t.mLukyBoxToDaojuDiaolv=0;var e=g.default.instance();e.mPlayer_DB.mLevel=100,e.mPlayer_DB.mGem=999999,e.mPlayer_DB.mCoin=9999999,e.mPlayer_DB.mHP=99999,e.mPlayer_DB.mAttack=1e4,e.LevelUP(),t.mNewBieNickName="GM",I.default.emit(r.ENew,0),I.default.emit(r.EShuxingChangeToUI),e.mMaoxianIDAndEnemyIndex={maoxianID:t.mMaoxianItemMaxCount,enemyIndex:0}},t.mScriptMgr="_ScriptMgr",t.m_UIMaskPanel="_UIMaskPanel",t.mNomal="Nomal",t.mFixed="Fixed",t.mPopUp="PopUp",t.mMaoxianFightUIForm="MaoxianFightUIForm",t.mMaoXianUIForm="MaoXianUIForm",t.mEnemysUIForm="EnemysUIForm",t.mFightEndUIForm="FightEndUIForm",t.mZhuangBeiPopUIForm="ZhuangBeiPopUIForm",t.mDaojuPopUIForm="DaojuPopUIForm",t.mFightDaojuPopUIForm="FightDaojuPopUIForm",t.mJiaQiangUIForm="JiaQiangUIForm",t.mTiejiangPuUIForm="TiejiangPuUIForm",t.mHeishiUIForm="HeishiUIForm",t.mBatchUIForm="BatchUIForm",t.mFuBenUIForm="FuBenUIForm",t.mDialogUIForm="DialogUIForm",t.mZhuangbeiBuweiCount=8,t.mFujiaShuxingCount=5,t.mCurMaxQianghuaLev=20,t.mZhuangbeiFenjieStarCoin=2e3,t.mChoujiangMaxCount=10,t.mMaoxianItemMaxCount=21,t.mChangeNameMaxCount=3,t.mChangeNameMore2NeedGem=50,t.mIsOpenGMPattern=!1,t.mGMName0="晓月爱园园",t.mGMName1="43专员测试",t.mNewBieNickName="新手",t.mChoujiangGetMaxGem_Video=40,t.mChoujiangGetMinGem=10,t.mChoujiangGetMaxGem=20,t.mChoujiangGetMinCoin=3e4,t.mChoujiangGetMaxCoin=5e4,t.mShenqiXiaohao=5,t.mFubenGetCoinof10=270,t.mFubenGetExpof10=300,t.mMeetBoxEnemylv=5,t.mMeetEliteEnemylv=45,t.mMeetVariationEnemylv=20,t.mBoxEnemyDaojuDiaolv=20,t.mSpecialEnemyDaojuDiaolv=15,t.mDaojuDiaolv=5,t.mQianghuashiDiaolv=25,t.mZhuangbeiDiaolv=1,t.mLukyBoxToDaojuDiaolv=95,t.mLukyBoxMaxLV=100,t.mSkillTriggerOdds=6,t.mBaojiTriggerOdds=150,t.mShanbiTriggerOdds=250,t.mFukangTriggerOdds=50,t}();n.default=v,(o=i||(i={})).ERole="role",o.ECode="code",o.EFightAttack="fightAttack",o.EFightEffect="fightEffect",o.EFightBeishu="fightBeishu",o.EMusicVolume="musicVolume",o.ESoundVolum="soundVolum",o.EMute="mute",o.EWujin="EWujin",n.TLocalStorage=i,(a=r||(r={})).EShuxingChangeToUI="EShuxingChangeToUI",a.EChuan_ZhuangBei="EChuan_ZhuangBei",a.EXie_ZhuangBei="EXie_ZhuangBei",a.EChuanZhuangBei_ChangeToRole="EChuanZhuangBei_ChangeToRole",a.EDelZhuangBei_ChangeToRole="EDelZhuangBei_ChangeToRole",a.EBatchDelZhuangBei_ChangeToRole="EBatchDelZhuangBei_ChangeToRole",a.EUseDaoju_ChangeToRole="EUseDaoju_ChangeToRole",a.EUseDaoju_ChangeToBeibao="EUseDaoju_ChangeToBeibao",a.EXieZhuangBei_ChangeToRole="EXieZhuangBei_ChangeToRole",a.EXieZhuangBei_ChangeToBeiBao="EXieZhuangBei_ChangeToBeiBao",a.EChuanZhuangBei_ChangeToBeiBao="EChuanZhuangBei_ChangeToBeiBao",a.EItemAddToRole="EItemAdd",a.EChangeCoinToRole="EChangeCoinToRole",a.EChangeGemToRole="EChangeGemToRole",a.EJiaQiangQianghua="EJiaQiangQianghua",a.EJiaQiangFumo="EJiaQiangFumo",a.EJiaQiangFumo_ChangeToPopUIForm="EJiaQiangFumo_ChangeToPopUIForm",a.EWujin="EWujin",a.ETieJIangPuClikZhuangbei="ETieJIangPuClikZhuangbei",a.EHeishiClikZhuangbei="EHeishiClikZhuangbei",a.ENew="ENew",a.ELevelUP_ToRole="ELevelUP_ToRole",a.ELevelUP_ToSkillUIForm="ELevelUP",a.EChoujiang="EChoujiang",a.EShenqiXilianUpdateZhuangbeiPopUI="EShenqiXilianUpdateZhuangbeiPopUI",a.ENewFuben="ENewFuben",a.EShowDialog="EShowDialog",n.TEventType=r,(u=s||(s={}))[u.tou=0]="tou",u[u.yifu=1]="yifu",u[u.kutui=2]="kutui",u[u.wuqi=3]="wuqi",u[u.xianglian=4]="xianglian",u[u.hushou=5]="hushou",u[u.jiezhi=6]="jiezhi",u[u.xiezi=7]="xiezi",n.TBuWeiType=s,(m=l||(l={}))[m.none=-1]="none",m[m.daoju=0]="daoju",m[m.zhuangbei=1]="zhuangbei",n.TItemType=l,(h=c||(c={}))[h.qianghua=0]="qianghua",h[h.chongzhu=1]="chongzhu",h[h.fumo=2]="fumo",h[h.shenqi=3]="shenqi",n.JiaqiangType=c,(d=p||(p={}))[d.maoxian=0]="maoxian",d[d.fuben=1]="fuben",d[d.shenyuan=2]="shenyuan",n.AttackType=p,(f=y||(y={}))[f.shipin=0]="shipin",n.DialogType=y,cc._RF.pop()},{"../Entity/Role_DB":"Role_DB","./EventDispatch":"EventDispatch"}],1:[function(e,t,n){"use strict";t.exports=e("./src/index-minimal")},{"./src/index-minimal":9}],2:[function(e,t,n){"use strict";t.exports=function(e,t){var n=new Array(arguments.length-1),r=0,i=2,a=!0;for(;i<arguments.length;)n[r++]=arguments[i++];return new Promise(function(i,o){n[r]=function(e){if(a)if(a=!1,e)o(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(e){a&&(a=!1,o(e))}})}},{}],3:[function(e,t,n){"use strict";var i=n;i.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;1<--t%4&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var l=new Array(64),u=new Array(123),o=0;o<64;)u[l[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;i.encode=function(e,t,n){for(var i,o=null,r=[],a=0,s=0;t<n;){var u=e[t++];switch(s){case 0:r[a++]=l[u>>2],i=(3&u)<<4,s=1;break;case 1:r[a++]=l[i|u>>4],i=(15&u)<<2,s=2;break;case 2:r[a++]=l[i|u>>6],r[a++]=l[63&u],s=0}8191<a&&((o||(o=[])).push(String.fromCharCode.apply(String,r)),a=0)}return s&&(r[a++]=l[i],r[a++]=61,1===s&&(r[a++]=61)),o?(a&&o.push(String.fromCharCode.apply(String,r.slice(0,a))),o.join("")):String.fromCharCode.apply(String,r.slice(0,a))};var m="invalid encoding";i.decode=function(e,t,n){for(var i,o=n,r=0,a=0;a<e.length;){var s=e.charCodeAt(a++);if(61===s&&1<r)break;if(void 0===(s=u[s]))throw Error(m);switch(r){case 0:i=s,r=1;break;case 1:t[n++]=i<<2|(48&s)>>4,i=s,r=2;break;case 2:t[n++]=(15&i)<<4|(60&s)>>2,i=s,r=3;break;case 3:t[n++]=(3&i)<<6|s,r=0}}if(1===r)throw Error(m);return n-o},i.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},{}],4:[function(e,t,n){"use strict";function i(){this._listeners={}}(t.exports=i).prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},i.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===t?n.splice(i,1):++i;return this},i.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<t.length;)t[i].fn.apply(t[i++].ctx,n)}return this}},{}],5:[function(e,t,n){"use strict";function i(s){return"undefined"!=typeof Float32Array?function(){var i=new Float32Array([-0]),o=new Uint8Array(i.buffer),e=128===o[3];function t(e,t,n){i[0]=e,t[n]=o[0],t[n+1]=o[1],t[n+2]=o[2],t[n+3]=o[3]}function n(e,t,n){i[0]=e,t[n]=o[3],t[n+1]=o[2],t[n+2]=o[1],t[n+3]=o[0]}function r(e,t){return o[0]=e[t],o[1]=e[t+1],o[2]=e[t+2],o[3]=e[t+3],i[0]}function a(e,t){return o[3]=e[t],o[2]=e[t+1],o[1]=e[t+2],o[0]=e[t+3],i[0]}s.writeFloatLE=e?t:n,s.writeFloatBE=e?n:t,s.readFloatLE=e?r:a,s.readFloatBE=e?a:r}():function(){function e(e,t,n,i){var o=t<0?1:0;if(o&&(t=-t),0===t)e(0<1/t?0:2147483648,n,i);else if(isNaN(t))e(2143289344,n,i);else if(34028234663852886e22<t)e((o<<31|2139095040)>>>0,n,i);else if(t<11754943508222875e-54)e((o<<31|Math.round(t/1401298464324817e-60))>>>0,n,i);else{var r=Math.floor(Math.log(t)/Math.LN2);e((o<<31|r+127<<23|8388607&Math.round(t*Math.pow(2,-r)*8388608))>>>0,n,i)}}function t(e,t,n){var i=e(t,n),o=2*(i>>31)+1,r=i>>>23&255,a=8388607&i;return 255===r?a?NaN:o*(1/0):0===r?1401298464324817e-60*o*a:o*Math.pow(2,r-150)*(a+8388608)}s.writeFloatLE=e.bind(null,o),s.writeFloatBE=e.bind(null,r),s.readFloatLE=t.bind(null,a),s.readFloatBE=t.bind(null,u)}(),"undefined"!=typeof Float64Array?function(){var i=new Float64Array([-0]),o=new Uint8Array(i.buffer),e=128===o[7];function t(e,t,n){i[0]=e,t[n]=o[0],t[n+1]=o[1],t[n+2]=o[2],t[n+3]=o[3],t[n+4]=o[4],t[n+5]=o[5],t[n+6]=o[6],t[n+7]=o[7]}function n(e,t,n){i[0]=e,t[n]=o[7],t[n+1]=o[6],t[n+2]=o[5],t[n+3]=o[4],t[n+4]=o[3],t[n+5]=o[2],t[n+6]=o[1],t[n+7]=o[0]}function r(e,t){return o[0]=e[t],o[1]=e[t+1],o[2]=e[t+2],o[3]=e[t+3],o[4]=e[t+4],o[5]=e[t+5],o[6]=e[t+6],o[7]=e[t+7],i[0]}function a(e,t){return o[7]=e[t],o[6]=e[t+1],o[5]=e[t+2],o[4]=e[t+3],o[3]=e[t+4],o[2]=e[t+5],o[1]=e[t+6],o[0]=e[t+7],i[0]}s.writeDoubleLE=e?t:n,s.writeDoubleBE=e?n:t,s.readDoubleLE=e?r:a,s.readDoubleBE=e?a:r}():function(){function e(e,t,n,i,o,r){var a=i<0?1:0;if(a&&(i=-i),0===i)e(0,o,r+t),e(0<1/i?0:2147483648,o,r+n);else if(isNaN(i))e(0,o,r+t),e(2146959360,o,r+n);else if(17976931348623157e292<i)e(0,o,r+t),e((a<<31|2146435072)>>>0,o,r+n);else{var s;if(i<22250738585072014e-324)e((s=i/5e-324)>>>0,o,r+t),e((a<<31|s/4294967296)>>>0,o,r+n);else{var u=Math.floor(Math.log(i)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(s=i*Math.pow(2,-u))>>>0,o,r+t),e((a<<31|u+1023<<20|1048576*s&1048575)>>>0,o,r+n)}}}function t(e,t,n,i,o){var r=e(i,o+t),a=e(i,o+n),s=2*(a>>31)+1,u=a>>>20&2047,l=4294967296*(1048575&a)+r;return 2047===u?l?NaN:s*(1/0):0===u?5e-324*s*l:s*Math.pow(2,u-1075)*(l+4503599627370496)}s.writeDoubleLE=e.bind(null,o,0,4),s.writeDoubleBE=e.bind(null,r,4,0),s.readDoubleLE=t.bind(null,a,0,4),s.readDoubleBE=t.bind(null,u,4,0)}(),s}function o(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function r(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function u(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}t.exports=i(i)},{}],6:[function(require,module,exports){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},{}],7:[function(e,t,n){"use strict";t.exports=function(n,i,e){var o=e||8192,r=o>>>1,a=null,s=o;return function(e){if(e<1||r<e)return n(e);o<s+e&&(a=n(o),s=0);var t=i.call(a,s,s+=e);return 7&s&&(s=1+(7|s)),t}}},{}],8:[function(e,t,n){"use strict";var i=n;i.length=function(e){for(var t=0,n=0,i=0;i<e.length;++i)(n=e.charCodeAt(i))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(i+1))?(++i,t+=4):t+=3;return t},i.read=function(e,t,n){if(n-t<1)return"";for(var i,o=null,r=[],a=0;t<n;)(i=e[t++])<128?r[a++]=i:191<i&&i<224?r[a++]=(31&i)<<6|63&e[t++]:239<i&&i<365?(i=((7&i)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,r[a++]=55296+(i>>10),r[a++]=56320+(1023&i)):r[a++]=(15&i)<<12|(63&e[t++])<<6|63&e[t++],8191<a&&((o||(o=[])).push(String.fromCharCode.apply(String,r)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,r.slice(0,a))),o.join("")):String.fromCharCode.apply(String,r.slice(0,a))},i.write=function(e,t,n){for(var i,o,r=n,a=0;a<e.length;++a)(i=e.charCodeAt(a))<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(55296==(64512&i)&&56320==(64512&(o=e.charCodeAt(a+1)))?(i=65536+((1023&i)<<10)+(1023&o),++a,t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128);return n-r}},{}],9:[function(e,t,n){"use strict";var i=n;function o(){i.Reader._configure(i.BufferReader),i.util._configure()}i.build="minimal",i.Writer=e("./writer"),i.BufferWriter=e("./writer_buffer"),i.Reader=e("./reader"),i.BufferReader=e("./reader_buffer"),i.util=e("./util/minimal"),i.rpc=e("./rpc"),i.roots=e("./roots"),i.configure=o,i.Writer._configure(i.BufferWriter),o()},{"./reader":10,"./reader_buffer":11,"./roots":12,"./rpc":13,"./util/minimal":16,"./writer":17,"./writer_buffer":18}],10:[function(e,t,n){"use strict";t.exports=u;var i,o=e("./util/minimal"),r=o.LongBits,a=o.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function u(e){this.buf=e,this.pos=0,this.len=e.length}var l,m="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new u(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new u(e);throw Error("illegal buffer")};function c(){var e=new r(0,0),t=0;if(!(4<this.len-this.pos)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,4<this.len-this.pos){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw s(this,8);return new r(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}u.create=o.Buffer?function(e){return(u.create=function(e){return o.Buffer.isBuffer(e)?new i(e):m(e)})(e)}:m,u.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,u.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return l;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return l}),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return h(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|h(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},u.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},u.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},u.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},u.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},u._configure=function(e){i=e;var t=o.Long?"toLong":"toNumber";o.merge(u.prototype,{int64:function(){return c.call(this)[t](!1)},uint64:function(){return c.call(this)[t](!0)},sint64:function(){return c.call(this).zzDecode()[t](!1)},fixed64:function(){return p.call(this)[t](!0)},sfixed64:function(){return p.call(this)[t](!1)}})}},{"./util/minimal":16}],11:[function(e,t,n){"use strict";t.exports=r;var i=e("./reader");(r.prototype=Object.create(i.prototype)).constructor=r;var o=e("./util/minimal");function r(e){i.call(this,e)}o.Buffer&&(r.prototype._slice=o.Buffer.prototype.slice),r.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len))}},{"./reader":10,"./util/minimal":16}],12:[function(e,t,n){"use strict";t.exports={}},{}],13:[function(e,t,n){"use strict";n.Service=e("./rpc/service")},{"./rpc/service":14}],14:[function(e,t,n){"use strict";t.exports=i;var s=e("../util/minimal");function i(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");s.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}((i.prototype=Object.create(s.EventEmitter.prototype)).constructor=i).prototype.rpcCall=function e(n,t,i,o,r){if(!o)throw TypeError("request must be specified");var a=this;if(!r)return s.asPromise(e,a,n,t,i,o);if(a.rpcImpl)try{return a.rpcImpl(n,t[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(e,t){if(e)return a.emit("error",e,n),r(e);if(null!==t){if(!(t instanceof i))try{t=i[a.responseDelimited?"decodeDelimited":"decode"](t)}catch(e){return a.emit("error",e,n),r(e)}return a.emit("data",t,n),r(null,t)}a.end(!0)})}catch(e){return a.emit("error",e,n),void setTimeout(function(){r(e)},0)}else setTimeout(function(){r(Error("already ended"))},0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},{"../util/minimal":16}],15:[function(e,t,n){"use strict";t.exports=o;var i=e("../util/minimal");function o(e,t){this.lo=e>>>0,this.hi=t>>>0}var r=o.zero=new o(0,0);r.toNumber=function(){return 0},r.zzEncode=r.zzDecode=function(){return this},r.length=function(){return 1};var a=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(e){if(0===e)return r;var t=e<0;t&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return t&&(i=~i>>>0,n=~n>>>0,4294967295<++n&&(n=0,4294967295<++i&&(i=0))),new o(n,i)},o.from=function(e){if("number"==typeof e)return o.fromNumber(e);if(i.isString(e)){if(!i.Long)return o.fromNumber(parseInt(e,10));e=i.Long.fromString(e)}return e.low||e.high?new o(e.low>>>0,e.high>>>0):r},o.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(e){return i.Long?new i.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;o.fromHash=function(e){return e===a?r:new o((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},o.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},o.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},{"../util/minimal":16}],16:[function(n,e,r){(function(e){"use strict";var i=r;function o(e,t,n){for(var i=Object.keys(t),o=0;o<i.length;++o)void 0!==e[i[o]]&&n||(e[i[o]]=t[i[o]]);return e}function t(e){function n(e,t){if(!(this instanceof n))return new n(e,t);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,n):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),t&&o(this,t)}return(n.prototype=Object.create(Error.prototype)).constructor=n,Object.defineProperty(n.prototype,"name",{get:function(){return e}}),n.prototype.toString=function(){return this.name+": "+this.message},n}i.asPromise=n("@protobufjs/aspromise"),i.base64=n("@protobufjs/base64"),i.EventEmitter=n("@protobufjs/eventemitter"),i.float=n("@protobufjs/float"),i.inquire=n("@protobufjs/inquire"),i.utf8=n("@protobufjs/utf8"),i.pool=n("@protobufjs/pool"),i.LongBits=n("./longbits"),i.global="undefined"!=typeof window&&window||void 0!==e&&e||"undefined"!=typeof self&&self||this,i.emptyArray=Object.freeze?Object.freeze([]):[],i.emptyObject=Object.freeze?Object.freeze({}):{},i.isNode=Boolean(i.global.process&&i.global.process.versions&&i.global.process.versions.node),i.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},i.isString=function(e){return"string"==typeof e||e instanceof String},i.isObject=function(e){return e&&"object"==typeof e},i.isset=i.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||0<(Array.isArray(n)?n.length:Object.keys(n).length))},i.Buffer=function(){try{var e=i.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),i._Buffer_from=null,i._Buffer_allocUnsafe=null,i.newBuffer=function(e){return"number"==typeof e?i.Buffer?i._Buffer_allocUnsafe(e):new i.Array(e):i.Buffer?i._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},i.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,i.Long=i.global.dcodeIO&&i.global.dcodeIO.Long||i.global.Long||i.inquire("long"),i.key2Re=/^true|false|0|1$/,i.key32Re=/^-?(?:0|[1-9][0-9]*)$/,i.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,i.longToHash=function(e){return e?i.LongBits.from(e).toHash():i.LongBits.zeroHash},i.longFromHash=function(e,t){var n=i.LongBits.fromHash(e);return i.Long?i.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},i.merge=o,i.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},i.newError=t,i.ProtocolError=t("ProtocolError"),i.oneOfGetter=function(e){for(var n={},t=0;t<e.length;++t)n[e[t]]=1;return function(){for(var e=Object.keys(this),t=e.length-1;-1<t;--t)if(1===n[e[t]]&&void 0!==this[e[t]]&&null!==this[e[t]])return e[t]}},i.oneOfSetter=function(n){return function(e){for(var t=0;t<n.length;++t)n[t]!==e&&delete this[n[t]]}},i.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},i._configure=function(){var n=i.Buffer;n?(i._Buffer_from=n.from!==Uint8Array.from&&n.from||function(e,t){return new n(e,t)},i._Buffer_allocUnsafe=n.allocUnsafe||function(e){return new n(e)}):i._Buffer_from=i._Buffer_allocUnsafe=null}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./longbits":15,"@protobufjs/aspromise":2,"@protobufjs/base64":3,"@protobufjs/eventemitter":4,"@protobufjs/float":5,"@protobufjs/inquire":6,"@protobufjs/pool":7,"@protobufjs/utf8":8}],17:[function(e,t,n){"use strict";t.exports=c;var i,o=e("./util/minimal"),r=o.LongBits,a=o.base64,s=o.utf8;function u(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function l(){}function m(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function c(){this.len=0,this.head=new u(l,0,0),this.tail=this.head,this.states=null}function h(e,t,n){t[n]=255&e}function p(e,t){this.len=e,this.next=void 0,this.val=t}function d(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;127<e.lo;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function y(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}c.create=o.Buffer?function(){return(c.create=function(){return new i})()}:function(){return new c},c.alloc=function(e){return new o.Array(e)},o.Array!==Array&&(c.alloc=o.pool(c.alloc,o.Array.prototype.subarray)),c.prototype._push=function(e,t,n){return this.tail=this.tail.next=new u(e,t,n),this.len+=t,this},(p.prototype=Object.create(u.prototype)).fn=function(e,t,n){for(;127<e;)t[n++]=127&e|128,e>>>=7;t[n]=e},c.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new p((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},c.prototype.int32=function(e){return e<0?this._push(d,10,r.fromNumber(e)):this.uint32(e)},c.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},c.prototype.int64=c.prototype.uint64=function(e){var t=r.from(e);return this._push(d,t.length(),t)},c.prototype.sint64=function(e){var t=r.from(e).zzEncode();return this._push(d,t.length(),t)},c.prototype.bool=function(e){return this._push(h,1,e?1:0)},c.prototype.sfixed32=c.prototype.fixed32=function(e){return this._push(y,4,e>>>0)},c.prototype.sfixed64=c.prototype.fixed64=function(e){var t=r.from(e);return this._push(y,4,t.lo)._push(y,4,t.hi)},c.prototype.float=function(e){return this._push(o.float.writeFloatLE,4,e)},c.prototype.double=function(e){return this._push(o.float.writeDoubleLE,8,e)};var f=o.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var i=0;i<e.length;++i)t[n+i]=e[i]};c.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(h,1,0);if(o.isString(e)){var n=c.alloc(t=a.length(e));a.decode(e,n,0),e=n}return this.uint32(t)._push(f,t,e)},c.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(h,1,0)},c.prototype.fork=function(){return this.states=new m(this),this.head=this.tail=new u(l,0,0),this.len=0,this},c.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(l,0,0),this.len=0),this},c.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},c.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},c._configure=function(e){i=e}},{"./util/minimal":16}],18:[function(e,t,n){"use strict";t.exports=a;var i=e("./writer");(a.prototype=Object.create(i.prototype)).constructor=a;var o=e("./util/minimal"),r=o.Buffer;function a(){i.call(this)}a.alloc=function(e){return(a.alloc=o._Buffer_allocUnsafe)(e)};var s=r&&r.prototype instanceof Uint8Array&&"set"===r.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var i=0;i<e.length;)t[n++]=e[i++]};function u(e,t,n){e.length<40?o.utf8.write(e,t,n):t.utf8Write(e,n)}a.prototype.bytes=function(e){o.isString(e)&&(e=o._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(s,t,e),this},a.prototype.string=function(e){var t=r.byteLength(e);return this.uint32(t),t&&this._push(u,t,e),this}},{"./util/minimal":16,"./writer":17}],DaojuPopUIForm:[function(e,t,n){"use strict";cc._RF.push(t,"e6c6dK3M51G8a76/54sYQlA","DaojuPopUIForm"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Entity/Daoju_DB"),o=e("../UIFormwork/BaseUIForm"),r=e("../UIFormwork/E_UIForm"),a=e("../UIFormwork/UIMaskMgr"),s=e("../Utils/AllTexture"),u=e("../Entity/Role_DB"),l=e("../Utils/Util"),m=e("../Entity/ZhuangBei_DB"),c=e("../Utils/EventDispatch"),h=e("../Utils/Constant"),p=e("../UIFormwork/ResourcesMar"),d=e("../Entity/AllDB"),y=cc._decorator,f=y.ccclass,g=y.property,I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mUseBtn=null,e.mDaojuItem=null,e.mName=null,e.mLevel=null,e.mIcon=null,e.mDes=null,e.mPinzhi=null,e.mPinzhiStr="quality_bg%s",e.mLevelStr="LV.%s",e.mPinzhiColorArry=[cc.Color.GRAY,cc.Color.WHITE,cc.color(150,255,70,255),cc.color(70,150,255,255),cc.color(255,70,255,255),cc.color(255,255,70,255),cc.color(255,70,80,255)],e.mLastWupinItem=null,e.mItemAtlas=null,e.mUseTypeArry=["5012"],e.mLukyUseToDaoju=["5077","5073","5083","5080","5079","5084","5076","5052","5002","5051","5086"],e.mLukyUserToShenqi=["6621","6628","6633","6627","6632","6630","6635","6312","6333","6325","6334","6327","6319","6326","6512","6514","6516","6528","6534","6535","6536","6424","6418","6423","6427","6428","6435","6436"],e}return __extends(e,t),e.prototype.onLoad=function(){var o=this;this.GetUIType.UIForms_ShowMode=r.UIFormShowMode.ReverseChange,this.GetUIType.UIForm_AnimType=r.AnimType.Normal,this.GetUIType.UIForm_LucencyType=r.UIFormLucenyType.ImPenetrable,this.GetUIType.UIForms_Type=r.UIFormType.PopUp,this.RigisterButtonObjectEvent(a.default.instance().mMaskPanel,"_UIMaskPanel",function(){o.haiyuanUI()}),this.mUseBtn.on(cc.Node.EventType.TOUCH_END,function(){if(o.mDaojuItem.mID.toString()==o.mUseTypeArry[0]){var e=null;if(l.default.RandomNumber(1,h.default.mLukyBoxMaxLV)<h.default.mLukyBoxToDaojuDiaolv)e=o.OpenDoajuByBox();else{var t=l.default.RandomNumberByArry(o.mLukyUserToShenqi),n=d.default.instance().mIemMap.get(t.toString());if(n.mLevel>u.default.instance().mPlayer_DB.mLevel+10&&6==n.mPinzhi)e=o.OpenDoajuByBox();else{var i=new m.default;i.Clone(t.toString()),i.mCount=1,e=i}}0==e.mItemType?p.default.instance().ShowTip("开出:"+e.mName):p.default.instance().ShowTip("恭喜获得:"+e.mName),c.default.emit(h.TEventType.EUseDaoju_ChangeToRole,o.mDaojuItem.mID.toString(),1),c.default.emit(h.TEventType.EItemAddToRole,e),null==u.default.instance().GetItemByID(o.mDaojuItem.mID.toString())&&o.haiyuanUI()}})},e.prototype.OpenDoajuByBox=function(){var e=l.default.RandomNumberByArry(this.mLukyUseToDaoju),t=new i.default;return t.Clone(e.toString()),t.mCount=1,t},e.prototype.InitUIFormItme=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];null==this.mItemAtlas&&(this.mItemAtlas=s.default.instance().GetAtlasByName("items"));var n=e[0];if(null==this.mDaojuItem||this.mDaojuItem.mID!=n.mID){var i=e[1];null!=i&&(i!=this.mLastWupinItem&&this.mLastWupinItem&&(this.mLastWupinItem.mSelect.active=!1),this.mLastWupinItem=i,l.default.instance().mBeibaoDaojuSelect=i),this.mDaojuItem=n,this.mName.string=n.mName,this.mName.node.color=this.mPinzhiColorArry[n.mPinzhi],this.mLevel.string=n.mLevel.toString(),this.mIcon.spriteFrame=this.mItemAtlas.getSpriteFrame(n.mID.toString()),this.mDes.string=n.mDes;var o=n.mPinzhi,r=cc.js.formatStr(this.mPinzhiStr,o);this.mPinzhi.spriteFrame=this.mItemAtlas.getSpriteFrame(r),this.IsUse(n.mID.toString())?this.mUseBtn.active=!0:this.mUseBtn.active=!1}},e.prototype.IsUse=function(e){return 0<=this.mUseTypeArry.indexOf(e)},e.prototype.haiyuanUI=function(){this.mDaojuItem=null,this.CloseUIForm(this.node.name)},__decorate([g(cc.Node)],e.prototype,"mUseBtn",void 0),__decorate([g(cc.Label)],e.prototype,"mName",void 0),__decorate([g(cc.Label)],e.prototype,"mLevel",void 0),__decorate([g(cc.Sprite)],e.prototype,"mIcon",void 0),__decorate([g(cc.Label)],e.prototype,"mDes",void 0),__decorate([g(cc.Sprite)],e.prototype,"mPinzhi",void 0),e=__decorate([f],e)}(o.default);n.default=I,cc._RF.pop()},{"../Entity/AllDB":"AllDB","../Entity/Daoju_DB":"Daoju_DB","../Entity/Role_DB":"Role_DB","../Entity/ZhuangBei_DB":"ZhuangBei_DB","../UIFormwork/BaseUIForm":"BaseUIForm","../UIFormwork/E_UIForm":"E_UIForm","../UIFormwork/ResourcesMar":"ResourcesMar","../UIFormwork/UIMaskMgr":"UIMaskMgr","../Utils/AllTexture":"AllTexture","../Utils/Constant":"Constant","../Utils/EventDispatch":"EventDispatch","../Utils/Util":"Util"}],Daoju_DB:[function(e,t,n){"use strict";cc._RF.push(t,"710aebDrsxKGZFQwVyrcx+U","Daoju_DB"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Utils/Constant"),o=e("../UI/ItemBase"),r=e("./AllDB"),a=cc._decorator,s=a.ccclass,u=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Clone=function(e){var t=r.default.instance().mIemMap.get(e);null!=t?(this.mID=t.mID,this.mIcon=t.mID.toString(),this.mName=t.mName,this.mDes=t.mDes,this.mLevel=t.mLevel,this.mPinzhi=t.mPinzhi,this.mItemType=i.TItemType.daoju):console.log("没有该ID的道具!!:",e)},t=__decorate([s],t)}(o.default));n.default=u,cc._RF.pop()},{"../UI/ItemBase":"ItemBase","../Utils/Constant":"Constant","./AllDB":"AllDB"}],DazaoNeeDaojuItem:[function(e,t,n){"use strict";cc._RF.push(t,"9779ffGaYlLv5endDAD8fes","DazaoNeeDaojuItem"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../Utils/AllTexture"),s=e("../Entity/Role_DB"),i=e("../Utils/Util"),o=e("../Utils/Constant"),r=e("../UIFormwork/UIManager"),u=e("../Entity/AllDB"),l=cc._decorator,m=l.ccclass,c=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mIcon=null,e.mNeedAndHaveCount=null,e.mItemAtlas=null,e.mCountstr="%s/%s",e.mCurNeedDaojuID=null,e}return __extends(e,t),e.prototype.onLoad=function(){var n=this;i.default.RigisterButtonObjectEvent(this.node,this.node.name,function(){var e=r.default.instance().ShowUIForms(o.default.mDaojuPopUIForm),t=u.default.instance().mIemMap.get(n.mCurNeedDaojuID);e.InitUIFormItme(t)})},e.prototype.InitItem=function(e,t,n){if(null==this.mItemAtlas&&(this.mItemAtlas=a.default.instance().GetAtlasByName("items")),t.length-1<e)this.node.active=!1;else{this.mIcon.spriteFrame=this.mItemAtlas.getSpriteFrame(t[e]);var i=t[e];this.mCurNeedDaojuID=i;var o=s.default.instance().GetItemByID(i),r=0;o&&(r=o.mCount),this.mNeedAndHaveCount.string=cc.js.formatStr(this.mCountstr,n[e],r)}},__decorate([c(cc.Sprite)],e.prototype,"mIcon",void 0),__decorate([c(cc.Label)],e.prototype,"mNeedAndHaveCount",void 0),e=__decorate([m],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../Entity/AllDB":"AllDB","../Entity/Role_DB":"Role_DB","../UIFormwork/UIManager":"UIManager","../Utils/AllTexture":"AllTexture","../Utils/Constant":"Constant","../Utils/Util":"Util"}],DialogUIForm:[function(e,t,n){"use strict";cc._RF.push(t,"3f574MA0iVPDbDCedw4pvls","DialogUIForm"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,r=i.property,a=e("../UIFormwork/BaseUIForm"),s=e("../UIFormwork/E_UIForm"),u=e("../UIFormwork/UIMaskMgr"),l=e("../Utils/EventDispatch"),m=e("../Utils/Constant"),c=e("../UIFormwork/ResourcesMar"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mSureBtn=null,e.mCancelBtn=null,e.mDes=null,e.mGetReawardStr="获得%s%s",e.mCurDialogType=m.DialogType.shipin,e}return __extends(e,t),e.prototype.onLoad=function(){var e=this;this.GetUIType.UIForms_ShowMode=s.UIFormShowMode.ReverseChange,this.GetUIType.UIForm_AnimType=s.AnimType.Normal,this.GetUIType.UIForm_LucencyType=s.UIFormLucenyType.ImPenetrable,this.GetUIType.UIForms_Type=s.UIFormType.PopUp,this.RigisterButtonObjectEvent(u.default.instance().mMaskPanel,"_UIMaskPanel",function(){e.haiyuan()}),this.mSureBtn.node.parent.on(cc.Node.EventType.TOUCH_END,function(){e.mCurDialogType==m.DialogType.shipin&&e.playAds()}),this.mCancelBtn.node.parent.on(cc.Node.EventType.TOUCH_END,function(){e.haiyuan()})},e.prototype.InitUIFormItme=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.mCurDialogType=e[0],this.mDes.string=e[1],this.mSureBtn.string=e[2],this.mCancelBtn.string=e[3]},e.prototype.playAds=function(){var n=this;window.h5api.canPlayAd()?window.h5api.playAd(function(e){if(console.log("代码:"+e.code+",消息:"+e.message),1e4===e.code)console.log("开始播放");else if(10001===e.code){l.default.emit(m.TEventType.EChangeGemToRole,m.default.mChoujiangGetMaxGem_Video);var t=cc.js.formatStr(n.mGetReawardStr,m.default.mChoujiangGetMaxGem_Video,"钻石(视频播放完成)");c.default.instance().ShowTip(t)}n.CloseUIForm(n.node.name)}):this.haiyuan()},e.prototype.haiyuan=function(){this.CloseUIForm(this.node.name)},__decorate([r(cc.Label)],e.prototype,"mSureBtn",void 0),__decorate([r(cc.Label)],e.prototype,"mCancelBtn",void 0),__decorate([r(cc.Label)],e.prototype,"mDes",void 0),e=__decorate([o],e)}(a.default);n.default=h,cc._RF.pop()},{"../UIFormwork/BaseUIForm":"BaseUIForm","../UIFormwork/E_UIForm":"E_UIForm","../UIFormwork/ResourcesMar":"ResourcesMar","../UIFormwork/UIMaskMgr":"UIMaskMgr","../Utils/Constant":"Constant","../Utils/EventDispatch":"EventDispatch"}],E_UIForm:[function(e,t,n){"use strict";var i,o,r,a,s,u,l,m,c,h;cc._RF.push(t,"a743e1KBw5GmrALWAmUTdR6","E_UIForm"),Object.defineProperty(n,"__esModule",{value:!0}),(o=i||(i={}))[o.Normal=0]="Normal",o[o.Fixed=1]="Fixed",o[o.PopUp=2]="PopUp",n.UIFormType=i,(a=r||(r={}))[a.Normal=0]="Normal",a[a.ReverseChange=1]="ReverseChange",a[a.HideOther=2]="HideOther",n.UIFormShowMode=r,(u=s||(s={}))[u.Normal=0]="Normal",u[u.BigToSmall=1]="BigToSmall",u[u.SmallToBig=2]="SmallToBig",u[u.TopToBottom=3]="TopToBottom",u[u.ScaleByX0=4]="ScaleByX0",u[u.ScaleByX1=5]="ScaleByX1",n.AnimType=s,(m=l||(l={}))[m.Lucency=0]="Lucency",m[m.Translucence=1]="Translucence",m[m.ImPenetrable=2]="ImPenetrable",m[m.HightPenetrable=3]="HightPenetrable",m[m.Pentrate=4]="Pentrate",m[m.NoLucency=5]="NoLucency",n.UIFormLucenyType=l,(h=c||(c={})).MainUIForm="MainUIForm",h.AnncUIForm="AnncUIForm",h.HeishiUIForm="HeishiUIForm",h.TieJiangPuUIForm="TieJiangPuUIForm",h.MaoXianUIForm="MaoXianUIForm",h.EnemyUIForm="EnemyUIForm",h.FuBenUIForm="FuBenUIForm",h.BeiBaoUIForm="BeiBaoUIForm",h.RoleUIForm="RoleUIForm",h.ZhuangBeiPopUIForm="ZhuangBeiPopUIForm",h.SkillUIForm="SkillUIForm",h.ChoujiangUIForm="ChoujiangUIForm",n.CurUIForm=c,cc._RF.pop()},{}],EnemyItem:[function(e,t,n){"use strict";cc._RF.push(t,"997b0vMM6ZGjIgiAIpeSZ4k","EnemyItem"),Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Utils/AllTexture"),a=e("../Utils/Util"),i=e("../UIFormwork/UIManager"),o=e("../Utils/Constant"),s=e("../Utils/EventDispatch"),u=cc._decorator,l=u.ccclass,m=u.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mIcon=null,e.mName=null,e.mLevel=null,e.mEnemy_DB=null,e.mAllTexture=null,e.mLevStr="Lv.%s",e.mIocnStr="Texture/enemy/%s",e.mCurAtlas=null,e.mCurMaoxianIDAndIndex={maoxianID:0,enemyIndex:-1},e.mEnemyAttackBeishu=[10,20,35,50,60,70,90,100,110,125],e}return __extends(e,t),e.prototype.onLoad=function(){this.mCurAtlas=r.default.instance().GetAtlasByName("enemys"),this.mAllTexture=cc.find("Canvas").getComponent(r.default),this.node.on(cc.Node.EventType.TOUCH_END,this.OpenFight.bind(this))},e.prototype.OpenFight=function(){i.default.instance().ShowUIForms(o.default.mMaoxianFightUIForm).InitUIFormItme(o.AttackType.maoxian,this.mEnemy_DB,this.mCurMaoxianIDAndIndex.maoxianID,this.mCurMaoxianIDAndIndex.enemyIndex),s.default.emit("test","???",1,2,3)},e.prototype.InitItem=function(e,t,n){this.mCurMaoxianIDAndIndex.maoxianID=e,this.mCurMaoxianIDAndIndex.enemyIndex=t,this.mEnemy_DB=n;var i=this.mEnemy_DB.mLevel,o=a.default.instance().GetZhuangbeiLevSection(i);this.mEnemy_DB.mAttack=80+i*this.mEnemyAttackBeishu[o],this.mEnemy_DB.mHP=100+400*i,this.mEnemy_DB.mDef=25+10*i,this.mEnemy_DB.mMingzhong=118+10*i,this.mEnemy_DB.mShanbi=36+3*i,this.mEnemy_DB.mBaoji=45+4*i,this.mEnemy_DB.mBaojiAttack=127+11*i,this.mEnemy_DB.mFumian=82+7*i,this.mName.string=n.mName,this.mLevel.string=cc.js.formatStr(this.mLevStr,n.mLevel),this.mCurAtlas||(this.mCurAtlas=r.default.instance().GetAtlasByName("maps")),this.mIcon.spriteFrame=this.mCurAtlas.getSpriteFrame(n.mID.toString())},__decorate([m(cc.Sprite)],e.prototype,"mIcon",void 0),__decorate([m(cc.Label)],e.prototype,"mName",void 0),__decorate([m(cc.Label)],e.prototype,"mLevel",void 0),e=__decorate([l],e)}(cc.Component);n.default=c,cc._RF.pop()},{"../UIFormwork/UIManager":"UIManager","../Utils/AllTexture":"AllTexture","../Utils/Constant":"Constant","../Utils/EventDispatch":"EventDispatch","../Utils/Util":"Util"}],Enemy_DB:[function(e,t,n){"use strict";cc._RF.push(t,"56e88tleVBDX6jsKbqSZ2vy","Enemy_DB"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,r=(i.property,e("./AllDB")),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mID="0",e.mName="",e.mLevel=0,e.mHP=0,e.mAttack=0,e.mDef=0,e.mMingzhong=0,e.mShanbi=0,e.mBaoji=0,e.mBaojiAttack=0,e.mFumian=0,e.mHPRes=0,e.mSkillIDArry=[],e.mCurSkillIDArry=[],e.mDiaoluoDaojuArry=[],e.mDiaoluoZhuangbeiArry=[],e.mItemArry=[],e.mZhuangbeiArry=[],e.mCoin=0,e.mEXP=0,e.mGem=0,e.mItemDiaolv=0,e.mCoinDiaolv=0,e.mExpDiaolv=0,e}return __extends(e,t),e.prototype.Clone=function(e,t){void 0===t&&(t=1);var n=r.default.instance().mEnemyDBMap.get(e);this.mID=n.mID,this.mLevel=n.mLevel,this.mAttack=n.mAttack*t,this.mHP=n.mHP*t,this.mDef=n.mDef*t,this.mMingzhong=n.mMingzhong*t,this.mShanbi=n.mShanbi*t,this.mBaoji=n.mBaoji*t,this.mBaojiAttack=n.mBaojiAttack*t,this.mFumian=n.mFumian*t,this.mHPRes=n.mHPRes,this.mSkillIDArry=n.mSkillIDArry,this.mItemDiaolv=n.mItemDiaolv,this.mCoinDiaolv=n.mCoinDiaolv,this.mDiaoluoZhuangbeiArry=n.mDiaoluoZhuangbeiArry,this.mDiaoluoDaojuArry=n.mDiaoluoDaojuArry},e=__decorate([o],e)}(cc.Component);n.default=a,cc._RF.pop()},{"./AllDB":"AllDB"}],EnemysUIForm:[function(e,t,n){"use strict";cc._RF.push(t,"77fc3WWLGhIMaj1MBNEGvCL","EnemysUIForm"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../UIFormwork/BaseUIForm"),o=e("../UIFormwork/E_UIForm"),u=e("../Entity/AllDB"),r=e("../UIFormwork/UIManager"),s=e("../UI/EnemyItem"),l=e("../Utils/Util"),m=e("../Entity/Role_DB"),a=e("../Utils/Constant"),c=e("../Utils/EventDispatch"),h=cc._decorator,p=h.ccclass,d=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mLayout=null,e.mEnemyItemPrefab=null,e.mWujinBtn=null,e.mAddCountBtn=null,e.mCutCountBtn=null,e.mCurCountLabel=null,e.mCurCount=1,e.mEnemyItemPool=null,e.mEnemyItemHeight=199,e.mRaw=3,e.mEnemyIDArry=new Array,e.mEnemyIDs="",e.mLevels=[],e.isWujin=0,e.mLayoutChildNode=new Array,e.mMainAtlas=null,e.mCurMaoxianID=0,e}return __extends(e,t),e.prototype.onLoad=function(){var e=this;this.GetUIType.UIForms_ShowMode=o.UIFormShowMode.ReverseChange,this.GetUIType.UIForm_AnimType=o.AnimType.Normal,this.GetUIType.UIForm_LucencyType=o.UIFormLucenyType.ImPenetrable,this.GetUIType.UIForms_Type=o.UIFormType.PopUp,this.mEnemyItemPool=new cc.NodePool,this.RigisterButtonObjectEvent(this.node,"Close",this.CloseSelfUIForm.bind(this)),this.RigisterButtonObjectEvent(this.node,"addCount",this.AddCountBtn.bind(this)),this.RigisterButtonObjectEvent(this.node,"cutCount",this.CutCountBtn.bind(this)),this.mCurCount=m.default.instance().mFightCount,this.mCurCountLabel.string=this.mCurCount.toString();var t=l.default.UnSerializer(a.TLocalStorage.EWujin);t&&this.ChangeFightPattern(t),1==this.isWujin?this.mWujinBtn.spriteFrame=this.mMainAtlas.getSpriteFrame("check_box_active_press"):this.mWujinBtn.spriteFrame=this.mMainAtlas.getSpriteFrame("check_box_normal_disable"),this.mWujinBtn.node.on(cc.Node.EventType.TOUCH_END,function(){1==e.isWujin?(e.ChangeFightPattern(0),e.mWujinBtn.spriteFrame=e.mMainAtlas.getSpriteFrame("check_box_normal_disable")):(e.ChangeFightPattern(1),e.mWujinBtn.spriteFrame=e.mMainAtlas.getSpriteFrame("check_box_active_press")),l.default.Serializer(a.TLocalStorage.EWujin,e.isWujin,!1)})},e.prototype.InitUIFormItme=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.mEnemyIDs=e[1],this.mLevels=e[0].split(","),this.mCurMaoxianID=e[2];for(var n=0;n<5;n++){var i=cc.instantiate(this.mEnemyItemPrefab);this.mEnemyItemPool.put(i)}for(var o=this.mEnemyIDs.split(","),r=0;r<o.length;r++){var a=r,s=u.default.instance().mEnemyDBMap.get(o[a]);s.mLevel=Number(this.mLevels[a]),this.InitItem(a,s)}l.default.SetLayoudHeight(o.length,this.mRaw,this.mEnemyItemHeight,this.mLayout.node)},e.prototype.InitItem=function(e,t){var n=null;(n=0<this.mEnemyItemPool.size()?this.mEnemyItemPool.get():cc.instantiate(this.mEnemyItemPrefab)).parent=this.mLayout.node,n.position=cc.p(0,0);var i=n.getComponent(s.default);this.mLayoutChildNode.push(n);var o=m.default.instance().mEnemyIndexToNodeMap,r=this.mCurMaoxianID+","+e;o.set(r,i.node),i.InitItem(this.mCurMaoxianID,e,t);var a=m.default.instance().mMaoxianIDAndEnemyIndex;this.mCurMaoxianID>a.maoxianID?i.node.active=!1:this.mCurMaoxianID==a.maoxianID?e>a.enemyIndex&&(i.node.active=!1):i.node.active=!0},e.prototype.AddCountBtn=function(){this.mCurCount++,this.setFightCount()},e.prototype.CutCountBtn=function(){this.mCurCount--,this.setFightCount()},e.prototype.setFightCount=function(){this.mCurCount%=10,0==this.mCurCount&&(this.mCurCount=10),this.ChangeFightPattern(0),this.mCurCountLabel.string=this.mCurCount.toString(),m.default.instance().mFightCount=this.mCurCount,this.mWujinBtn.spriteFrame=this.mMainAtlas.getSpriteFrame("check_box_normal_disable"),l.default.Serializer(a.TLocalStorage.ERole,m.default.instance()),l.default.Serializer(a.TLocalStorage.EWujin,this.isWujin)},e.prototype.ChangeFightPattern=function(e){this.isWujin=e,c.default.emit(a.TEventType.EWujin,e)},e.prototype.CloseSelfUIForm=function(){for(var e=0;e<this.mLayoutChildNode.length;e++){var t=this.mLayoutChildNode[e];t.parent=null,this.mEnemyItemPool.put(t)}r.default.instance().SetCurUIForm=o.CurUIForm.MaoXianUIForm.toString(),this.mLayoutChildNode.length=0,this.CloseUIForm(this.node.name)},__decorate([d(cc.Layout)],e.prototype,"mLayout",void 0),__decorate([d(cc.Prefab)],e.prototype,"mEnemyItemPrefab",void 0),__decorate([d(cc.Sprite)],e.prototype,"mWujinBtn",void 0),__decorate([d(cc.Node)],e.prototype,"mAddCountBtn",void 0),__decorate([d(cc.Node)],e.prototype,"mCutCountBtn",void 0),__decorate([d(cc.Label)],e.prototype,"mCurCountLabel",void 0),__decorate([d(cc.SpriteAtlas)],e.prototype,"mMainAtlas",void 0),e=__decorate([p],e)}(i.default);n.default=y,cc._RF.pop()},{"../Entity/AllDB":"AllDB","../Entity/Role_DB":"Role_DB","../UI/EnemyItem":"EnemyItem","../UIFormwork/BaseUIForm":"BaseUIForm","../UIFormwork/E_UIForm":"E_UIForm","../UIFormwork/UIManager":"UIManager","../Utils/Constant":"Constant","../Utils/EventDispatch":"EventDispatch","../Utils/Util":"Util"}],Enemy:[function(e,t,n){"use strict";cc._RF.push(t,"1554cfMv0JPo5ilJH6IuOLv","Enemy"),Object.defineProperty(n,"__esModule",{value:!0});var c=e("../Utils/Util"),i=e("./FightUnit"),h=e("../Utils/Constant"),o=cc._decorator,r=o.ccclass,a=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this)},t.prototype.Attack=function(e){var t=cc.moveTo(.15,-8,-8),n=cc.moveTo(.15,0,0);c.default.setSeq(this.mIocn.node,[t,n]),e.GetAttack(this)},t.prototype.GetAttack=function(e){var t=cc.Color.RED,n="-",i=e.mItemDB.mCurSkillIDArry.length,o=0;c.default.RandomNumber(1,100)<=h.default.mSkillTriggerOdds&&(o=c.default.RandomNumber(1,i-1)),i<=o&&(o=i-1==0?0:i-1);var r=e.mItemDB.mCurSkillIDArry[o],a=this.mAllDB.mSkillDBMap.get(r);this.mCurSkillID=a.mID,this.mAnimSpri.node.active=!0,e.mSelfAttack=!1,this.mSelfAttack=!0;var s=0;c.default.RandomNumber(1,100)<=e.mItemDB.mBaoji/h.default.mBaojiTriggerOdds&&(s=e.mItemDB.mBaojiAttack,t=this.mBaojiColor,n="暴击-");if(c.default.RandomNumber(1,100)<=this.mItemDB.mShanbi/h.default.mShanbiTriggerOdds)return!0,void this.GetPiaoxue("miss",this.mMissColor,this,cc.p(67,98));var u=!1;c.default.RandomNumber(1,100)<=this.mItemDB.mFumian/h.default.mFukangTriggerOdds&&(u=!0),0<a.mIsBUFF&&!u&&1==a.mBuffTarget&&this.mQueue.unshift(a);var l=e.mItemDB.mAttack;0<s&&(l=s);var m=l*a.mAddAttack-this.mDef;m=m<=0?0:m,n+=Math.floor(m),this.GetPiaoxue(n,t,this,cc.p(-80,82)),this.DelHP(m),8==a.mID&&e.AddHP(m*a.mBuffSum)},t=__decorate([r],t)}(i.default));n.default=a,cc._RF.pop()},{"../Utils/Constant":"Constant","../Utils/Util":"Util","./FightUnit":"FightUnit"}],EventDispatch:[function(e,t,n){"use strict";cc._RF.push(t,"dedd2Mi/UJC5YloP/oU5muf","EventDispatch"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function s(){}return s.register=function(e,t,n){s.listeners[e]||(s.listeners[e]=[]),s.listeners[e].push(new o(t,n))},s.remove=function(e,t,n){var i=s.listeners[e];if(i){for(var o=i.length,r=0;r<o;r++){if(i[r].compar(n)){i.splice(r,1);break}}0==i.length&&delete s.listeners[e]}},s.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=s.listeners[e];if(i)for(var o=i.length,r=0;r<o;r++){var a=i[r];a.notify.apply(a,t)}},s.listeners={},s}();n.default=i;var o=function(){function e(e,t){this.callback=null,this.context=null;this.callback=e,this.context=t}return e.prototype.notify=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n;(n=this.callback).call.apply(n,[this.context].concat(e))},e.prototype.compar=function(e){return e==this.context},e}();cc._RF.pop()},{}],FightDaojuPopUIForm:[function(e,t,n){"use strict";cc._RF.push(t,"15fd04F+VlDHoGVNZsMD2Pv","FightDaojuPopUIForm"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../UIFormwork/BaseUIForm"),o=e("../UIFormwork/E_UIForm"),r=e("../Utils/AllTexture"),a=cc._decorator,s=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mDaojuItem=null,e.mName=null,e.mLevel=null,e.mIcon=null,e.mDes=null,e.mPinzhi=null,e.mPinzhiStr="quality_bg%s",e.mLevelStr="LV.%s",e.mPinzhiColorArry=[cc.Color.GRAY,cc.Color.WHITE,cc.color(150,255,70,255),cc.color(70,150,255,255),cc.color(255,70,255,255),cc.color(255,255,70,255),cc.color(255,70,80,255)],e.mLastWupinItem=null,e.mItemAtlas=null,e}return __extends(e,t),e.prototype.onLoad=function(){var e=this;this.GetUIType.UIForms_ShowMode=o.UIFormShowMode.Normal,this.GetUIType.UIForm_AnimType=o.AnimType.Normal,this.GetUIType.UIForm_LucencyType=o.UIFormLucenyType.ImPenetrable,this.GetUIType.UIForms_Type=o.UIFormType.Normal,this.RigisterButtonObjectEvent(this.node,this.node.name,function(){e.haiyuanUI()})},e.prototype.InitUIFormItme=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];null==this.mItemAtlas&&(this.mItemAtlas=r.default.instance().GetAtlasByName("items"));var n=e[0];if(null==this.mDaojuItem||this.mDaojuItem.mID!=n.mID){this.mDaojuItem=n,this.mName.string=n.mName,this.mName.node.color=this.mPinzhiColorArry[n.mPinzhi],this.mLevel.string=n.mLevel.toString(),this.mIcon.spriteFrame=this.mItemAtlas.getSpriteFrame(n.mIcon),this.mDes.string=n.mDes;var i=n.mPinzhi,o=cc.js.formatStr(this.mPinzhiStr,i);this.mPinzhi.spriteFrame=this.mItemAtlas.getSpriteFrame(o)}},e.prototype.haiyuanUI=function(){this.mDaojuItem=null,this.CloseUIForm(this.node.name)},__decorate([u(cc.Label)],e.prototype,"mName",void 0),__decorate([u(cc.Label)],e.prototype,"mLevel",void 0),__decorate([u(cc.Sprite)],e.prototype,"mIcon",void 0),__decorate([u(cc.Label)],e.prototype,"mDes",void 0),__decorate([u(cc.Sprite)],e.prototype,"mPinzhi",void 0),e=__decorate([s],e)}(i.default);n.default=l,cc._RF.pop()},{"../UIFormwork/BaseUIForm":"BaseUIForm","../UIFormwork/E_UIForm":"E_UIForm","../Utils/AllTexture":"AllTexture"}],FightEndUIForm:[function(e,t,n){"use strict";cc._RF.push(t,"1babaSPDfBFQZkMKPomjkU3","FightEndUIForm"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../UIFormwork/BaseUIForm"),o=e("../UIFormwork/E_UIForm"),p=e("../Utils/Constant"),d=e("../Entity/Role_DB"),h=e("../Utils/EventDispatch"),y=e("../Utils/Util"),f=e("../Entity/Daoju_DB"),r=e("../UI/WuPinItem"),a=e("../Utils/CCCompentHelper"),g=e("../Entity/ZhuangBei_DB"),s=cc._decorator,u=s.ccclass,l=s.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mBg=null,e.mLayoud=null,e.mIsWinIcon=null,e.mWinIcon=null,e.mLoseIcon=null,e.mGetCoin=null,e.mGetEXP=null,e.mItemPrefab=null,e.mItemPool=new cc.NodePool,e.mIsHaveItem=!1,e.mRow=4,e.mItemNodeHeight=95,e}return __extends(e,t),e.prototype.onLoad=function(){this.GetUIType.UIForms_ShowMode=o.UIFormShowMode.HideOther,this.GetUIType.UIForm_AnimType=o.AnimType.Normal,this.GetUIType.UIForm_LucencyType=o.UIFormLucenyType.Lucency,this.GetUIType.UIForms_Type=o.UIFormType.Normal,this.RigisterButtonObjectEvent(this.node,this.node.name,this.back.bind(this));for(var e=0;e<5;e++){var t=cc.instantiate(this.mItemPrefab);this.mItemPool.put(t)}},e.prototype.InitUIFormItme=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],i=e[1],o=e[2],r=e[3],a=e[4];if(null==r){if(!(i.mCurHP<=0))return this.mIsWinIcon.spriteFrame=this.mLoseIcon,this.mIsWinIcon.node.scale=1.3,this.mIsWinIcon.node.active=!0,this.mIsWinIcon.node.runAction(cc.scaleTo(.2,1)),this.mGetCoin.string="0",void(this.mGetEXP.string="0");this.mIsWinIcon.spriteFrame=this.mWinIcon,this.mIsWinIcon.node.scale=0,this.mIsWinIcon.node.active=!0,this.mIsWinIcon.node.runAction(cc.scaleTo(.2,1))}else this.mIsWinIcon.spriteFrame=this.mWinIcon,this.mIsWinIcon.node.scale=0,this.mIsWinIcon.node.active=!0,this.mIsWinIcon.node.runAction(cc.scaleTo(.2,1));for(var s=0;s<a.mDiaoluoDaojuArry.length;s++){var u=a.mDiaoluoDaojuArry[s],l=new f.default;l.Clone(u.id),l.mCount=u.count,this.CreateNewItem(l)}for(s=0;s<a.mDiaoluoZhuangbeiArry.length;s++){var m=a.mDiaoluoZhuangbeiArry[s],c=new g.default;c.Clone(m),c.mCount=1,this.CreateNewItem(c)}null!=a&&(a.mDiaoluoDaojuArry=[],a.mDiaoluoZhuangbeiArry=[]),y.default.SetLayoudHeight(this.mLayoud.childrenCount,this.mRow,this.mItemNodeHeight,this.mLayoud,2),n==p.AttackType.maoxian?this.MaoxianJiesuan(n,o,i,a):n==p.AttackType.fuben&&this.FubenJiesuan(a.mFubenLev),y.default.Serializer(p.TLocalStorage.ERole,d.default.instance()),h.default.emit(p.TEventType.EShuxingChangeToUI)},e.prototype.MaoxianJiesuan=function(e,t,n,i){var o=0,r=0;if(e==p.AttackType.maoxian){o=5*n.mItemDB.mLevel+45,r=2*n.mItemDB.mLevel+45;var a=t-i.mMeetVariationEnemyCount-i.mMeetEliteEnemyCount,s=o*a,u=1.2*o*i.mMeetEliteEnemyCount,l=1.35*o*i.mMeetVariationEnemyCount;o=Math.floor(s+u+l);var m=r*a,c=1.2*r*i.mMeetEliteEnemyCount,h=1.35*r*i.mMeetVariationEnemyCount;i.mMeetVariationEnemyCount=0,i.mMeetEliteEnemyCount=0,r=Math.floor(m+c+h),this.mGetCoin.string=r.toString(),this.mGetEXP.string=o.toString(),d.default.instance().AddEXP(o),d.default.instance().ChangeCoin(r)}},e.prototype.FubenJiesuan=function(e){var t=e*p.default.mFubenGetExpof10,n=e*p.default.mFubenGetCoinof10;this.mGetCoin.string=n.toString(),this.mGetEXP.string=t.toString(),d.default.instance().AddEXP(t),d.default.instance().ChangeCoin(n)},e.prototype.CreateNewItem=function(e){console.log("掉落物品:",e.mName);var t=null;(t=0<this.mItemPool.size()?this.mItemPool.get():cc.instantiate(this.mItemPrefab)).parent=this.mLayoud,t.getComponent(r.default).InitItem(e,null,this),h.default.emit(p.TEventType.EItemAddToRole,e)},e.prototype.back=function(){var e=a.default.FindChildNode(this.node.parent,"FightDaojuPopUIForm");if(!e||!e.active){for(var t=0;t<this.mLayoud.children.length;t++){var n=this.mLayoud.children[t];n.parent=null,this.mItemPool.put(n)}this.mLayoud.removeAllChildren(),this.CloseUIForm(p.default.mMaoxianFightUIForm),this.CloseUIForm(p.default.mFightEndUIForm)}},__decorate([l(cc.Node)],e.prototype,"mBg",void 0),__decorate([l(cc.Node)],e.prototype,"mLayoud",void 0),__decorate([l(cc.Sprite)],e.prototype,"mIsWinIcon",void 0),__decorate([l(cc.SpriteFrame)],e.prototype,"mWinIcon",void 0),__decorate([l(cc.SpriteFrame)],e.prototype,"mLoseIcon",void 0),__decorate([l(cc.Label)],e.prototype,"mGetCoin",void 0),__decorate([l(cc.Label)],e.prototype,"mGetEXP",void 0),__decorate([l(cc.Prefab)],e.prototype,"mItemPrefab",void 0),e=__decorate([u],e)}(i.default);n.default=m,cc._RF.pop()},{"../Entity/Daoju_DB":"Daoju_DB","../Entity/Role_DB":"Role_DB","../Entity/ZhuangBei_DB":"ZhuangBei_DB","../UI/WuPinItem":"WuPinItem","../UIFormwork/BaseUIForm":"BaseUIForm","../UIFormwork/E_UIForm":"E_UIForm","../Utils/CCCompentHelper":"CCCompentHelper","../Utils/Constant":"Constant","../Utils/EventDispatch":"EventDispatch","../Utils/Util":"Util"}],FightUnit:[function(e,t,n){"use strict";cc._RF.push(t,"8e03f8yRn5F3onC9YI3xpFy","FightUnit"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Utils/Util"),o=cc._decorator,r=o.ccclass,a=o.property,s=e("../Utils/AllTexture"),u=e("../UI/BuffItem"),l=e("../Entity/AllDB"),m=e("../Utils/Constant"),c=e("../UI/PiaoXue"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mGroud=null,e.mPiaoxuePrefab=null,e.mIocn=null,e.mName=null,e.mHP=null,e.mHPNum=null,e.mSelfAttack=!1,e.mCurHP=0,e.mMaxHP=0,e.mNextHP=0,e.mAttack=0,e.mDef=0,e.mBaoji=0,e.mShanbi=0,e.mAnimationFrame=8,e.mTimer=0,e.mAddTimer=0,e.mFighteffectTimer=.1,e.mAnimSpri=null,e.mCurAtlas=null,e.mSkillAtlas=new Map,e.mCurSkillID=1,e.mAni_skill="ani_skill%s",e.mAni_skill_="ani_skill%s_",e.mIocnStr="Texture/enemy/%s",e.mScheduleCallBack=null,e.mFightEnd=!1,e.mQueue=new Array,e.mActiveBUffItem=new Array,e.mCurTarget=null,e.mXuanyun=!1,e.mAllDB=null,e.mCurBodyAtlas=null,e.mPiaoxuePool=new cc.NodePool,e.mBaojiColor=cc.color(255,50,255,255),e.mMissColor=cc.color(128,128,128,255),e.mCurPiaoxueArry=[],e}return __extends(e,t),e.prototype.onLoad=function(){this.mCurBodyAtlas=s.default.instance().GetAtlasByName("enemys"),this.mCurAtlas=s.default.instance().GetAtlasByName(cc.js.formatStr(this.mAni_skill,this.mCurSkillID)),this.mFighteffectTimer=i.default.UnSerializer(m.TLocalStorage.EFightEffect,!1),this.mFighteffectTimer||(this.mFighteffectTimer=.1),this.mAllDB=cc.find("Canvas").getComponent(l.default);for(var e=0;e<5;e++){var t=cc.instantiate(this.mPiaoxuePrefab);this.mPiaoxuePool.put(t)}},e.prototype.ChangeBeishu=function(e){this.mFighteffectTimer=e},e.prototype.StopEffect=function(){this.mFightEnd=!0,this.mAnimSpri.spriteFrame=null},e.prototype.PlayEffect=function(){this.mAnimSpri.node.active&&(this.mCurAtlas=s.default.instance().GetAtlasByName(cc.js.formatStr(this.mAni_skill,this.mCurSkillID)),this.mTimer+=1,this.mTimer-1>=this.mCurAtlas.getSpriteFrames().length?(this.mAnimSpri.node.active=!1,this.mTimer=0,this.mAnimSpri.spriteFrame=null):this.mAnimSpri.spriteFrame=this.mCurAtlas.getSpriteFrame(cc.js.formatStr(this.mAni_skill_,this.mCurSkillID)+this.mTimer))},e.prototype.ChangeHPItem=function(e,t){t?this.mCurHP+=e:this.mCurHP-=e,this.mCurHP<=0&&(this.mCurHP=0),this.mHP.fillRange=this.mCurHP/this.mMaxHP,this.mHPNum.string=cc.js.formatStr("%s/%s",this.mCurHP,this.mMaxHP)},e.prototype.AddHP=function(e){e=Math.floor(e),this.ChangeHPItem(e,!0)},e.prototype.DelHP=function(e){e=Math.floor(e),this.ChangeHPItem(e,!1)},e.prototype.AddAttack=function(e){e=Math.floor(e),this.mItemDB.mAttack+=e},e.prototype.DelAttack=function(e){e=Math.floor(e),this.mItemDB.mAttack-=e,this.mItemDB.mAttack<=0&&(this.mItemDB.mAttack=0)},e.prototype.AddDef=function(e){e=Math.floor(e),this.mItemDB.mDef+=e},e.prototype.DelDef=function(e){e=Math.floor(e),this.mItemDB.mDef-=e,this.mItemDB.mDef<=0&&(this.mItemDB.mDef=0)},e.prototype.Init=function(e,t,n){void 0===n&&(n=cc.Color.WHITE),this.mXuanyun=!1,this.mSelfAttack=!1,this.mCurTarget=t,this.mItemDB=e,this.mName.string=e.mName,this.mName.node.color=n,this.mMaxHP=e.mHP,this.mCurHP=e.mHP,this.mAttack=e.mAttack,this.mDef=e.mDef,this.mHP.fillRange=this.mCurHP/this.mMaxHP,this.mHPNum.string=cc.js.formatStr("%s/%s",this.mCurHP,this.mMaxHP),this.mIocn.spriteFrame=this.mCurBodyAtlas.getSpriteFrame(e.mID.toString())},e.prototype.StarBuffTime=function(e){var t=(0<this.mAllDB.mBuffItemPool.size()?this.mAllDB.mBuffItemPool.get():cc.instantiate(this.mAllDB.mBuffItemPrefab)).getComponent(u.default);t.node.parent=this.mGroud,t.InitBuff(this,this.mCurTarget,e),this.mActiveBUffItem.push(t)},e.prototype.update=function(e){this.mAnimSpri.node.active&&(this.mAddTimer+=e,this.mAddTimer>=this.mFighteffectTimer&&(this.mAddTimer=0,this.PlayEffect())),0<this.mQueue.length&&this.StarBuffTime(this.mQueue.pop())},e.prototype.Attack=function(e){},e.prototype.GetAttack=function(e){},e.prototype.GetPiaoxue=function(e,t,n,i){(0<this.mPiaoxuePool.size()?this.mPiaoxuePool.get():cc.instantiate(this.mPiaoxuePrefab)).getComponent(c.default).InitItem(e,t,n,i)},__decorate([a(cc.Node)],e.prototype,"mGroud",void 0),__decorate([a(cc.Prefab)],e.prototype,"mPiaoxuePrefab",void 0),__decorate([a(cc.Sprite)],e.prototype,"mIocn",void 0),__decorate([a(cc.Label)],e.prototype,"mName",void 0),__decorate([a(cc.Sprite)],e.prototype,"mHP",void 0),__decorate([a(cc.Label)],e.prototype,"mHPNum",void 0),__decorate([a(cc.Sprite)],e.prototype,"mAnimSpri",void 0),e=__decorate([r],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../Entity/AllDB":"AllDB","../UI/BuffItem":"BuffItem","../UI/PiaoXue":"PiaoXue","../Utils/AllTexture":"AllTexture","../Utils/Constant":"Constant","../Utils/Util":"Util"}],FuBenUIForm:[function(e,t,n){"use strict";cc._RF.push(t,"fab75WIHg5F3o43BQckhtJe","FuBenUIForm"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,r=i.property,a=e("../UIFormwork/UIManager"),s=e("../UIFormwork/BaseUIForm"),u=e("../UIFormwork/E_UIForm"),l=e("../Entity/AllDB"),m=e("../Utils/Util"),c=e("../Entity/Role_DB"),h=e("../Utils/Constant"),p=e("../UI/FubenItem"),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mLayout=null,e.mFubenItemPrefab=null,e.mFubenItemPool=null,e.mMaoxianBGArry=[],e.mFubenQuanCount=null,e.mFubenItemHeight=108,e.mRaw=1,e.mAllDB=null,e}return __extends(e,t),e.prototype.onLoad=function(){this.GetUIType.UIForms_ShowMode=u.UIFormShowMode.Normal,this.GetUIType.UIForm_AnimType=u.AnimType.Normal,this.GetUIType.UIForm_LucencyType=u.UIFormLucenyType.ImPenetrable,this.GetUIType.UIForms_Type=u.UIFormType.Normal,this.mFubenItemPool=new cc.NodePool,this.mAllDB=cc.find("Canvas").getComponent(l.default);for(var e=0;e<5;e++){var t=cc.instantiate(this.mFubenItemPrefab);this.mFubenItemPool.put(t)}for(var n=0;n<this.mAllDB.mMaoxianDBMap.size;n++){var i=n+1,o=this.mAllDB.mMaoxianDBMap.get(i.toString());this.InitItem(i,o)}},e.prototype.onEnable=function(){var e=Math.floor(c.default.instance().mPlayer_DB.mLevel/10);m.default.SetLayoudHeight(e,this.mRaw,this.mFubenItemHeight,this.mLayout.node,1,0),this.FubenQuanCount()},e.prototype.FubenQuanCount=function(){var e=c.default.instance().GetItemByID("5009");this.mFubenQuanCount.string=e?e.mCount.toString():"0"},e.prototype.InitItem=function(e,t){if(t.mAttackType==h.AttackType.fuben){var n=null;(n=0<this.mFubenItemPool.size()?this.mFubenItemPool.get():cc.instantiate(this.mFubenItemPrefab)).parent=this.mLayout.node,n.position=cc.p(0,-54),n.getComponent(p.default).InitItem(e,t,this)}},e.prototype.onDisable=function(){this.mLayout.node.parent.getComponent(cc.ScrollView).scrollToTop(0)},e.prototype.CloseSelfUIForm=function(){a.default.instance().SetCurUIForm=u.CurUIForm.MainUIForm.toString(),this.mLayout.node.parent.getComponent(cc.ScrollView).scrollToTop(0),this.CloseUIForm(this.node.name)},__decorate([r(cc.Layout)],e.prototype,"mLayout",void 0),__decorate([r(cc.Prefab)],e.prototype,"mFubenItemPrefab",void 0),__decorate([r([cc.SpriteFrame])],e.prototype,"mMaoxianBGArry",void 0),__decorate([r(cc.Label)],e.prototype,"mFubenQuanCount",void 0),e=__decorate([o],e)}(s.default);n.default=d,cc._RF.pop()},{"../Entity/AllDB":"AllDB","../Entity/Role_DB":"Role_DB","../UI/FubenItem":"FubenItem","../UIFormwork/BaseUIForm":"BaseUIForm","../UIFormwork/E_UIForm":"E_UIForm","../UIFormwork/UIManager":"UIManager","../Utils/Constant":"Constant","../Utils/Util":"Util"}],FubenItem:[function(e,t,n){"use strict";cc._RF.push(t,"a1167OB4o5BjaCEwaXXz/61","FubenItem"),Object.defineProperty(n,"__esModule",{value:!0});var s=e("../Utils/AllTexture"),i=e("../Utils/CCCompentHelper"),o=e("../UIFormwork/UIManager"),r=e("../Utils/Constant"),u=e("../UIFormwork/ResourcesMar"),l=e("../Entity/Role_DB"),a=e("../Utils/EventDispatch"),m=cc._decorator,c=m.ccclass,h=m.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mFubenName=null,e.mFubenLevel=null,e.mBg=null,e.mEnemyArry=[],e.mMaoxianItem_DB=null,e.mChaoxueStr="Texture/chaoxue/%s",e.mBGAtlas=null,e.mEnemyAtlas=null,e.mCurFubenID=0,e.mFubenUIForm=null,e.mCurLevArry=[9,19,29,39,49,59,69,78,89,99,101],e}return __extends(e,t),e.prototype.onLoad=function(){this.mBGAtlas=s.default.instance().GetAtlasByName("maps"),i.default.FindChildNode(this.node,this.node.name).on(cc.Node.EventType.TOUCH_END,function(){var e=l.default.instance().GetItemByID("5009");if(null!=e){a.default.emit(r.TEventType.EUseDaoju_ChangeToRole,e.mID.toString(),1);var t=null==e?"0":e.mCount.toString();this.mFubenUIForm.mFubenQuanCount.string=t,o.default.instance().ShowUIForms(r.default.mMaoxianFightUIForm).InitUIFormItme(r.AttackType.fuben,null,0,0,this.mMaoxianItem_DB)}else u.default.instance().ShowTip("副本挑战卷不足")}.bind(this)),a.default.register(r.TEventType.ENewFuben,this.OpenThisFuben,this)},e.prototype.OpenThisFuben=function(){for(var e=0,t=0;t<this.mCurLevArry.length;t++){var n=this.mCurLevArry[t];if(l.default.instance().mPlayer_DB.mLevel<n){e=t;break}}if(0!=e){var i=e-1;this.mCurFubenID<=i&&(this.node.active=!0)}},e.prototype.InitItem=function(e,t,n){if(l.default.instance().mPlayer_DB.mLevel<Number(t.mLevel))this.node.active=!1;else{this.node.active=!0,this.mFubenUIForm=n,this.mCurFubenID=e,this.mMaoxianItem_DB=t,this.mFubenLevel.string=cc.js.formatStr("Lv.%s",t.mLevel),this.mFubenName.string=t.mName;t.mBG;var i=cc.js.formatStr(this.mChaoxueStr,t.mBG);u.default.LoadSPrite(i,this.mBg),this.mEnemyAtlas||(this.mEnemyAtlas=s.default.instance().GetAtlasByName("enemys"));for(var o=t.mEnemyIDArry.split(","),r=0;r<o.length;r++){var a=o[r];this.mEnemyArry[r].spriteFrame=this.mEnemyAtlas.getSpriteFrame(a)}}},__decorate([h(cc.Label)],e.prototype,"mFubenName",void 0),__decorate([h(cc.Label)],e.prototype,"mFubenLevel",void 0),__decorate([h(cc.Sprite)],e.prototype,"mBg",void 0),__decorate([h([cc.Sprite])],e.prototype,"mEnemyArry",void 0),e=__decorate([c],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../Entity/Role_DB":"Role_DB","../UIFormwork/ResourcesMar":"ResourcesMar","../UIFormwork/UIManager":"UIManager","../Utils/AllTexture":"AllTexture","../Utils/CCCompentHelper":"CCCompentHelper","../Utils/Constant":"Constant","../Utils/EventDispatch":"EventDispatch"}],HeishiUIForm:[function(e,t,n){"use strict";cc._RF.push(t,"a8112joWOdCKLdin+pskaar","HeishiUIForm"),Object.defineProperty(n,"__esModule",{value:!0});var m=e("../UIFormwork/E_UIForm"),c=e("../Entity/Daoju_DB"),h=e("../UI/TieJiangPuItem"),i=e("../UIFormwork/BaseUIForm"),p=e("../Utils/EventDispatch"),d=e("../Utils/Constant"),y=e("../Utils/Util"),f=e("../Entity/Role_DB"),g=e("../UIFormwork/UIManager"),I=e("../Entity/AllDB"),a=e("../Utils/AllTexture"),v=e("../UIFormwork/ResourcesMar"),o=cc._decorator,r=o.ccclass,s=o.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mToggleArry=[],e.mLayoutArry=[],e.mName=null,e.mIcon=null,e.mDes=null,e.mNeedCoin=null,e.mCurOpenLayout=null,e.mItemPrefab=null,e.mItemPool=new cc.NodePool,e.mRow=5,e.mItemNodeHeight=75,e.mCurSelectDaojuItem=null,e.mCurShopItem=null,e.mLastTiejiangItemScri=null,e.mItemAtlas=null,e}return __extends(e,t),e.prototype.onLoad=function(){var t=this;this.GetUIType.UIForms_ShowMode=m.UIFormShowMode.Normal,this.GetUIType.UIForm_AnimType=m.AnimType.Normal,this.GetUIType.UIForm_LucencyType=m.UIFormLucenyType.ImPenetrable,this.GetUIType.UIForms_Type=m.UIFormType.Normal;var e=null;this.RigisterButtonObjectEvent(this.node,"backBtn",function(){g.default.instance().SetCurUIForm=m.CurUIForm.MainUIForm.toString(),t.ToggleClick0(),t.mToggleArry[0].isChecked=!0,t.mLastTiejiangItemScri.mSelect.active=!1,t.InitItem(null,null,e),t.CloseUIForm(t.node.name)}),this.mCurOpenLayout=this.mLayoutArry[0],this.RigisterButtonObjectEvent(this.node,"buyBtn",function(){if(t.mCurShopItem.mNeedGem<=f.default.instance().mPlayer_DB.mGem){if(0<t.mCurShopItem.mGetCoin)f.default.instance().mPlayer_DB.mCoin+=t.mCurShopItem.mGetCoin;else{var e=new c.default;e.Clone(t.mCurSelectDaojuItem.mID.toString()),e.mCount=t.mCurShopItem.mCount,p.default.emit(d.TEventType.EItemAddToRole,e)}f.default.instance().mPlayer_DB.mGem-=t.mCurShopItem.mNeedGem,p.default.emit(d.TEventType.EShuxingChangeToUI),y.default.Serializer(d.TLocalStorage.ERole,f.default.instance()),v.default.instance().ShowTip("购买商品:"+t.mCurSelectDaojuItem.mName),console.log("购买道具:",t.mCurSelectDaojuItem.mName)}else v.default.instance().ShowTip("钻石不足")});for(var n=0;n<this.mToggleArry.length;n++){var i=this.mToggleArry[n],o="ToggleClick"+n;y.default.RisiterToggleObjectEvent(i,this.node,o)}for(var r=0;r<5;r++){var a=cc.instantiate(this.mItemPrefab);this.mItemPool.put(a)}for(n=0;n<I.default.instance().mShopObj.mID.length;n++){var s=I.default.instance().mShopObj.mID[n],u=I.default.instance().mIemMap.get(s),l=this.GetItemNodeByPool();l.parent=this.mLayoutArry[0],l.getComponent(h.default).InitItem(u,I.default.instance().mShopObj.shopItem[n]),0==n&&(e=l.getComponent(h.default))}y.default.SetLayoudHeight(this.mLayoutArry[0].childrenCount,this.mRow,this.mItemNodeHeight,this.mLayoutArry[0],6,5),this.InitItem(null,null,e),p.default.register(d.TEventType.EHeishiClikZhuangbei,this.InitItem,this)},e.prototype.InitItem=function(e,t,n){if(null==this.mLastTiejiangItemScri||this.mLastTiejiangItemScri!=n){var i=e,o=t;if(null==this.mItemAtlas&&(this.mItemAtlas=a.default.instance().GetAtlasByName("items")),null==e){var r=I.default.instance().mShopObj.mID[0];i=I.default.instance().mIemMap.get(r),o=I.default.instance().mShopObj.shopItem[0],n.mSelect.active=!0}else null!=this.mLastTiejiangItemScri&&this.mLastTiejiangItemScri!=n&&(this.mLastTiejiangItemScri.mSelect.active=!1);this.mLastTiejiangItemScri=n,this.mCurSelectDaojuItem=i,this.mCurShopItem=o,this.mName.string=i.mName,this.mDes.string=i.mDes,this.mNeedCoin.string=o.mNeedGem.toString(),this.mIcon.spriteFrame=this.mItemAtlas.getSpriteFrame(i.mID.toString())}else null==e&&(n.mSelect.active=!0)},e.prototype.onEnable=function(){this.mCurOpenLayout.parent.getComponent(cc.ScrollView).scrollToTop(0)},e.prototype.ToggleClick0=function(){this.mLayoutArry[1].parent.active=!1,this.mLayoutArry[0].parent.active=!0,this.mCurOpenLayout=this.mLayoutArry[0]},e.prototype.ToggleClick1=function(){this.mLayoutArry[0].parent.active=!1,this.mLayoutArry[1].parent.active=!0,this.mCurOpenLayout=this.mLayoutArry[1]},e.prototype.GetItemNodeByPool=function(){return 0<this.mItemPool.size()?this.mItemPool.get():cc.instantiate(this.mItemPrefab)},__decorate([s([cc.Toggle])],e.prototype,"mToggleArry",void 0),__decorate([s([cc.Node])],e.prototype,"mLayoutArry",void 0),__decorate([s(cc.Label)],e.prototype,"mName",void 0),__decorate([s(cc.Sprite)],e.prototype,"mIcon",void 0),__decorate([s(cc.Label)],e.prototype,"mDes",void 0),__decorate([s(cc.Label)],e.prototype,"mNeedCoin",void 0),__decorate([s(cc.Prefab)],e.prototype,"mItemPrefab",void 0),e=__decorate([r],e)}(i.default);n.default=u,cc._RF.pop()},{"../Entity/AllDB":"AllDB","../Entity/Daoju_DB":"Daoju_DB","../Entity/Role_DB":"Role_DB","../UI/TieJiangPuItem":"TieJiangPuItem","../UIFormwork/BaseUIForm":"BaseUIForm","../UIFormwork/E_UIForm":"E_UIForm","../UIFormwork/ResourcesMar":"ResourcesMar","../UIFormwork/UIManager":"UIManager","../Utils/AllTexture":"AllTexture","../Utils/Constant":"Constant","../Utils/EventDispatch":"EventDispatch","../Utils/Util":"Util"}],HelloWorld:[function(e,t,n){"use strict";cc._RF.push(t,"554bbly3s9KjqY7eDbGq8Bj","HelloWorld"),cc.Class({extends:cc.Component,properties:{itemTemplate:{default:null,type:cc.Node},scrollView:{default:null,type:cc.ScrollView},spawnCount:0,totalCount:0,spacing:0,lblScrollEvent:cc.Label,btnAddItem:cc.Button,btnRemoveItem:cc.Button,btnJumpToPosition:cc.Button,lblJumpPosition:cc.Label,lblTotalItems:cc.Label},onLoad:function(){this.content=this.scrollView.content,this.items=[],this.initialize(),this.updateTimer=0,this.updateInterval=.2,this.lastContentPosY=0,this.bufferZone=this.spawnCount*(this.itemTemplate.height+this.spacing)/2},initialize:function(){this.content.height=this.totalCount*(this.itemTemplate.height+this.spacing)+this.spacing;for(var e=0;e<this.spawnCount;++e){var t=cc.instantiate(this.itemTemplate);this.content.addChild(t),t.setPosition(0,-t.height*(.5+e)-this.spacing*(e+1)),t.getComponent("Item").updateItem(e,e),this.items.push(t)}},getPositionInView:function(e){var t=e.parent.convertToWorldSpaceAR(e.position);return this.scrollView.node.convertToNodeSpaceAR(t)},update:function(e){if(this.updateTimer+=e,!(this.updateTimer<this.updateInterval)){this.updateTimer=0;for(var t=this.items,n=this.scrollView.content.y<this.lastContentPosY,i=(this.itemTemplate.height+this.spacing)*t.length,o=0,r=0;r<t.length;++r){var a=this.getPositionInView(t[r]);if(n){if(o=t[r].y+i,a.y<-this.bufferZone&&o<0){t[r].setPositionY(o);var s=t[r].getComponent("Item"),u=s.itemID-t.length;s.updateItem(r,u)}}else if(o=t[r].y-i,a.y>this.bufferZone&&o>-this.content.height){t[r].setPositionY(o);var l=t[r].getComponent("Item"),m=l.itemID+t.length;l.updateItem(r,m)}}this.lastContentPosY=this.scrollView.content.y,this.lblTotalItems.string="Total Items: "+this.totalCount}},addItem:function(){this.content.height=(this.totalCount+1)*(this.itemTemplate.height+this.spacing)+this.spacing,this.totalCount=this.totalCount+1},removeItem:function(){this.totalCount-1<30?cc.error("can't remove item less than 30!"):(this.content.height=(this.totalCount-1)*(this.itemTemplate.height+this.spacing)+this.spacing,this.totalCount=this.totalCount-1)},scrollEvent:function(e,t){switch(t){case 0:this.lblScrollEvent.string="Scroll to Top";break;case 1:this.lblScrollEvent.string="Scroll to Bottom";break;case 2:this.lblScrollEvent.string="Scroll to Left";break;case 3:this.lblScrollEvent.string="Scroll to Right";break;case 4:this.lblScrollEvent.string="Scrolling";break;case 5:this.lblScrollEvent.string="Bounce Top";break;case 6:this.lblScrollEvent.string="Bounce bottom";break;case 7:this.lblScrollEvent.string="Bounce left";break;case 8:this.lblScrollEvent.string="Bounce right";break;case 9:this.lblScrollEvent.string="Auto scroll ended"}}}),cc._RF.pop()},{}],ItemBase:[function(e,t,n){"use strict";cc._RF.push(t,"1b4f8NkAwVOpYVY1m7ZBVnD","ItemBase"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Utils/Constant"),o=cc._decorator,r=o.ccclass,a=(o.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mID=-1,e.mCode=-1,e.mIcon="",e.mName="",e.mDes="",e.mCount=0,e.mBuWei=-1,e.mLevel=5,e.mQiangHuaLevel=0,e.mQiangHuaNeedPTShitou=0,e.mQiangHuaNeedHightShitou=0,e.mPinzhi=-1,e.mZhuShuxing=-1,e.mZhuShuxingValue=0,e.mFuShuxing=-1,e.mFuShuxingValue=0,e.mFuJiaShuxingIDArry=[],e.mFuJiaShuxingValueArry=[],e.mShenqiShuxingIDArry=[],e.mShenqiShuxingValueArry=[],e.mFumoLevel=-1,e.mFumoShuxing=0,e.mFumoValue=0,e.mFumoNeedCoin=0,e.mFumoNeedGem=-1,e.mChongzhuLevel=-1,e.mChongzhuMinValue=0,e.mChongzhuMaxValue=0,e.mChongzhuNeedCoin=0,e.mChongzhuNeedShitou=0,e.mHechengNeedDaojuIDArry=[],e.mHechengNeedDaojuCountArry=[],e.mFenjieGetCoin=0,e.mFenjieGetDaojuIDArry=[],e.mFenjieGetDaojuCountArry=[],e.mIsDress=0,e.mBuyForRMB=0,e.mSellCoin=0,e.mItemType=i.TItemType.none,e}return __extends(e,t),e.prototype.Clone=function(e){},e=__decorate([r],e)}(cc.Component));n.default=a,cc._RF.pop()},{"../Utils/Constant":"Constant"}],JiaQiangUIForm:[function(e,t,n){"use strict";cc._RF.push(t,"c5cdbNRtvdI+7PR2KOJbs6Q","JiaQiangUIForm"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../UIFormwork/BaseUIForm"),o=e("../UIFormwork/E_UIForm"),r=e("../UIFormwork/UIMaskMgr"),a=e("../Utils/Constant"),s=e("../Utils/AllTexture"),u=e("../Entity/Role_DB"),l=e("../Utils/Util"),m=e("../Utils/EventDispatch"),c=e("../UIFormwork/ResourcesMar"),h=cc._decorator,p=h.ccclass,d=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mZhuangBeiItem=null,e.mName=null,e.mLevel=null,e.mBUwei=null,e.mIcon=null,e.mPinzhi=null,e.mAnimSpri=null,e.mCurAtlas=null,e.mQianghuaZhushuxingValue=null,e.mQianghuashi_H=null,e.mQianghuashi_PT=null,e.mQianghuaBtn=null,e.mNoMaxQianghuaLel=null,e.mMaxQianghuaLev=null,e.mCurHaveQianghuashi_PT=0,e.mCurHaveQianghuashi_H=0,e.mNeedQianghuashi_PT=0,e.mNeedQianghuashi_H=0,e.mQianghuashiItem_H=null,e.mQianghuashiItem_PT=null,e.mChongzhuPinzhi=null,e.mChongzhuZhushuxingValue=null,e.mChongzhuNeedCoin=null,e.mChongzhuNeedShitou=null,e.mChongzhuBtn=null,e.mChongzhuNeed_Coin=0,e.mChongzhuNeed_Shitou=0,e.mCurHaveChongzhuShitou=0,e.mChongzhuShitouItem=null,e.mFumoPinzhi=null,e.mFumoShuxingValue=null,e.mFumoNeedGem=null,e.mFumoNeedCoin=null,e.mGemFumoBtn=null,e.mCoinFumoBtn=null,e.mJiaqiangType=new Array,e.mShenqiNodeArry=new Array,e.mShenqiShuxingArry=new Array,e.mShenqiBtnArry=new Array,e.mCurShenqishitouCount=null,e.mXiaohaoShenqishitouCount=null,e.mFumoNeed_Coin=0,e.mFumoNeed_Gem=0,e.mNameQianghuaLev="%s:%s %s%s",e.mShenqiNameQianghuaLev="%s★%s %s%s",e.mShuxingAndValue="%s:%s",e.mChongzhuShuxingAndValue="%s:%s(%s-%s)",e.mPinzhiStr="quality_bg%s",e.mLevelStr="LV.%s",e.mChongzhuStr=["普通","标准","优秀","极品"],e.mPinzhiTypeArry=["占位","普通","精良","卓越","史诗","传说","神器"],e.mBuWeiStr=["头盔","铠甲","护腿","武器","项链","护手","戒指","鞋子"],e.mShuxingStr=["生命","攻击","防御","命中","闪避","暴击","暴击伤害","负面抗性","生命恢复","物品掉落","金币掉落","经验掉落"],e.mNeedStr="%s/%s",e.mCurShenqishitou="当前拥有:%s",e.mXiaohaoShenqishitou="(洗练一次消耗 %s)",e.mChongzhuColorArry=[cc.Color.WHITE,cc.color(70,150,255,255),cc.color(255,70,255,255),cc.color(255,255,70,255)],e.mPinzhiColorArry=[cc.Color.GRAY,cc.Color.WHITE,cc.color(150,255,70,255),cc.color(70,150,255,255),cc.color(255,70,255,255),cc.color(255,255,70,255),cc.color(255,70,80,255)],e.mItemAtlas=null,e.mCurJiaqiangType=null,e.mOpenIsBeibao=!0,e.mAddTimer=0,e.mEffectTimer=.03,e.mTimer=0,e.mAnimStr="",e}return __extends(e,t),e.prototype.onLoad=function(){var n=this;this.GetUIType.UIForms_ShowMode=o.UIFormShowMode.ReverseChange,this.GetUIType.UIForm_AnimType=o.AnimType.Normal,this.GetUIType.UIForm_LucencyType=o.UIFormLucenyType.ImPenetrable,this.GetUIType.UIForms_Type=o.UIFormType.PopUp,this.RigisterButtonObjectEvent(r.default.instance().mMaskPanel,"_UIMaskPanel",function(){n.haiyuanUI()}),this.mQianghuaBtn.on(cc.Node.EventType.TOUCH_END,function(){if(!(20<=n.mZhuangBeiItem.mQiangHuaLevel)){if(!a.default.mIsOpenGMPattern){if(n.mNeedQianghuashi_PT>n.mCurHaveQianghuashi_PT)return void c.default.instance().ShowTip("普通强化石不足");if(15<=n.mZhuangBeiItem.mQiangHuaLevel){if(n.mNeedQianghuashi_H>n.mCurHaveQianghuashi_H)return void c.default.instance().ShowTip("高级强化石不足");m.default.emit(a.TEventType.EUseDaoju_ChangeToRole,n.mQianghuashiItem_H.mID.toString(),n.mNeedQianghuashi_H)}m.default.emit(a.TEventType.EUseDaoju_ChangeToRole,n.mQianghuashiItem_PT.mID.toString(),n.mNeedQianghuashi_PT)}var e=l.default.RandomNumber(1,100),t=100-5*n.mZhuangBeiItem.mQiangHuaLevel;if(a.default.mIsOpenGMPattern&&(t=100),!(e<=t))return n.mCurAtlas=s.default.instance().GetAtlasByName("fault"),n.mAnimStr="fault_%s",n.mAnimSpri.node.active=!0,void n.QianghuaUI();n.mCurAtlas=s.default.instance().GetAtlasByName("success"),n.mAnimStr="success_%s",n.mAnimSpri.node.active=!0,l.default.instance().QianghuaItem(n.mZhuangBeiItem,n.mOpenIsBeibao),n.InitUIFormItme(n.mZhuangBeiItem,n.mCurJiaqiangType,n.mOpenIsBeibao),n.mOpenIsBeibao||m.default.emit(a.TEventType.EJiaQiangQianghua,n.mZhuangBeiItem.mBuWei)}}),this.mChongzhuBtn.on(cc.Node.EventType.TOUCH_END,function(){if(!a.default.mIsOpenGMPattern){if(n.mChongzhuNeed_Coin>u.default.instance().mPlayer_DB.mCoin)return void c.default.instance().ShowTip("金币不足");if(n.mChongzhuNeed_Shitou>n.mCurHaveChongzhuShitou)return void c.default.instance().ShowTip("重铸宝石不足");m.default.emit(a.TEventType.EUseDaoju_ChangeToRole,n.mChongzhuShitouItem.mID.toString(),n.mChongzhuNeed_Shitou),u.default.instance().mPlayer_DB.mCoin-=n.mChongzhuNeed_Coin}n.mCurAtlas=s.default.instance().GetAtlasByName("fumo"),n.mAnimStr="fumo_%s",n.mAnimSpri.node.active=!0,l.default.instance().ChongzhuItem(n.mZhuangBeiItem,!0,n.mOpenIsBeibao),n.InitUIFormItme(n.mZhuangBeiItem,n.mCurJiaqiangType,n.mOpenIsBeibao)}),this.mGemFumoBtn.on(cc.Node.EventType.TOUCH_END,function(){if(!a.default.mIsOpenGMPattern){if(n.mFumoNeed_Gem>u.default.instance().mPlayer_DB.mGem)return void c.default.instance().ShowTip("钻石不足");u.default.instance().mPlayer_DB.mGem-=n.mFumoNeed_Gem}n.mCurAtlas=s.default.instance().GetAtlasByName("fumo"),n.mAnimStr="fumo_%s",n.mAnimSpri.node.active=!0,l.default.instance().FumoItem(n.mZhuangBeiItem,1,6,n.mOpenIsBeibao),n.InitUIFormItme(n.mZhuangBeiItem,n.mCurJiaqiangType,n.mOpenIsBeibao),n.mOpenIsBeibao||(m.default.emit(a.TEventType.EJiaQiangFumo,n.mZhuangBeiItem.mBuWei),m.default.emit(a.TEventType.EJiaQiangFumo_ChangeToPopUIForm,n.mZhuangBeiItem))}),this.mCoinFumoBtn.on(cc.Node.EventType.TOUCH_END,function(){if(!a.default.mIsOpenGMPattern){if(n.mFumoNeed_Coin>u.default.instance().mPlayer_DB.mCoin)return void c.default.instance().ShowTip("金币不足");u.default.instance().mPlayer_DB.mCoin-=n.mFumoNeed_Coin}n.mCurAtlas=s.default.instance().GetAtlasByName("fumo"),n.mAnimStr="fumo_%s",n.mAnimSpri.node.active=!0,l.default.instance().FumoItem(n.mZhuangBeiItem,0,5,n.mOpenIsBeibao),n.InitUIFormItme(n.mZhuangBeiItem,n.mCurJiaqiangType,n.mOpenIsBeibao),n.mOpenIsBeibao||(m.default.emit(a.TEventType.EJiaQiangFumo,n.mZhuangBeiItem.mBuWei),m.default.emit(a.TEventType.EJiaQiangFumo_ChangeToPopUIForm,n.mZhuangBeiItem))});for(var e=function(e){var t=e;i.mShenqiBtnArry[t].on(cc.Node.EventType.TOUCH_END,function(){var e=u.default.instance().GetItemByID("5010");null==e||e.mCount<a.default.mShenqiXiaohao?c.default.instance().ShowTip("神器碎片不足"):(c.default.instance().ShowTip("洗练成功"),l.default.instance().Shenqixilian(t,n.mZhuangBeiItem),n.ShenqiUI(),m.default.emit(a.TEventType.EShenqiXilianUpdateZhuangbeiPopUI,n.mZhuangBeiItem.mShenqiShuxingIDArry,n.mZhuangBeiItem.mShenqiShuxingValueArry,!0))})},i=this,t=0;t<this.mShenqiBtnArry.length;t++)e(t)},e.prototype.InitUIFormItme=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];null==this.mItemAtlas&&(this.mItemAtlas=s.default.instance().GetAtlasByName("items"));var n=e[0];this.mZhuangBeiItem=n,this.mCurJiaqiangType=e[1],this.mOpenIsBeibao=e[2],this.mJiaqiangType[this.mCurJiaqiangType].active=!0;var i=n.mQiangHuaLevel;this.mIcon.spriteFrame=this.mItemAtlas.getSpriteFrame(n.mIcon),this.mBUwei.string=this.mBuWeiStr[n.mBuWei];var o=n.mPinzhi,r=cc.js.formatStr(this.mPinzhiStr,o);this.mPinzhi.spriteFrame=this.mItemAtlas.getSpriteFrame(r),this.mLevel.string=cc.js.formatStr(this.mLevelStr,n.mLevel),this.mName.string=0<i?o<6?cc.js.formatStr(this.mNameQianghuaLev,this.mPinzhiTypeArry[n.mPinzhi],n.mName,"+",i):cc.js.formatStr(this.mShenqiNameQianghuaLev,this.mPinzhiTypeArry[n.mPinzhi],n.mName,"+",i):o<6?cc.js.formatStr(this.mNameQianghuaLev,this.mPinzhiTypeArry[n.mPinzhi],n.mName,"",""):cc.js.formatStr(this.mShenqiNameQianghuaLev,this.mPinzhiTypeArry[n.mPinzhi],n.mName,"",""),this.mName.node.color=this.mPinzhiColorArry[n.mPinzhi],this.ShenqiUI(),this.QianghuaUI(),this.ChongzhuUI(),this.FumoUI()},e.prototype.QianghuaUI=function(){this.mQianghuaZhushuxingValue.string=cc.js.formatStr(this.mShuxingAndValue,this.mShuxingStr[this.mZhuangBeiItem.mZhuShuxing],this.mZhuangBeiItem.mZhuShuxingValue);var e=this.mZhuangBeiItem.mQiangHuaLevel;if(!(e<20))return this.mNoMaxQianghuaLel.active=!1,this.mMaxQianghuaLev.active=!0,void(this.mQianghuaBtn.active=!1);this.mMaxQianghuaLev.active=!1,this.mNoMaxQianghuaLel.active=!0,this.mQianghuaBtn.active=!0,this.mQianghuashiItem_H=u.default.instance().GetItemByID("5086"),null!=this.mQianghuashiItem_H?this.mCurHaveQianghuashi_H=this.mQianghuashiItem_H.mCount:this.mCurHaveQianghuashi_H=0,this.mQianghuashiItem_PT=u.default.instance().GetItemByID("5003"),null!=this.mQianghuashiItem_PT?this.mCurHaveQianghuashi_PT=this.mQianghuashiItem_PT.mCount:this.mCurHaveQianghuashi_PT=0,this.mNeedQianghuashi_H=l.default.instance().QianghuaNeedHeight(e+1),this.mNeedQianghuashi_PT=l.default.instance().QianghuaNeedPT(e+1),this.mQianghuashi_H.string=cc.js.formatStr(this.mNeedStr,this.mNeedQianghuashi_H,this.mCurHaveQianghuashi_H),this.mQianghuashi_PT.string=cc.js.formatStr(this.mNeedStr,this.mNeedQianghuashi_PT,this.mCurHaveQianghuashi_PT)},e.prototype.ChongzhuUI=function(){this.mChongzhuZhushuxingValue.string=cc.js.formatStr(this.mChongzhuShuxingAndValue,this.mShuxingStr[this.mZhuangBeiItem.mZhuShuxing],this.mZhuangBeiItem.mZhuShuxingValue,this.mZhuangBeiItem.mChongzhuMinValue,this.mZhuangBeiItem.mChongzhuMaxValue);var e=this.mZhuangBeiItem.mChongzhuLevel;this.mChongzhuPinzhi.string=this.mChongzhuStr[e],this.mChongzhuPinzhi.node.color=this.mChongzhuColorArry[e],this.mChongzhuNeed_Coin=l.default.instance().ChongzhuNeedCoin(this.mZhuangBeiItem.mLevel,this.mZhuangBeiItem.mPinzhi),this.mChongzhuNeed_Shitou=l.default.instance().ChongzhuNeedShitou(this.mZhuangBeiItem.mLevel),this.mChongzhuNeedCoin.string=cc.js.formatStr(this.mNeedStr,this.mChongzhuNeed_Coin,u.default.instance().mPlayer_DB.mCoin),this.mChongzhuShitouItem=u.default.instance().GetItemByID("5004"),null!=this.mChongzhuShitouItem&&(this.mCurHaveChongzhuShitou=this.mChongzhuShitouItem.mCount),this.mChongzhuNeedShitou.string=cc.js.formatStr(this.mNeedStr,this.mChongzhuNeed_Shitou,this.mCurHaveChongzhuShitou)},e.prototype.FumoUI=function(){this.mFumoShuxingValue.string=cc.js.formatStr(this.mShuxingAndValue,this.mShuxingStr[this.mZhuangBeiItem.mFumoShuxing],this.mZhuangBeiItem.mFumoValue);var e=this.mZhuangBeiItem.mFumoLevel,t=e+e.toString();0<=e?(this.mFumoPinzhi.node.active=!0,this.mFumoPinzhi.spriteFrame=this.mItemAtlas.getSpriteFrame(t)):this.mFumoPinzhi.node.active=!1,this.mFumoNeed_Coin=l.default.instance().FumoNeedCoin(this.mZhuangBeiItem.mLevel,this.mZhuangBeiItem.mPinzhi),this.mFumoNeed_Gem=l.default.instance().FumoNeedGem(this.mZhuangBeiItem.mLevel),this.mFumoNeedCoin.string=cc.js.formatStr(this.mNeedStr,this.mFumoNeed_Coin,u.default.instance().mPlayer_DB.mCoin),this.mFumoNeedGem.string=cc.js.formatStr(this.mNeedStr,this.mFumoNeed_Gem,u.default.instance().mPlayer_DB.mGem)},e.prototype.ShenqiUI=function(){if(!(this.mZhuangBeiItem.mPinzhi<6)){for(var e=this.mZhuangBeiItem.mShenqiShuxingIDArry.length,t=0;t<e;t++){var n=this.mZhuangBeiItem.mShenqiShuxingIDArry[t];this.mShenqiShuxingArry[t].string=cc.js.formatStr(this.mShuxingAndValue,this.mShuxingStr[n],this.mZhuangBeiItem.mShenqiShuxingValueArry[t]),this.mShenqiNodeArry[t].active=!0}for(var i=e;i<5;i++)this.mShenqiNodeArry[i].active=!1;var o=u.default.instance().GetItemByID("5010");this.mCurShenqishitouCount.string=null==o?cc.js.formatStr(this.mCurShenqishitou,0):cc.js.formatStr(this.mCurShenqishitou,o.mCount),this.mXiaohaoShenqishitouCount.string=cc.js.formatStr(this.mXiaohaoShenqishitou,a.default.mShenqiXiaohao)}},e.prototype.update=function(e){this.mAnimSpri.node.active&&(this.mAddTimer+=e,this.mAddTimer>=this.mEffectTimer&&(this.mAddTimer=0,this.PlayEffect()))},e.prototype.PlayEffect=function(){this.mAnimSpri.node.active&&(this.mTimer+=1,this.mTimer-1>=this.mCurAtlas.getSpriteFrames().length?(this.mAnimSpri.node.active=!1,this.mTimer=0):this.mAnimSpri.spriteFrame=this.mCurAtlas.getSpriteFrame(cc.js.formatStr(this.mAnimStr,this.mTimer)))},e.prototype.haiyuanUI=function(){this.mJiaqiangType[this.mCurJiaqiangType].active=!1,this.CloseUIForm(this.node.name)},__decorate([d(cc.Label)],e.prototype,"mName",void 0),__decorate([d(cc.Label)],e.prototype,"mLevel",void 0),__decorate([d(cc.Label)],e.prototype,"mBUwei",void 0),__decorate([d(cc.Sprite)],e.prototype,"mIcon",void 0),__decorate([d(cc.Sprite)],e.prototype,"mPinzhi",void 0),__decorate([d(cc.Sprite)],e.prototype,"mAnimSpri",void 0),__decorate([d(cc.Label)],e.prototype,"mQianghuaZhushuxingValue",void 0),__decorate([d(cc.Label)],e.prototype,"mQianghuashi_H",void 0),__decorate([d(cc.Label)],e.prototype,"mQianghuashi_PT",void 0),__decorate([d(cc.Node)],e.prototype,"mQianghuaBtn",void 0),__decorate([d(cc.Node)],e.prototype,"mNoMaxQianghuaLel",void 0),__decorate([d(cc.Node)],e.prototype,"mMaxQianghuaLev",void 0),__decorate([d(cc.Label)],e.prototype,"mChongzhuPinzhi",void 0),__decorate([d(cc.Label)],e.prototype,"mChongzhuZhushuxingValue",void 0),__decorate([d(cc.Label)],e.prototype,"mChongzhuNeedCoin",void 0),__decorate([d(cc.Label)],e.prototype,"mChongzhuNeedShitou",void 0),__decorate([d(cc.Node)],e.prototype,"mChongzhuBtn",void 0),__decorate([d(cc.Sprite)],e.prototype,"mFumoPinzhi",void 0),__decorate([d(cc.Label)],e.prototype,"mFumoShuxingValue",void 0),__decorate([d(cc.Label)],e.prototype,"mFumoNeedGem",void 0),__decorate([d(cc.Label)],e.prototype,"mFumoNeedCoin",void 0),__decorate([d(cc.Node)],e.prototype,"mGemFumoBtn",void 0),__decorate([d(cc.Node)],e.prototype,"mCoinFumoBtn",void 0),__decorate([d([cc.Node])],e.prototype,"mJiaqiangType",void 0),__decorate([d([cc.Node])],e.prototype,"mShenqiNodeArry",void 0),__decorate([d([cc.Label])],e.prototype,"mShenqiShuxingArry",void 0),__decorate([d([cc.Node])],e.prototype,"mShenqiBtnArry",void 0),__decorate([d(cc.Label)],e.prototype,"mCurShenqishitouCount",void 0),__decorate([d(cc.Label)],e.prototype,"mXiaohaoShenqishitouCount",void 0),e=__decorate([p],e)}(i.default);n.default=y,cc._RF.pop()},{"../Entity/Role_DB":"Role_DB","../UIFormwork/BaseUIForm":"BaseUIForm","../UIFormwork/E_UIForm":"E_UIForm","../UIFormwork/ResourcesMar":"ResourcesMar","../UIFormwork/UIMaskMgr":"UIMaskMgr","../Utils/AllTexture":"AllTexture","../Utils/Constant":"Constant","../Utils/EventDispatch":"EventDispatch","../Utils/Util":"Util"}],JiesuanItem:[function(e,t,n){"use strict";cc._RF.push(t,"6cfd3S/X6FMXpz6/VkX05uF","JiesuanItem"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,r=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mNum=null,e.mName=null,e.mIcon=null,e}return __extends(e,t),__decorate([r(cc.Label)],e.prototype,"mNum",void 0),__decorate([r(cc.Label)],e.prototype,"mName",void 0),__decorate([r(cc.Sprite)],e.prototype,"mIcon",void 0),e=__decorate([o],e)}(cc.Component);n.default=a,cc._RF.pop()},{}],Loging:[function(e,t,n){"use strict";cc._RF.push(t,"ba14aHAVK9KRYpF9LoHRpaP","Loging"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Utils/CCCompentHelper"),r=e("../UIFormwork/UIManager"),a=e("../Utils/Util"),o=cc._decorator,s=o.ccclass,u=o.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mUIFromsArry=new Array,e.mLogoNode=null,e.mLogoIocn=null,e.mBossNode=null,e.mTestMap=new Map,e.mUIFromsMap=new Map,e.mUIFormArryCount=null,e.mUIFormMapSize=null,e}return __extends(e,t),(n=e).instance=function(){if(null==this.mInstance){var e=cc.find("Canvas");this.mInstance=e.getComponent(n)}return this.mInstance},e.prototype.onLoad=function(){var n=this;this.mUIFormArryCount=this.mUIFromsArry.length,this.mUIFromsArry.forEach(function(e){var t=cc.instantiate(e);n.mUIFromsMap.set(t.name,t),n.mUIFormMapSize=n.mUIFromsMap.size,r.default.instance().mAllUIFormMap.set(t.name,t);n.mUIFormMapSize,n.mUIFormArryCount}),this.TouchStar()},e.prototype.TouchStar=function(){var o=i.default.FindChildNode(this.node,"StarBtn");o.on(cc.Node.EventType.TOUCH_END,function(){var e=this;this.mLogoIocn.active=!1,o.active=!1;var t=cc.fadeTo(1.5,255),n=cc.fadeTo(1.2,0),i=cc.callFunc(function(){e.mLogoNode.active=!1,r.default.instance().ShowUIForms("MainUIForm")});a.default.setSeq(this.mBossNode,[t,n,i])},this)},e.prototype.update=function(){},e.mInstance=null,__decorate([u(cc.Prefab)],e.prototype,"mUIFromsArry",void 0),__decorate([u(cc.Node)],e.prototype,"mLogoNode",void 0),__decorate([u(cc.Node)],e.prototype,"mLogoIocn",void 0),__decorate([u(cc.Node)],e.prototype,"mBossNode",void 0),e=n=__decorate([s],e);var n}(cc.Component);n.default=l,cc._RF.pop()},{"../UIFormwork/UIManager":"UIManager","../Utils/CCCompentHelper":"CCCompentHelper","../Utils/Util":"Util"}],LoopScrollRect:[function(e,t,n){"use strict";cc._RF.push(t,"a9d83iGzddFx6yLE8qeIvuT","LoopScrollRect"),cc._RF.pop()},{}],MainTop:[function(e,t,n){"use strict";cc._RF.push(t,"f2009rQocRAtKKJjshmRoY4","MainTop"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Entity/Role_DB"),r=e("../Utils/EventDispatch"),a=e("../Utils/Constant"),s=e("../Utils/Util"),u=e("../UIFormwork/ResourcesMar"),i=cc._decorator,l=i.ccclass,m=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mNickNameBG=null,e.mNickName=null,e.mLevel=null,e.mNameInput=null,e.mName=null,e.mCoin=null,e.mGem=null,e.mExpFillAmount=null,e.mExp=null,e.mRole=null,e.mExpStr="%s/%s",e.mLevStr="Lv.%s",e}return __extends(e,t),e.prototype.onLoad=function(){this.mRole=o.default.instance().mPlayer_DB,this.Combat_Settlement(),r.default.register(a.TEventType.EShuxingChangeToUI,this.Combat_Settlement,this);var e=new cc.Component.EventHandler;e.target=this.node,e.component="MainTop",e.handler="ChangeName",this.mNameInput.editingDidEnded.push(e)},e.prototype.Combat_Settlement=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.mRole;this.mNickName.string=a.default.mNewBieNickName,this.mName.string=n.mName,this.mLevel.string=cc.js.formatStr(this.mLevStr,n.mLevel),this.mCoin.string=n.mCoin.toString(),this.mGem.string=n.mGem.toString();var i=s.default.GetLevelExp();this.mExp.string=cc.js.formatStr(this.mExpStr,n.mEXP,i),this.mExpFillAmount.fillRange=n.mEXP/i},e.prototype.ChangeName=function(){if(o.default.instance().mChangeNameCount>a.default.mChangeNameMaxCount){if(!(this.mRole.mGem>=a.default.mChangeNameMore2NeedGem)){var e=this.mRole.mName;return u.default.instance().ShowTip("钻石不足以改名"),void(this.mNameInput.string=e)}this.mRole.mGem-=a.default.mChangeNameMore2NeedGem}o.default.instance().mChangeNameCount+=1,this.mRole.mName=this.mNameInput.string,this.Combat_Settlement(),s.default.Serializer(a.TLocalStorage.ERole,o.default.instance());var t=this.mRole.mName,n=t.substr(0,t.length-1);if(this.mRole.mName==a.default.mGMName0||this.mRole.mName==a.default.mGMName1)a.default.OpenGMPattern();else if("批量删除"==n){var i=Number(t.substr(t.length-1,1));r.default.emit(a.TEventType.EBatchDelZhuangBei_ChangeToRole,i)}},__decorate([m(cc.Sprite)],e.prototype,"mNickNameBG",void 0),__decorate([m(cc.Label)],e.prototype,"mNickName",void 0),__decorate([m(cc.Label)],e.prototype,"mLevel",void 0),__decorate([m(cc.EditBox)],e.prototype,"mNameInput",void 0),__decorate([m(cc.Label)],e.prototype,"mName",void 0),__decorate([m(cc.Label)],e.prototype,"mCoin",void 0),__decorate([m(cc.Label)],e.prototype,"mGem",void 0),__decorate([m(cc.Sprite)],e.prototype,"mExpFillAmount",void 0),__decorate([m(cc.Label)],e.prototype,"mExp",void 0),e=__decorate([l],e)}(cc.Component);n.default=c,cc._RF.pop()},{"../Entity/Role_DB":"Role_DB","../UIFormwork/ResourcesMar":"ResourcesMar","../Utils/Constant":"Constant","../Utils/EventDispatch":"EventDispatch","../Utils/Util":"Util"}],MainUIForm:[function(e,t,n){"use strict";cc._RF.push(t,"6951eZlnetKDKC/AJLqqUSZ","MainUIForm"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../UIFormwork/UIManager"),o=e("../UIFormwork/BaseUIForm"),r=cc._decorator,a=r.ccclass,s=r.property,u=e("../UIFormwork/E_UIForm"),l=e("../Utils/EventDispatch"),m=e("../Utils/Constant"),c=e("../Entity/Role_DB"),h=e("../Utils/Util"),p=e("../UIFormwork/ResourcesMar"),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mIsOpenRoleUIForm=!1,e.mPlayerDB=null,e.mNewAnimationArry=[],e.mTiejiangpuLock=null,e.mFubenLock=null,e}return __extends(e,t),e.prototype.onLoad=function(){this.GetUIType.UIForms_ShowMode=u.UIFormShowMode.Normal,this.GetUIType.UIForm_AnimType=u.AnimType.Normal,this.GetUIType.UIForm_LucencyType=u.UIFormLucenyType.ImPenetrable,this.GetUIType.UIForms_Type=u.UIFormType.Normal,this.GetUIType.IsClearStack=!1,this.RigisterButtonObjectEvent(this.node,"Zahuopu",this.OpenHeishi.bind(this)),this.RigisterButtonObjectEvent(this.node,"Tiejiangpu",this.OpenTiejiangpu.bind(this)),this.RigisterButtonObjectEvent(this.node,"Maoxian",this.OpenMaoxian.bind(this)),this.RigisterButtonObjectEvent(this.node,"Fuben",this.OpenFB.bind(this)),this.RigisterButtonObjectEvent(this.node,"Main",this.OpenMain.bind(this)),this.RigisterButtonObjectEvent(this.node,"Role",this.OpenRole.bind(this)),this.RigisterButtonObjectEvent(this.node,"BackPack",this.OpenBackPack.bind(this)),this.RigisterButtonObjectEvent(this.node,"Skill",this.OpenSkill.bind(this)),this.RigisterButtonObjectEvent(this.node,"choujiang",this.Choujiang.bind(this)),this.mPlayerDB=c.default.instance().mPlayer_DB,l.default.register(m.TEventType.ENew,this.NewFunction,this),5<=this.mPlayerDB.mLevel&&(this.mTiejiangpuLock.active=!1),10<=this.mPlayerDB.mLevel&&(this.mFubenLock.active=!1)},e.prototype.start=function(){cc.log(this.node.parent.name),this.OpenMain()},e.prototype.NewFunction=function(e){1==this.mTiejiangpuLock.active&&(this.mTiejiangpuLock.active=!1),1==this.mFubenLock.active&&(this.mFubenLock.active=!1),this.mNewAnimationArry[e].node.active=!0},e.prototype.Choujiang=function(){i.default.instance().GetCurUIFrom!=u.CurUIForm.RoleUIForm&&i.default.instance().GetCurUIFrom!=u.CurUIForm.TieJiangPuUIForm&&(this.ItemUnSelect(),this.OpenUIFormAndCloseOther(u.CurUIForm.ChoujiangUIForm))},e.prototype.OpenHeishi=function(){i.default.instance().GetCurUIFrom!=u.CurUIForm.RoleUIForm&&i.default.instance().GetCurUIFrom!=u.CurUIForm.TieJiangPuUIForm&&i.default.instance().GetCurUIFrom!=u.CurUIForm.ChoujiangUIForm&&(this.ItemUnSelect(),this.OpenUIFormAndCloseOther(u.CurUIForm.HeishiUIForm))},e.prototype.OpenTiejiangpu=function(){i.default.instance().GetCurUIFrom!=u.CurUIForm.RoleUIForm&&i.default.instance().GetCurUIFrom!=u.CurUIForm.TieJiangPuUIForm&&i.default.instance().GetCurUIFrom!=u.CurUIForm.ChoujiangUIForm&&(this.mPlayerDB.mLevel<5?p.default.instance().ShowTip("<color=#EE7621>5级</color>开放铁匠铺"):((this.mNewAnimationArry[0].node.active=!0)&&(this.mNewAnimationArry[0].node.active=!1),this.ItemUnSelect(),this.OpenUIFormAndCloseOther(u.CurUIForm.TieJiangPuUIForm)))},e.prototype.OpenMaoxian=function(){i.default.instance().GetCurUIFrom!=u.CurUIForm.RoleUIForm&&i.default.instance().GetCurUIFrom!=u.CurUIForm.TieJiangPuUIForm&&i.default.instance().GetCurUIFrom!=u.CurUIForm.ChoujiangUIForm&&(this.ItemUnSelect(),this.OpenUIFormAndCloseOther(u.CurUIForm.MaoXianUIForm))},e.prototype.OpenFB=function(){i.default.instance().GetCurUIFrom!=u.CurUIForm.RoleUIForm&&i.default.instance().GetCurUIFrom!=u.CurUIForm.TieJiangPuUIForm&&i.default.instance().GetCurUIFrom!=u.CurUIForm.ChoujiangUIForm&&(this.mPlayerDB.mLevel<10?p.default.instance().ShowTip("<color=#EE7621>10级</color>开放副本"):((this.mNewAnimationArry[2].node.active=!0)&&(this.mNewAnimationArry[2].node.active=!1),this.ItemUnSelect(),this.OpenUIFormAndCloseOther(u.CurUIForm.FuBenUIForm)))},e.prototype.OpenMain=function(){this.ItemUnSelect(),this.OpenUIFormAndCloseOther(u.CurUIForm.MainUIForm)},e.prototype.OpenRole=function(){this.ItemUnSelect(),this.mIsOpenRoleUIForm=!0,this.OpenUIFormAndCloseOther(u.CurUIForm.RoleUIForm)},e.prototype.OpenBackPack=function(){this.ItemUnSelect(),0==this.mIsOpenRoleUIForm&&(this.OpenUIFormAndCloseOther(u.CurUIForm.RoleUIForm),this.mIsOpenRoleUIForm=!0),this.OpenUIFormAndCloseOther(u.CurUIForm.BeiBaoUIForm)},e.prototype.OpenSkill=function(){this.ItemUnSelect(),this.mIsOpenRoleUIForm=!0,this.OpenUIFormAndCloseOther(u.CurUIForm.SkillUIForm)},e.prototype.ItemUnSelect=function(){var e=h.default.instance().mBeibaoZhuangbeiSelect;e&&(e.mSelect.active=!1);var t=h.default.instance().mBeibaoDaojuSelect;t&&(t.mSelect.active=!1)},__decorate([s([cc.Animation])],e.prototype,"mNewAnimationArry",void 0),__decorate([s(cc.Node)],e.prototype,"mTiejiangpuLock",void 0),__decorate([s(cc.Node)],e.prototype,"mFubenLock",void 0),e=__decorate([a],e)}(o.default);n.default=d,cc._RF.pop()},{"../Entity/Role_DB":"Role_DB","../UIFormwork/BaseUIForm":"BaseUIForm","../UIFormwork/E_UIForm":"E_UIForm","../UIFormwork/ResourcesMar":"ResourcesMar","../UIFormwork/UIManager":"UIManager","../Utils/Constant":"Constant","../Utils/EventDispatch":"EventDispatch","../Utils/Util":"Util"}],MaoXianFightUIForm:[function(e,t,n){"use strict";cc._RF.push(t,"af3c9QrI5VAYIENRkE1esty","MaoXianFightUIForm"),Object.defineProperty(n,"__esModule",{value:!0});var h=e("../Utils/Constant"),o=e("../UIFormwork/UIManager"),i=e("../Fight/FightUnit"),r=e("../UIFormwork/BaseUIForm"),a=cc._decorator,s=a.ccclass,u=a.property,p=e("../UIFormwork/ResourcesMar"),l=e("../UIFormwork/E_UIForm"),m=e("../Entity/Enemy_DB"),d=e("../Entity/Role_DB"),y=e("../Utils/Util"),c=e("../Utils/EventDispatch"),f=e("../Entity/AllDB"),g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mJiesuanBtn=null,e.mBG=null,e.mResidueBoutLabel=null,e.mChaoxue=null,e.mBeishu=null,e.mPlayer=null,e.mEnemy=null,e.mStarFight=!1,e.mAddCount=0,e.mPlayEffectTimeArry=[.1,.07,.03],e.mAttackTimeArry=[.8,.5,.2],e.mAttackFrequency=.8,e.mBeishuStr="X ",e.mChaoxueStr="Texture/chaoxue/%s",e.mIsRestart=!1,e.mCurFightCount=0,e.mResidueBout=0,e.mResidueBoutStr="剩余回合:%s",e.mWujin="无尽模式",e.mIsWujin=0,e.mScheduleCallBack=null,e.mEndWujin=!0,e.mDiaoluoDaojuArry=[],e.mDiaoluoZhuangbeiArry=[],e.mCurMaoxianIDAndIndex={maoxianID:0,enemyIndex:-1},e.mOldEnemyDB=null,e.mBoxEnemy=null,e.mEliteEnemy=null,e.mVariationEnemy=null,e.mIsMeetSpecialEnemy=!1,e.mIsMeetBoxEnemy=!1,e.mMeetEliteEnemyCount=0,e.mMeetVariationEnemyCount=0,e.mCurAttackType=h.AttackType.maoxian,e.mFubenEnemyArry=[],e.mFubenLev=0,e.mEnemyAttackBeishu=[15,25,40,55,65,75,95,110,120,150],e}return __extends(e,t),e.prototype.onLoad=function(){this.GetUIType.UIForms_ShowMode=l.UIFormShowMode.HideOther,this.GetUIType.UIForm_AnimType=l.AnimType.Normal,this.GetUIType.UIForm_LucencyType=l.UIFormLucenyType.Lucency,this.GetUIType.UIForms_Type=l.UIFormType.Normal,this.RigisterButtonObjectEvent(this.node,"FightSpeedBtn",this.addFight.bind(this)),c.default.register(h.TEventType.EWujin,this.ChangeWujin,this)},e.prototype.IsWujin=function(){var e=this;if(this.mCurAttackType==h.AttackType.maoxian){var t=y.default.UnSerializer(h.TLocalStorage.EWujin);t&&(this.mIsWujin=t),1==this.mIsWujin&&(this.mJiesuanBtn.active=!0),this.mJiesuanBtn.on(cc.Node.EventType.TOUCH_END,function(){e.mEndWujin=!1})}this.mResidueBout=d.default.instance().mFightCount},e.prototype.ChangeWujin=function(e){this.mCurAttackType==h.AttackType.maoxian&&(this.mIsWujin=e,this.mJiesuanBtn.active=1==e)},e.prototype.InitUIFormItme=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=y.default.RandomNumber(2003,2019),i=cc.js.formatStr(this.mChaoxueStr,n);if(p.default.LoadSPrite(i,this.mChaoxue),this.mCurAttackType=e[0],this.mCurAttackType==h.AttackType.fuben){this.mIsWujin=0,this.mFubenEnemyArry=[];var o=e[4];this.mFubenLev=Number(o.mLevel);for(var r=o.mEnemyIDArry.split(","),a=0;a<r.length;a++){var s=r[a],u=f.default.instance().mEnemyDBMap.get(s);u.mLevel=this.mFubenLev;var l=this.mFubenLev,m=y.default.instance().GetZhuangbeiLevSection(l);u.mAttack=80+l*this.mEnemyAttackBeishu[m],u.mHP=100+500*l,u.mDef=25+20*l,u.mMingzhong=118+20*l,u.mShanbi=36+5*l,u.mBaoji=45+5*l,u.mBaojiAttack=127+15*l,u.mFumian=82+7*l,this.mFubenEnemyArry.push(u)}this.mOldEnemyDB=this.mFubenEnemyArry[0],this.mResidueBout=r.length}else this.mCurAttackType==h.AttackType.maoxian&&(this.IsWujin(),this.mCurMaoxianIDAndIndex.maoxianID=e[2],this.mCurMaoxianIDAndIndex.enemyIndex=e[3],null!=this.mOldEnemyDB&&this.mOldEnemyDB!=e[1].mID&&(this.mEliteEnemy=null,this.mVariationEnemy=null),this.mOldEnemyDB=e[1]);this.mEnemy.Init(this.mOldEnemyDB,this.mPlayer),this.mPlayer.Init(d.default.instance().mPlayer_DB,this.mEnemy),this.mEnemy.Init(this.mOldEnemyDB,this.mPlayer),this.mEnemy.mSelfAttack=!1,this.mPlayer.mSelfAttack=!0,this.mStarFight=!0,this.mAttackFrequency=y.default.UnSerializer(h.TLocalStorage.EFightAttack,!1),this.mAttackFrequency||(this.mAttackFrequency=.8);var c=y.default.UnSerializer(h.TLocalStorage.EFightBeishu,!1);c||(c=1),this.mAddCount=c-1,this.mBeishu.string=this.mBeishuStr+c,this.schedule(this.mScheduleCallBack=function(){this.FightLogic()},this.mAttackFrequency),this.UpdateBout()},e.prototype.update=function(){},e.prototype.FightLogic=function(){this.mStarFight&&((this.mPlayer.mCurHP<=0||this.mEnemy.mCurHP<=0)&&(this.mCurFightCount+=1,this.mStarFight=!1,this.unschedule(this.mScheduleCallBack),this.PutBuffItemToPool(this.mPlayer),this.PutBuffItemToPool(this.mEnemy),this.OneFightReward(this.mEnemy.mCurHP<=0),this.mCurAttackType==h.AttackType.maoxian?this.MaoxianFightEnd():this.mCurAttackType==h.AttackType.fuben&&this.FubenFightEnd()),this.mPlayer.mSelfAttack&&!this.mPlayer.mXuanyun?(this.mEnemy.mAnimSpri.spriteFrame=null,this.mPlayer.Attack(this.mEnemy)):this.mEnemy.mSelfAttack&&!this.mEnemy.mXuanyun&&(this.mPlayer.mAnimSpri.spriteFrame=null,this.mEnemy.Attack(this.mPlayer)))},e.prototype.MaoxianFightEnd=function(){this.mPlayer.mCurHP<=0||this.mCurFightCount>=d.default.instance().mFightCount&&(!this.mEndWujin||0==this.mIsWujin)?this.fightEnd():0<this.mPlayer.mCurHP&&((this.mIsMeetBoxEnemy||this.mIsMeetSpecialEnemy)&&(this.mIsMeetBoxEnemy=!1,this.mIsMeetSpecialEnemy=!1,this.mEnemy.Init(this.mOldEnemyDB,this.mPlayer,cc.Color.WHITE)),this.mEnemy.node.active=!1,this.MeetSpecialEnemy(),this.scheduleOnce(function(){this.mIsMeetBoxEnemy||this.UpdateBout(),this.mEnemy.node.active=!0,this.mPlayer.mSelfAttack=!0,this.mEnemy.mSelfAttack=!1,this.mStarFight=!0,this.schedule(this.mScheduleCallBack,this.mAttackFrequency)}.bind(this),.1))},e.prototype.FubenFightEnd=function(){this.mPlayer.mCurHP<=0||this.mCurFightCount>=this.mFubenEnemyArry.length?this.fightEnd():0<this.mPlayer.mCurHP&&(this.mIsMeetBoxEnemy&&(this.mIsMeetBoxEnemy=!1),this.mEnemy.Init(this.mOldEnemyDB,this.mPlayer,cc.Color.WHITE),this.mOldEnemyDB=this.mFubenEnemyArry[this.mCurFightCount],this.mEnemy.Init(this.mOldEnemyDB,this.mPlayer,cc.Color.WHITE),this.mEnemy.node.active=!1,this.MeetSpecialEnemy(),this.scheduleOnce(function(){this.mIsMeetBoxEnemy||this.UpdateBout(),this.mEnemy.node.active=!0,this.mPlayer.mSelfAttack=!0,this.mEnemy.mSelfAttack=!1,this.mStarFight=!0,this.schedule(this.mScheduleCallBack,this.mAttackFrequency)}.bind(this),.1))},e.prototype.MeetSpecialEnemy=function(){var e=y.default.RandomNumber(1,100);if(e<=h.default.mMeetBoxEnemylv){if(this.mIsMeetBoxEnemy=!0,null==this.mBoxEnemy){this.mBoxEnemy=f.default.instance().mEnemyDBMap.get("4320"),this.mBoxEnemy.mLevel=this.mPlayer.mItemDB.mLevel;var t=this.mBoxEnemy.mLevel;this.mBoxEnemy.mAttack=80+15*t,this.mBoxEnemy.mHP=100+400*t,this.mBoxEnemy.mDef=25+10*t,this.mBoxEnemy.mMingzhong=119+10*t,this.mBoxEnemy.mShanbi=36+3*t,this.mBoxEnemy.mBaoji=45+4*t,this.mBoxEnemy.mBaojiAttack=127+11*t,this.mBoxEnemy.mFumian=82+7*t}this.mEnemy.Init(this.mBoxEnemy,this.mPlayer,cc.color(255,70,80,255)),this.mCurFightCount-=1}else if(h.default.mMeetBoxEnemylv<e&&e<=h.default.mMeetVariationEnemylv){if(this.mCurAttackType!=h.AttackType.maoxian)return;this.mIsMeetSpecialEnemy=!0,this.mMeetVariationEnemyCount+=1,null==this.mVariationEnemy&&(this.mVariationEnemy=new m.default,this.mVariationEnemy.Clone(this.mOldEnemyDB.mID,1.35),this.mVariationEnemy.mName=this.mOldEnemyDB.mName+"[变异]"),this.mEnemy.Init(this.mVariationEnemy,this.mPlayer,cc.color(255,70,255,255))}else if(h.default.mMeetVariationEnemylv<e&&e<=h.default.mMeetEliteEnemylv){if(this.mCurAttackType!=h.AttackType.maoxian)return;this.mIsMeetSpecialEnemy=!0,this.mMeetEliteEnemyCount+=1,null==this.mEliteEnemy&&(this.mEliteEnemy=new m.default,this.mEliteEnemy.Clone(this.mOldEnemyDB.mID,1.2),this.mEliteEnemy.mName=this.mOldEnemyDB.mName+"[精英]"),this.mEnemy.Init(this.mEliteEnemy,this.mPlayer,cc.color(70,150,255,255))}},e.prototype.OneFightReward=function(e){if(!e)return this.mDiaoluoDaojuArry=[],this.mDiaoluoZhuangbeiArry=[],this.mMeetEliteEnemyCount=0,void(this.mMeetVariationEnemyCount=0);y.default.RandomNumber(0,100);var t=this.mEnemy.mItemDB.mDiaoluoDaojuArry,n=this.mEnemy.mItemDB.mDiaoluoZhuangbeiArry,i=0;i=this.mIsMeetBoxEnemy?h.default.mBoxEnemyDaojuDiaolv:h.default.mDaojuDiaolv,i=this.mIsMeetSpecialEnemy?h.default.mSpecialEnemyDaojuDiaolv:h.default.mDaojuDiaolv,this.AssignDaojuDiaoluo("5003",h.default.mQianghuashiDiaolv);var o=y.default.RandomNumberByArry(t);if((this.AssignDaojuDiaoluo(o.toString(),i),this.mCurAttackType!=h.AttackType.maoxian||!this.mIsMeetBoxEnemy)&&(this.mDiaoluoZhuangbeiArry.length<100&&y.default.RandomNumber(0,100)<=h.default.mZhuangbeiDiaolv&&0<n[0])){var r=y.default.RandomNumberByArry(n),a=f.default.instance().mIemMap.get(r.toString());if(a.mLevel>this.mPlayer.mItemDB.mLevel+10&&6==a.mPinzhi)return;this.mDiaoluoZhuangbeiArry.push(r)}},e.prototype.AssignDaojuDiaoluo=function(e,t){var n=!1;if(y.default.RandomNumber(0,100)<=t){for(var i=0;i<this.mDiaoluoDaojuArry.length;i++){var o=this.mDiaoluoDaojuArry[i];if(o.id==e){o.count+=1,n=!0;break}}n||this.mDiaoluoDaojuArry.push({id:e,count:1})}},e.prototype.PutBuffItemToPool=function(e){for(var t=0;t<e.mActiveBUffItem.length;t++){var n=e.mActiveBUffItem.pop();null!=n&&n.huanyuan()}},e.prototype.wujinFightEnd=function(){o.default.instance().ShowUIForms(h.default.mFightEndUIForm).InitUIFormItme(this.mCurAttackType,this.mEnemy,this.mCurFightCount,999,this),this.mCurFightCount=0},e.prototype.fightEnd=function(){if(o.default.instance().ShowUIForms(h.default.mFightEndUIForm).InitUIFormItme(this.mCurAttackType,this.mEnemy,this.mCurFightCount,null,this),this.mCurFightCount=0,this.mEndWujin=!0,this.PushCurShowPiaozi(),this.mEnemy.mCurHP<=0&&this.mCurAttackType==h.AttackType.maoxian){var e=f.default.instance().mMaoxianDBMap.get(this.mCurMaoxianIDAndIndex.maoxianID.toString()).mEnemyIDArry.split(","),t=d.default.instance().mMaoxianIDAndEnemyIndex.maoxianID,n=d.default.instance().mMaoxianIDAndEnemyIndex.enemyIndex;if(t<this.mCurMaoxianIDAndIndex.maoxianID||t==this.mCurMaoxianIDAndIndex.maoxianID&&n<=this.mCurMaoxianIDAndIndex.enemyIndex){if(this.mCurMaoxianIDAndIndex.enemyIndex<e.length-1){this.mCurMaoxianIDAndIndex.enemyIndex=this.mCurMaoxianIDAndIndex.enemyIndex+1;var i=this.mCurMaoxianIDAndIndex.maoxianID+","+this.mCurMaoxianIDAndIndex.enemyIndex;d.default.instance().mEnemyIndexToNodeMap.get(i).active=!0}else this.mCurMaoxianIDAndIndex.maoxianID<h.default.mMaoxianItemMaxCount&&(this.mCurMaoxianIDAndIndex.maoxianID=this.mCurMaoxianIDAndIndex.maoxianID+1,this.mCurMaoxianIDAndIndex.enemyIndex=0,d.default.instance().mMaoxianIDToNodeMap.get(this.mCurMaoxianIDAndIndex.maoxianID).active=!0);d.default.instance().mMaoxianIDAndEnemyIndex.maoxianID=this.mCurMaoxianIDAndIndex.maoxianID,d.default.instance().mMaoxianIDAndEnemyIndex.enemyIndex=this.mCurMaoxianIDAndIndex.enemyIndex,y.default.Serializer(h.TLocalStorage.ERole,d.default.instance())}}},e.prototype.PushCurShowPiaozi=function(){var t=this;this.mPlayer.mCurPiaoxueArry.forEach(function(e){e.node.stopAllActions(),e.node.parent=null,t.mPlayer.mPiaoxuePool.put(e.node)}),this.mEnemy.mCurPiaoxueArry.forEach(function(e){e.node.parent=null,t.mEnemy.mPiaoxuePool.put(e.node)})},e.prototype.addFight=function(){this.mAddCount+=1,this.mAddCount%=3,this.mAttackFrequency=this.mAttackTimeArry[this.mAddCount];var e=this.mPlayEffectTimeArry[this.mAddCount];this.unschedule(this.mScheduleCallBack),this.schedule(this.mScheduleCallBack,this.mAttackFrequency),this.mPlayer.ChangeBeishu(e),this.mEnemy.ChangeBeishu(e),this.mBeishu.string=this.mBeishuStr+(this.mAddCount+1),y.default.Serializer(h.TLocalStorage.EFightAttack,this.mAttackFrequency,!1),y.default.Serializer(h.TLocalStorage.EFightEffect,e,!1),y.default.Serializer(h.TLocalStorage.EFightBeishu,this.mAddCount+1,!1)},e.prototype.UpdateBout=function(){this.mResidueBout-=1,0==this.mIsWujin?this.mResidueBoutLabel.string=cc.js.formatStr(this.mResidueBoutStr,this.mResidueBout):this.mResidueBoutLabel.string=this.mWujin},e.prototype.CloseSelfUIForm=function(){this.CloseUIForm(this.node.name)},__decorate([u(cc.Node)],e.prototype,"mJiesuanBtn",void 0),__decorate([u(cc.Sprite)],e.prototype,"mBG",void 0),__decorate([u(cc.Label)],e.prototype,"mResidueBoutLabel",void 0),__decorate([u(cc.Sprite)],e.prototype,"mChaoxue",void 0),__decorate([u(cc.Label)],e.prototype,"mBeishu",void 0),__decorate([u(i.default)],e.prototype,"mPlayer",void 0),__decorate([u(i.default)],e.prototype,"mEnemy",void 0),e=__decorate([s],e)}(r.default);n.default=g,cc._RF.pop()},{"../Entity/AllDB":"AllDB","../Entity/Enemy_DB":"Enemy_DB","../Entity/Role_DB":"Role_DB","../Fight/FightUnit":"FightUnit","../UIFormwork/BaseUIForm":"BaseUIForm","../UIFormwork/E_UIForm":"E_UIForm","../UIFormwork/ResourcesMar":"ResourcesMar","../UIFormwork/UIManager":"UIManager","../Utils/Constant":"Constant","../Utils/EventDispatch":"EventDispatch","../Utils/Util":"Util"}],MaoXianUIForm:[function(e,t,n){"use strict";cc._RF.push(t,"dc956zSiOtILqpD69lNYJUV","MaoXianUIForm"),Object.defineProperty(n,"__esModule",{value:!0});var r=e("../UI/MaoxianItem"),i=e("../UIFormwork/UIManager"),o=e("../UIFormwork/BaseUIForm"),a=cc._decorator,s=a.ccclass,u=a.property,l=e("../UIFormwork/E_UIForm"),m=e("../Entity/AllDB"),c=e("../Utils/Util"),h=e("../Entity/Role_DB"),p=e("../Utils/Constant"),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mLayout=null,e.mMaoxianItemPrefab=null,e.mMaoxianItemPool=null,e.mMaoxianBGArry=[],e.mMaoxianItemHeight=152,e.mRaw=2,e.mAllDB=null,e}return __extends(e,t),e.prototype.onLoad=function(){this.GetUIType.UIForms_ShowMode=l.UIFormShowMode.Normal,this.GetUIType.UIForm_AnimType=l.AnimType.Normal,this.GetUIType.UIForm_LucencyType=l.UIFormLucenyType.ImPenetrable,this.GetUIType.UIForms_Type=l.UIFormType.Normal,this.mMaoxianItemPool=new cc.NodePool,this.mAllDB=cc.find("Canvas").getComponent(m.default);for(var e=0;e<5;e++){var t=cc.instantiate(this.mMaoxianItemPrefab);this.mMaoxianItemPool.put(t)}for(var n=0;n<this.mAllDB.mMaoxianDBMap.size;n++){var i=n+1,o=this.mAllDB.mMaoxianDBMap.get(i.toString());this.InitItem(i,o)}},e.prototype.onEnable=function(){c.default.SetLayoudHeight(h.default.instance().mMaoxianIDAndEnemyIndex.maoxianID,this.mRaw,this.mMaoxianItemHeight,this.mLayout.node)},e.prototype.InitItem=function(e,t){if(t.mAttackType==p.AttackType.maoxian){var n=null;(n=0<this.mMaoxianItemPool.size()?this.mMaoxianItemPool.get():cc.instantiate(this.mMaoxianItemPrefab)).parent=this.mLayout.node,n.position=cc.p(0,0);var i=n.getComponent(r.default);i.InitItem(e,t,this),h.default.instance().mMaoxianIDToNodeMap.set(e,i.node);var o=h.default.instance().mMaoxianIDAndEnemyIndex;p.default.mIsOpenGMPattern?i.node.active=!0:e>o.maoxianID&&(i.node.active=!1)}},e.prototype.onDisable=function(){this.mLayout.node.parent.getComponent(cc.ScrollView).scrollToTop(0)},e.prototype.CloseSelfUIForm=function(){i.default.instance().SetCurUIForm=l.CurUIForm.MainUIForm.toString(),this.mLayout.node.parent.getComponent(cc.ScrollView).scrollToTop(0),this.CloseUIForm(this.node.name)},__decorate([u(cc.Layout)],e.prototype,"mLayout",void 0),__decorate([u(cc.Prefab)],e.prototype,"mMaoxianItemPrefab",void 0),__decorate([u([cc.SpriteFrame])],e.prototype,"mMaoxianBGArry",void 0),e=__decorate([s],e)}(o.default);n.default=d,cc._RF.pop()},{"../Entity/AllDB":"AllDB","../Entity/Role_DB":"Role_DB","../UI/MaoxianItem":"MaoxianItem","../UIFormwork/BaseUIForm":"BaseUIForm","../UIFormwork/E_UIForm":"E_UIForm","../UIFormwork/UIManager":"UIManager","../Utils/Constant":"Constant","../Utils/Util":"Util"}],MaoxianItem_DB:[function(e,t,n){"use strict";cc._RF.push(t,"cfe38VmLTJJx6EYbslNuF0F","MaoxianItem_DB"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,r=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mID=0,e.mLevel="",e.mName="",e.mBG=0,e.mEnemyIDArry="",e.mEnemyLevelArry="",e.mAttackType=0,e}return __extends(e,t),e=__decorate([o],e)}(cc.Component));n.default=r,cc._RF.pop()},{}],MaoxianItem:[function(e,t,n){"use strict";cc._RF.push(t,"adf37AOjSdEkq57WC483UAB","MaoxianItem"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Utils/Constant"),o=cc._decorator,r=o.ccclass,a=o.property,s=e("../UIFormwork/UIManager"),u=e("../Utils/CCCompentHelper"),l=e("../Utils/AllTexture"),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mNeedLevel=null,e.mName=null,e.mBG=null,e.mMaoxianItem_DB=null,e.mMaoxianBGPath="Texture/map/%s",e.mCurAtlas=null,e.mCurMaoxianID=0,e.mEnemysUIForm=null,e}return __extends(e,t),e.prototype.onLoad=function(){this.mCurAtlas=l.default.instance().GetAtlasByName("maps"),u.default.FindChildNode(this.node,this.node.name).on(cc.Node.EventType.TOUCH_END,function(){null==this.mEnemysUIForm&&s.default.instance().ShowUIForms(i.default.mEnemysUIForm).InitUIFormItme(this.mMaoxianItem_DB.mEnemyLevelArry,this.mMaoxianItem_DB.mEnemyIDArry,this.mCurMaoxianID)}.bind(this))},e.prototype.InitItem=function(e,t,n){this.mCurMaoxianID=e,this.mMaoxianItem_DB=t,this.mNeedLevel.string=cc.js.formatStr("Lv.%s",t.mLevel),this.mName.string=t.mName;t.mBG;this.mCurAtlas||(this.mCurAtlas=l.default.instance().GetAtlasByName("maps")),this.mBG.spriteFrame=this.mCurAtlas.getSpriteFrame(t.mBG.toString())},__decorate([a(cc.Label)],e.prototype,"mNeedLevel",void 0),__decorate([a(cc.Label)],e.prototype,"mName",void 0),__decorate([a(cc.Sprite)],e.prototype,"mBG",void 0),e=__decorate([r],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../UIFormwork/UIManager":"UIManager","../Utils/AllTexture":"AllTexture","../Utils/CCCompentHelper":"CCCompentHelper","../Utils/Constant":"Constant"}],Map:[function(e,t,n){"use strict";cc._RF.push(t,"d6801LkYftHV6goD9P8yN7G","Map"),Map.prototype.getKeys=function(){var n=[];return this.forEach(function(e,t){n.push(t)}),n},Map.prototype.getValues=function(){var n=[];return this.forEach(function(e,t){n.push(e)}),n},cc._RF.pop()},{}],PiaoXue:[function(e,t,n){"use strict";cc._RF.push(t,"175916WzzBE0ry/Pdw/eejv","PiaoXue"),Object.defineProperty(n,"__esModule",{value:!0});var u=e("../Utils/Util"),i=cc._decorator,o=i.ccclass,r=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mPiaoxueLabel=null,e.mTarget=null,e}return __extends(e,t),e.prototype.InitItem=function(e,t,n,i){var o=this;(this.mTarget=n).mCurPiaoxueArry.push(this),this.node.parent=n.node,this.node.setPosition(-18,50),this.node.color=t,this.mPiaoxueLabel.string=e;var r=cc.scaleTo(.15,1.3),a=cc.scaleTo(.1,1),s=cc.moveTo(.7,i);u.default.setSeq(this.node,[r,a,s]),this.scheduleOnce(function(){var e=o.mTarget.mCurPiaoxueArry.indexOf(o);0<=e&&o.mTarget.mCurPiaoxueArry.splice(e,1),o.node.stopAllActions(),o.node.parent=null,n.mPiaoxuePool.put(o.node)},1)},__decorate([r(cc.Label)],e.prototype,"mPiaoxueLabel",void 0),e=__decorate([o],e)}(cc.Component);n.default=a,cc._RF.pop()},{"../Utils/Util":"Util"}],Player:[function(e,t,n){"use strict";cc._RF.push(t,"43418PS9DNK7ot2v7elIHnM","Player"),Object.defineProperty(n,"__esModule",{value:!0});var c=e("../Utils/Util"),i=e("./FightUnit"),h=e("../Utils/Constant"),o=cc._decorator,r=o.ccclass,a=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this)},t.prototype.Attack=function(e){var t=cc.moveTo(.15,-8,-8),n=cc.moveTo(.15,0,0);c.default.setSeq(this.mIocn.node,[t,n]),e.GetAttack(this)},t.prototype.GetAttack=function(e){var t=cc.Color.WHITE,n="-",i=e.mItemDB.mSkillIDArry.length,o=0;c.default.RandomNumber(1,100)<=h.default.mSkillTriggerOdds&&(o=c.default.RandomNumber(1,i-1)),i<=o&&(o=i-1==0?0:i-1);var r=e.mItemDB.mSkillIDArry[o],a=this.mAllDB.mSkillDBMap.get(r);this.mCurSkillID=a.mID,this.mAnimSpri.node.active=!0,e.mSelfAttack=!1,this.mSelfAttack=!0;var s=0;c.default.RandomNumber(1,100)<=e.mItemDB.mBaoji/h.default.mBaojiTriggerOdds&&(s=e.mItemDB.mBaojiAttack,t=this.mBaojiColor,n="暴击-");if(c.default.RandomNumber(1,100)<=this.mItemDB.mShanbi/h.default.mShanbiTriggerOdds)return!0,void this.GetPiaoxue("miss",this.mMissColor,this,cc.p(67,98));var u=!1;c.default.RandomNumber(1,100)<=this.mItemDB.mFumian/h.default.mFukangTriggerOdds&&(u=!0),0<a.mIsBUFF&&!u&&1==a.mBuffTarget&&this.mQueue.unshift(a);var l=e.mItemDB.mAttack;0<s&&(l=s);var m=l*a.mAddAttack-this.mDef;m=m<=0?0:m,n+=Math.floor(m),this.GetPiaoxue(n,t,this,cc.p(67,98)),this.DelHP(m),8==a.mID&&e.AddHP(m*a.mBuffSum)},t=__decorate([r],t)}(i.default));n.default=a,cc._RF.pop()},{"../Utils/Constant":"Constant","../Utils/Util":"Util","./FightUnit":"FightUnit"}],PopUpUIForm:[function(e,t,n){"use strict";cc._RF.push(t,"4e6950Ny7NI/rCk9Wf5XUMO","PopUpUIForm"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../UIFormwork/BaseUIForm"),o=e("../UIFormwork/UIMaskMgr"),r=cc._decorator,a=r.ccclass,s=r.property,u=e("../UIFormwork/ResourcesMar"),l=e("../UIFormwork/E_UIForm"),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgSprite=null,e}return __extends(e,t),e.prototype.onLoad=function(){this.GetUIType.UIForms_ShowMode=l.UIFormShowMode.ReverseChange,this.GetUIType.UIForm_AnimType=l.AnimType.SmallToBig,this.GetUIType.UIForm_LucencyType=l.UIFormLucenyType.ImPenetrable,this.GetUIType.UIForms_Type=l.UIFormType.PopUp,this.RigisterButtonObjectEvent(this.node,"OpenHideOther",this.OpenOther.bind(this)),this.RigisterButtonObjectEvent(this.node,"Close",this.CloseSelfUIForm.bind(this)),this.RigisterButtonObjectEvent(o.default.instance().mMaskPanel,"_UIMaskPanel",this.CloseSelfUIForm.bind(this)),this.bgSprite=this.node.getChildByName("Bg").getComponent(cc.Sprite),u.default.LoadSPrite("testLoad",this.bgSprite)},e.prototype.start=function(){cc.log(this.node.parent.name),cc.log(this.bgSprite)},e.prototype.OpenOther=function(){this.OpenUIForm("HideOtherUIForm")},e.prototype.CloseSelfUIForm=function(){cc.log(this.node.name),this.CloseUIForm(this.node.name)},__decorate([s(cc.SpriteFrame)],e.prototype,"bgSprite",void 0),e=__decorate([a],e)}(i.default);n.default=m,cc._RF.pop()},{"../UIFormwork/BaseUIForm":"BaseUIForm","../UIFormwork/E_UIForm":"E_UIForm","../UIFormwork/ResourcesMar":"ResourcesMar","../UIFormwork/UIMaskMgr":"UIMaskMgr"}],Queue:[function(e,t,n){"use strict";cc._RF.push(t,"d2102kIoDVO2IKZXZ7Jjq5n","Queue"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){this.length=0}return e.prototype.enqueue=function(){for(var n=this,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.forEach(function(e){var t={item:e,next:null};n.last&&(n.last.next=t),n.last=t,n.first||(n.first=t),n.length++}),this.length},e.prototype.dequeue=function(){var e=this.first?this.first.item:void 0;return 1==this.length&&(this.first=this.last=null),this.first&&(this.first=this.first.next),e},e.prototype.toArray=function(){for(var e=[],t=this.first;t;)e.push(t.item),t=t.next;return e},e.prototype.fromArray=function(e){return this.first=this.last=null,this.enqueue.apply(this,e),this},e}();n.default=i,cc._RF.pop()},{}],ResourcesMar:[function(e,t,n){"use strict";cc._RF.push(t,"2fdf857nGZAlaw61u8SNXpJ","ResourcesMar"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../UI/ShowTip"),o=cc._decorator,r=o.ccclass,a=o.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mItemPrefab=null,e.mItemPool=new cc.NodePool,e}return __extends(e,t),(n=e).instance=function(){return null==this.mInstance&&(this.mInstance=cc.find("Canvas").getComponent(n)),this.mInstance},e.prototype.onLoad=function(){for(var e=0;e<5;e++){var t=cc.instantiate(this.mItemPrefab);this.mItemPool.put(t)}},e.prototype.ShowTip=function(e,t){void 0===t&&(t=cc.Color.RED);var n=null;(n=0<this.mItemPool.size()?this.mItemPool.get():cc.instantiate(this.mItemPrefab)).parent=this.node,n.position=cc.p(0,0),n.zIndex=100,n.getComponent(i.default).InitTip(e,t)},e.LoadUIForm=function(e,t){return cc.loader.loadRes(e+"/"+t,function(e,t){return cc.log(t),cc.instantiate(t)}),null},e.LoadSPrite=function(n,i){return new Promise(function(e,t){cc.loader.loadRes(n,cc.SpriteFrame,function(e,t){i.spriteFrame=t})})},e.loadRawAsset=function(n){cc.loader.getRes(n)||cc.loader.loadRes(n,function(e,t){e&&cc.warn("loadRawAsset error",n)})},e.release=function(e){e instanceof cc.Node?e.destroy():cc.loader.release(e)},__decorate([a(cc.Prefab)],e.prototype,"mItemPrefab",void 0),e=n=__decorate([r],e);var n}(cc.Component);n.default=s,cc._RF.pop()},{"../UI/ShowTip":"ShowTip"}],RoleUIForm:[function(e,t,n){"use strict";cc._RF.push(t,"c8a16BZEttA9JctYeB2dWOm","RoleUIForm"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../UIFormwork/UIManager"),o=e("../UIFormwork/BaseUIForm"),r=cc._decorator,a=r.ccclass,s=r.property,u=e("../UIFormwork/E_UIForm"),l=e("../Entity/Role_DB"),m=e("../Utils/EventDispatch"),c=e("../Utils/Constant"),h=e("../UI/ZhuangBeiItem"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mZhuangBeiItemArry=new Array,e.mHPLabel=null,e.mAttackLabel=null,e.mDefLabel=null,e.mMingzhongLabel=null,e.mShanbiLabel=null,e.mBajiLabel=null,e.mBaoshangLabel=null,e.mFumianLabel=null,e.mHpResLabel=null,e.mWupinDiaolvLabel=null,e.mCoinDiaolvLabel=null,e.mExpDiaolvLabel=null,e.mHeroUI=null,e.mItemDiaolvStr="%s%",e.mCoinDiaolvStr="%s%",e.mExpDiaolvStr="%s%",e}return __extends(e,t),e.prototype.onLoad=function(){this.GetUIType.UIForms_ShowMode=u.UIFormShowMode.Normal,this.GetUIType.UIForm_AnimType=u.AnimType.Normal,this.GetUIType.UIForm_LucencyType=u.UIFormLucenyType.ImPenetrable,this.GetUIType.UIForms_Type=u.UIFormType.Normal,this.InitItem(),m.default.register(c.TEventType.EShuxingChangeToUI,this.InitProperty,this)},e.prototype.InitItem=function(){for(var e=l.default.instance().mPlayer_DB,t=0;t<e.mZhuangbeiArry.length;t++){var n=e.mZhuangbeiArry[t];null!=n&&this.mZhuangBeiItemArry[t].InitZBItem(n)}this.InitProperty()},e.prototype.InitProperty=function(){var e=l.default.instance().mPlayer_DB;this.mHPLabel.string=e.mHP.toString(),this.mAttackLabel.string=e.mAttack.toString(),this.mDefLabel.string=e.mDef.toString(),this.mMingzhongLabel.string=e.mMingzhong.toString(),this.mShanbiLabel.string=e.mShanbi.toString(),this.mBajiLabel.string=e.mBaoji.toString(),this.mBaoshangLabel.string=e.mBaojiAttack.toString(),this.mFumianLabel.string=e.mFumian.toString(),this.mHpResLabel.string=e.mHPRes.toString(),this.mWupinDiaolvLabel.string=cc.js.formatStr(this.mItemDiaolvStr,e.mItemDiaolv),this.mCoinDiaolvLabel.string=cc.js.formatStr(this.mCoinDiaolvStr,e.mCoinDiaolv),this.mExpDiaolvLabel.string=cc.js.formatStr(this.mExpDiaolvStr,e.mExpDiaolv)},e.prototype.CloseSelfUIForm=function(){i.default.instance().SetCurUIForm=u.CurUIForm.MainUIForm.toString(),this.CloseUIForm(this.node.name)},__decorate([s([h.default])],e.prototype,"mZhuangBeiItemArry",void 0),__decorate([s(cc.Label)],e.prototype,"mHPLabel",void 0),__decorate([s(cc.Label)],e.prototype,"mAttackLabel",void 0),__decorate([s(cc.Label)],e.prototype,"mDefLabel",void 0),__decorate([s(cc.Label)],e.prototype,"mMingzhongLabel",void 0),__decorate([s(cc.Label)],e.prototype,"mShanbiLabel",void 0),__decorate([s(cc.Label)],e.prototype,"mBajiLabel",void 0),__decorate([s(cc.Label)],e.prototype,"mBaoshangLabel",void 0),__decorate([s(cc.Label)],e.prototype,"mFumianLabel",void 0),__decorate([s(cc.Label)],e.prototype,"mHpResLabel",void 0),__decorate([s(cc.Label)],e.prototype,"mWupinDiaolvLabel",void 0),__decorate([s(cc.Label)],e.prototype,"mCoinDiaolvLabel",void 0),__decorate([s(cc.Label)],e.prototype,"mExpDiaolvLabel",void 0),__decorate([s(cc.Sprite)],e.prototype,"mHeroUI",void 0),e=__decorate([a],e)}(o.default);n.default=p,cc._RF.pop()},{"../Entity/Role_DB":"Role_DB","../UI/ZhuangBeiItem":"ZhuangBeiItem","../UIFormwork/BaseUIForm":"BaseUIForm","../UIFormwork/E_UIForm":"E_UIForm","../UIFormwork/UIManager":"UIManager","../Utils/Constant":"Constant","../Utils/EventDispatch":"EventDispatch"}],Role_DB:[function(e,t,n){"use strict";cc._RF.push(t,"694abOqR59Da7GkPFHywU4T","Role_DB"),Object.defineProperty(n,"__esModule",{value:!0});var s=e("../Utils/Util"),u=e("../Utils/EventDispatch"),l=e("../Utils/Constant"),m=e("./Daoju_DB"),i=e("./AllDB"),o=cc._decorator,r=o.ccclass,a=(o.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mFightCount=1,e.mMaoxianIDToNodeMap=new Map,e.mEnemyIndexToNodeMap=new Map,e.mMaoxianIDAndEnemyIndex={maoxianID:1,enemyIndex:0},e.mChoujiangTime={year:0,month:0,day:0},e.mChoujiangYetCount=0,e.mChangeNameCount=0,e.mShenqifenjieGetshitouArry=[2,2,3,5,6,6,8],e}return __extends(e,t),(a=e).instance=function(){return null==this.mInstance&&(this.mInstance=new a,this.mInstance.InitEvent()),this.mInstance},e.prototype.GetItemByID=function(e){for(var t=null,n=0;n<this.mPlayer_DB.mItemArry.length;n++){var i=this.mPlayer_DB.mItemArry[n];if(i.mID==e){t=i;break}}return t},e.prototype.GetItemsByPinzhi=function(e){for(var t=[],n=0;n<this.mPlayer_DB.mItemArry.length;n++){var i=this.mPlayer_DB.mItemArry[n];i.mPinzhi==e&&1==i.mItemType&&t.push(i)}return t},e.prototype.GetItemByCode=function(e,t){var n=null;if(t)for(var i=0;i<this.mPlayer_DB.mItemArry.length;i++){if((o=this.mPlayer_DB.mItemArry[i]).mCode==e){n=o;break}}else for(i=0;i<this.mPlayer_DB.mItemArry.length;i++){var o;if((o=this.mPlayer_DB.mItemArry[i]).mCode==e){n=o;break}}return n},e.prototype.InitEvent=function(){u.default.register(l.TEventType.EXieZhuangBei_ChangeToRole,this.XieZhuangbei,this),u.default.register(l.TEventType.EChuanZhuangBei_ChangeToRole,this.ChuanZhuangbei_ByBeibao,this),u.default.register(l.TEventType.EDelZhuangBei_ChangeToRole,this.DeletZhuangbei_ByBeibao,this),u.default.register(l.TEventType.EBatchDelZhuangBei_ChangeToRole,this.BatchDeletZhuangbei_ByBeibao,this),u.default.register(l.TEventType.EItemAddToRole,this.AddItem,this),u.default.register(l.TEventType.EUseDaoju_ChangeToRole,this.Usedaoju_ByBeibao,this),u.default.register(l.TEventType.EChoujiang,this.ChangeChoujiang,this),u.default.register(l.TEventType.EChangeGemToRole,this.ChangeGem,this),u.default.register(l.TEventType.EChangeCoinToRole,this.ChangeCoin,this)},e.prototype.AddEXP=function(e){var t=this.mPlayer_DB.mLevel,n=this.mPlayer_DB.mEXP,i=s.default.GetLevelExp();n+=e;for(var o=!1;i<=n;)n-=i,this.mPlayer_DB.mLevel+=1,o=!0,i=s.default.GetLevelExp(),this.LevelUP(),s.default.Upgrade_Attribute();var r=this.mPlayer_DB.mLevel;(r%5==0||t<5)&&o&&(r%5==0&&u.default.emit(l.TEventType.ENew,0),u.default.emit(l.TEventType.ETieJIangPuClikZhuangbei,null,null,!0,t<5)),Math.floor(t/10)<Math.floor(r/10)&&(u.default.emit(l.TEventType.ENew,2),u.default.emit(l.TEventType.ENewFuben)),this.mPlayer_DB.mEXP=n},e.prototype.LevelUP=function(){var t=this,n=null;i.default.instance().mSkillDBMap.forEach(function(e){e.mLevel==t.mPlayer_DB.mLevel&&(n=e,t.ChangeCurSkill(e.mID.toString()))}),null!=n&&u.default.emit(l.TEventType.ELevelUP_ToSkillUIForm,n)},e.prototype.ChangeCoin=function(e){this.mPlayer_DB.mCoin+=e,this.mPlayer_DB.mCoin<=0&&(this.mPlayer_DB.mCoin=0),u.default.emit(l.TEventType.EShuxingChangeToUI),s.default.Serializer(l.TLocalStorage.ERole,this)},e.prototype.ChangeGem=function(e){this.mPlayer_DB.mGem+=e,this.mPlayer_DB.mGem<=0&&(this.mPlayer_DB.mGem=0),u.default.emit(l.TEventType.EShuxingChangeToUI),s.default.Serializer(l.TLocalStorage.ERole,this)},e.prototype.ChangeCurSkill=function(e){this.mPlayer_DB.mSkillIDArry.push(e),s.default.Serializer(l.TLocalStorage.ERole,this)},e.prototype.XieZhuangbei=function(e){this.ShuxingChange(e,!1),this.mPlayer_DB.mZhuangbeiArry.splice(e.mBuWei,1,null),this.mPlayer_DB.mItemArry.push(e),u.default.emit(l.TEventType.EXieZhuangBei_ChangeToBeiBao,e),s.default.Serializer(l.TLocalStorage.ERole,this)},e.prototype.AddItem=function(e){if(0==e.mItemType){for(var t=-1,n=null,i=0;i<this.mPlayer_DB.mItemArry.length;i++)if(this.mPlayer_DB.mItemArry[i].mID==e.mID){n=this.mPlayer_DB.mItemArry[i],t=i;break}0<=t?n.mCount+=e.mCount:this.mPlayer_DB.mItemArry.push(e)}else this.mPlayer_DB.mItemArry.push(e);u.default.emit(l.TEventType.EXieZhuangBei_ChangeToBeiBao,e),s.default.Serializer(l.TLocalStorage.ERole,this)},e.prototype.ChuanZhuangbei_ByBeibao=function(e){this.DeletorChuanZhuangbei_ByBeibao(e,!0)},e.prototype.BatchDeletZhuangbei_ByBeibao=function(e){if(!(e<1)){var t=this.GetItemsByPinzhi(e);if(0<t.length)for(var n=0;n<t.length;n++){var i=t[n];this.DeletZhuangbei_ByBeibao(i)}}},e.prototype.DeletZhuangbei_ByBeibao=function(e){this.DeletorChuanZhuangbei_ByBeibao(e,!1)},e.prototype.DeletorChuanZhuangbei_ByBeibao=function(e,t){u.default.emit(l.TEventType.EChuanZhuangBei_ChangeToBeiBao,e);var n=a.instance().mPlayer_DB.mItemArry.indexOf(e);if(a.instance().mPlayer_DB.mItemArry.splice(n,1),t)this.ShuxingChange(e,!0);else if(e.mPinzhi<6){var i=l.default.mZhuangbeiFenjieStarCoin*e.mPinzhi+1e3*e.mLevel;this.ChangeCoin(i)}else{var o=new m.default;o.Clone("5010");var r=e.mLevel/10-4;o.mCount=this.mShenqifenjieGetshitouArry[r],this.AddItem(o)}s.default.Serializer(l.TLocalStorage.ERole,this)},e.prototype.Usedaoju_ByBeibao=function(e,t){var n=this.GetItemByID(e);if(n)if(n.mCount>=t){if(n.mCount-=t,0==n.mCount){var i=a.instance().mPlayer_DB.mItemArry.indexOf(n);a.instance().mPlayer_DB.mItemArry.splice(i,1)}u.default.emit(l.TEventType.EUseDaoju_ChangeToBeibao,e,t),s.default.Serializer(l.TLocalStorage.ERole,this)}else console.log("数量不够",e);else console.log("玩家没有该物品???",e)},e.prototype.ShuxingChange=function(e,t){var n=e.mZhuShuxingValue;n=t?n:-n,this.UpdateRoleDB(e.mZhuShuxing,n),11<e.mQiangHuaLevel&&(n=e.mFuShuxingValue,n=t?n:-n,this.UpdateRoleDB(e.mFuShuxing,n)),this.FujiaAndShenqi(e.mFuJiaShuxingIDArry,e.mFuJiaShuxingValueArry,t),this.FujiaAndShenqi(e.mShenqiShuxingIDArry,e.mShenqiShuxingValueArry,t),0<=e.mFumoLevel&&(n=e.mFumoValue,n=t?n:-n,this.UpdateRoleDB(e.mFumoShuxing,n))},e.prototype.FujiaAndShenqi=function(e,t,n){for(var i=0;i<e.length;i++){var o=e[i],r=t[i];r=n?r:-r,this.UpdateRoleDB(o,r)}},e.prototype.UpdateRoleDB=function(e,t){this.mPlayer_DB||(this.mPlayer_DB=a.instance().mPlayer_DB);var n=this.mPlayer_DB;switch(e){case 0:n.mHP+=t;break;case 1:n.mAttack+=t,n.mBaojiAttack=n.mBaojiAttack+2*t;break;case 2:n.mDef+=t;break;case 3:n.mMingzhong+=t;break;case 4:n.mShanbi+=t;break;case 5:n.mBaoji+=t;break;case 6:n.mBaojiAttack+=t;break;case 7:n.mFumian+=t}u.default.emit(l.TEventType.EShuxingChangeToUI),s.default.Serializer(l.TLocalStorage.ERole,a.instance())},e.prototype.GetItemByIDOrCode=function(e){var t=null,n=!1,i=null;0==e.mItemType?(t=e.mID,n=!0):(t=e.mCode,n=!1);for(var o=0;o<this.mPlayer_DB.mItemArry.length;o++){var r=this.mPlayer_DB.mItemArry[o];if(n){if(r.mID==t){i=r;break}}else if(r.mCode==t){i=r;break}}return i},e.prototype.ChangeChoujiang=function(e,t,n,i){this.mChoujiangTime.year=e,this.mChoujiangTime.month=t,this.mChoujiangTime.day=n,this.mChoujiangYetCount=i,s.default.Serializer(l.TLocalStorage.ERole,this)},e=a=__decorate([r],e);var a}(cc.Component));n.default=a,cc._RF.pop()},{"../Utils/Constant":"Constant","../Utils/EventDispatch":"EventDispatch","../Utils/Util":"Util","./AllDB":"AllDB","./Daoju_DB":"Daoju_DB"}],Shop_DB:[function(e,t,n){"use strict";cc._RF.push(t,"839101/5c5PY6dGBd7XKpUu","Shop_DB"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,r=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mID="",e.mCount=0,e.mNeedGem=0,e.mGetCoin=0,e}return __extends(e,t),e=__decorate([o],e)}(cc.Component));n.default=r,cc._RF.pop()},{}],ShowTip:[function(e,t,n){"use strict";cc._RF.push(t,"a65e0j+HupMrapFMjIeBggM","ShowTip"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../UIFormwork/ResourcesMar"),o=cc._decorator,r=o.ccclass,a=o.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mLabel=null,e}return __extends(e,t),e.prototype.InitTip=function(e,t){var n=this;this.mLabel.string=e,t!=cc.Color.RED&&(this.mLabel.node.color=t),this.node.runAction(cc.moveBy(.5,cc.p(0,100))),this.scheduleOnce(function(){n.node.parent=null,i.default.instance().mItemPool.put(n.node)},1)},__decorate([a(cc.RichText)],e.prototype,"mLabel",void 0),e=__decorate([r],e)}(cc.Component);n.default=s,cc._RF.pop()},{"../UIFormwork/ResourcesMar":"ResourcesMar"}],SkillItem:[function(e,t,n){"use strict";cc._RF.push(t,"ecfbcfOqttGsoreoLc6CiqA","SkillItem"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Utils/Util"),o=e("../Entity/Role_DB"),r=e("../Utils/Constant"),a=e("../Utils/AllTexture"),s=e("../UIFormwork/ResourcesMar"),u=cc._decorator,l=u.ccclass,m=u.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mSelectToggle=null,e.mIcon=null,e.mName=null,e.mLevel=null,e.mDes=null,e.mRoleDB=null,e.isSelect=!1,e.mCurSkillItem=null,e.mLevStr="等级:",e.mItemAtlas=null,e}return __extends(e,t),e.prototype.onLoad=function(){i.default.RisiterToggleObjectEvent(this.mSelectToggle,this.node,"SelectToggleClick")},e.prototype.InitItem=function(e){this.mRoleDB=o.default.instance().mPlayer_DB,null==this.mItemAtlas&&(this.mItemAtlas=a.default.instance().GetAtlasByName("skills")),this.mCurSkillItem=e;var t=this.mRoleDB.mCurSkillIDArry.indexOf(e.mID);this.mName.string=e.mName,this.mLevel.string=cc.js.formatStr(this.mLevStr,e.mLevel),this.mDes.string=e.mDes,this.mIcon.spriteFrame=this.mItemAtlas.getSpriteFrame(e.mID.toString()),0<=t?this.ChangeToggle(!0):this.ChangeToggle(!1),1==e.mID&&(this.mSelectToggle.node.active=!1)},e.prototype.SelectToggleClick=function(){if(this.isSelect){var e=this.mRoleDB.mCurSkillIDArry.indexOf(this.mCurSkillItem.mID);this.mRoleDB.mCurSkillIDArry.splice(e,1)}else{if(4<=this.mRoleDB.mCurSkillIDArry.length)return s.default.instance().ShowTip("最多携带3个特殊技能"),void this.ChangeToggle(this.isSelect);this.mRoleDB.mCurSkillIDArry.push(this.mCurSkillItem.mID)}this.ChangeToggle(!this.isSelect),i.default.Serializer(r.TLocalStorage.ERole,o.default.instance())},e.prototype.ChangeToggle=function(e){e?(this.isSelect=!0,this.mSelectToggle.isChecked=!0):(this.isSelect=!1,this.mSelectToggle.isChecked=!1)},__decorate([m(cc.Toggle)],e.prototype,"mSelectToggle",void 0),__decorate([m(cc.Sprite)],e.prototype,"mIcon",void 0),__decorate([m(cc.Label)],e.prototype,"mName",void 0),__decorate([m(cc.Label)],e.prototype,"mLevel",void 0),__decorate([m(cc.Label)],e.prototype,"mDes",void 0),e=__decorate([l],e)}(cc.Component);n.default=c,cc._RF.pop()},{"../Entity/Role_DB":"Role_DB","../UIFormwork/ResourcesMar":"ResourcesMar","../Utils/AllTexture":"AllTexture","../Utils/Constant":"Constant","../Utils/Util":"Util"}],SkillUIForm:[function(e,t,n){"use strict";cc._RF.push(t,"c9909LbX9dFaJ9unINurHZ/","SkillUIForm"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../UIFormwork/BaseUIForm"),o=e("../UIFormwork/E_UIForm"),r=e("../UIFormwork/UIManager"),a=e("../Utils/EventDispatch"),s=e("../Utils/Constant"),u=e("../Entity/Role_DB"),l=e("../UI/SkillItem"),m=e("../Entity/AllDB"),c=e("../Utils/Util"),h=cc._decorator,p=h.ccclass,d=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mItemPrefab=null,e.mSkillLayout=null,e.mItemPool=new cc.NodePool,e.mRoleDB=null,e.mRow=1,e.mItemNodeHeight=88,e}return __extends(e,t),e.prototype.onLoad=function(){this.GetUIType.UIForms_ShowMode=o.UIFormShowMode.Normal,this.GetUIType.UIForm_AnimType=o.AnimType.Normal,this.GetUIType.UIForm_LucencyType=o.UIFormLucenyType.ImPenetrable,this.GetUIType.UIForms_Type=o.UIFormType.Normal;for(var e=0;e<5;e++){var t=cc.instantiate(this.mItemPrefab);this.mItemPool.put(t)}this.mRoleDB=u.default.instance().mPlayer_DB,this.InitItem(null),a.default.register(s.TEventType.ELevelUP_ToSkillUIForm,this.InitItem,this)},e.prototype.onEnable=function(){this.mSkillLayout.parent.getComponent(cc.ScrollView).scrollToTop(0)},e.prototype.InitItem=function(e){var t=this.mRoleDB.mSkillIDArry;if(e)this.InitSkillItemNode(e);else for(var n=0;n<t.length;n++){var i=t[n],o=m.default.instance().mSkillDBMap.get(i.toString());this.InitSkillItemNode(o)}c.default.SetLayoudHeight(t.length,this.mRow,this.mItemNodeHeight,this.mSkillLayout,3)},e.prototype.InitSkillItemNode=function(e){var t=null;(t=0<this.mItemPool.size()?this.mItemPool.get():cc.instantiate(this.mItemPrefab)).parent=this.mSkillLayout,t.getComponent(l.default).InitItem(e)},e.prototype.CloseSelfUIForm=function(){r.default.instance().SetCurUIForm=o.CurUIForm.MainUIForm.toString(),this.CloseUIForm(this.node.name)},__decorate([d(cc.Prefab)],e.prototype,"mItemPrefab",void 0),__decorate([d(cc.Node)],e.prototype,"mSkillLayout",void 0),e=__decorate([p],e)}(i.default);n.default=y,cc._RF.pop()},{"../Entity/AllDB":"AllDB","../Entity/Role_DB":"Role_DB","../UI/SkillItem":"SkillItem","../UIFormwork/BaseUIForm":"BaseUIForm","../UIFormwork/E_UIForm":"E_UIForm","../UIFormwork/UIManager":"UIManager","../Utils/Constant":"Constant","../Utils/EventDispatch":"EventDispatch","../Utils/Util":"Util"}],Skill_DB:[function(e,t,n){"use strict";cc._RF.push(t,"a7297W5Sy1FQpaavVOS38+p","Skill_DB"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,r=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mID=0,e.mName="",e.mLevel=0,e.mDes="",e.mBuffTarget=0,e.mIsBUFF=0,e.mTime=0,e}return __extends(e,t),e=__decorate([o],e)}(cc.Component));n.default=r,cc._RF.pop()},{}],Stack:[function(e,t,n){"use strict";cc._RF.push(t,"d92dfgxVi1DjJRsztN5bHxf","Stack");var i=function(){function e(e,t){void 0===t&&(t=null),this._value=e,this._next=t}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"next",{get:function(){return this._next},set:function(e){this._next=e},enumerable:!0,configurable:!0}),e}();(function(){function e(){this._size=0,this._header=new i(null)}e.prototype.top=function(){return 0===this._size?null:this._header.next.value},e.prototype.push=function(e){var t=new i(e);t.next=this._header.next,this._header.next=t,this._size++},e.prototype.pop=function(){if(0===this._size)return null;var e=this._header.next;return this._header.next=e.next,this._size--,e.next=null,e.value},e.prototype.empty=function(){return 0===this._size},e.prototype.size=function(){return this._size}})();cc._RF.pop()},{}],TestUIForm:[function(e,t,n){"use strict";cc._RF.push(t,"f1e14Hth7FOGrprTZutwOnz","TestUIForm"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,r=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mResidueByteArry=new Uint8Array(0),e}return __extends(e,t),e=__decorate([o],e)}(cc.Component));n.default=r,cc._RF.pop()},{}],TieJiangPuItem:[function(e,t,n){"use strict";cc._RF.push(t,"cc17fBfgPFB6bn0Pe13xoiE","TieJiangPuItem"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Utils/AllTexture"),o=e("../Utils/Util"),r=e("../Utils/EventDispatch"),a=e("../Utils/Constant"),s=cc._decorator,u=s.ccclass,l=s.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mIcon=null,e.mLevl=null,e.mSelect=null,e.mPinzhiSprite=null,e.mItemAtlas=null,e.mZhungbeiItem=null,e.mDaojuItem=null,e.mPinzhiStr="quality_bg%s",e.mLevelStr="LV.%s",e.mCurItemCount=0,e.mRow=4,e.mItemNodeHeight=95,e.mCurShopItem=null,e}return __extends(e,t),e.prototype.onLoad=function(){var e=this;o.default.RigisterButtonObjectEvent(this.node,this.node.name,function(){e.mSelect.active=!0,null!=e.mDaojuItem?r.default.emit(a.TEventType.EHeishiClikZhuangbei,e.mDaojuItem,e.mCurShopItem,e):r.default.emit(a.TEventType.ETieJIangPuClikZhuangbei,e.mZhungbeiItem,e)})},e.prototype.InitItem=function(e,t){0==e.mItemType?(this.mDaojuItem=e,t.mCount<=1?this.mLevl.node.active=!1:this.mLevl.node.active=!0,this.mLevl.string=t.mCount.toString(),this.mCurShopItem=t):(this.mZhungbeiItem=e,this.mLevl.string=cc.js.formatStr(this.mLevelStr,e.mLevel)),null==this.mItemAtlas&&(this.mItemAtlas=i.default.instance().GetAtlasByName("items")),this.mIcon.spriteFrame=this.mItemAtlas.getSpriteFrame(e.mID.toString());var n=cc.js.formatStr(this.mPinzhiStr,e.mPinzhi);this.mPinzhiSprite.spriteFrame=this.mItemAtlas.getSpriteFrame(n)},__decorate([l(cc.Sprite)],e.prototype,"mIcon",void 0),__decorate([l(cc.Label)],e.prototype,"mLevl",void 0),__decorate([l(cc.Node)],e.prototype,"mSelect",void 0),__decorate([l(cc.Sprite)],e.prototype,"mPinzhiSprite",void 0),e=__decorate([u],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../Utils/AllTexture":"AllTexture","../Utils/Constant":"Constant","../Utils/EventDispatch":"EventDispatch","../Utils/Util":"Util"}],TieJiangPuUIForm:[function(e,t,n){"use strict";cc._RF.push(t,"ff714L5vyxLT4Kh+qcDunRZ","TieJiangPuUIForm"),Object.defineProperty(n,"__esModule",{value:!0});var r=e("../UIFormwork/E_UIForm"),u=e("../Utils/EventDispatch"),l=e("../Utils/Constant"),m=e("../Utils/Util"),c=e("../Entity/Role_DB"),h=e("../Entity/ZhuangBei_DB"),i=e("../UIFormwork/BaseUIForm"),a=e("../UIFormwork/UIManager"),p=e("../Entity/AllDB"),s=e("../UI/TieJiangPuItem"),o=e("../UI/DazaoNeeDaojuItem"),d=e("../UIFormwork/ResourcesMar"),y=cc._decorator,f=y.ccclass,g=y.property,I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mToggleArry=[],e.mLayoutArry=[],e.mNeedDaojuArry=[],e.mName=null,e.mShuxingLabelCom=[],e.mShuxingCom=null,e.mCurOpenLayout=null,e.mItemPrefab=null,e.mItemPool=new cc.NodePool,e.mRow=5,e.mItemNodeHeight=75,e.mCurSelectZhuangbeiItem=null,e.mLastSelectZhuangbeiItem=null,e.mLastTiejiangItemScri=null,e.mItemAtlas=null,e.mNameStr="%s:%s",e.mShenqiNameStr="%s★%s",e.mPinzhiTypeArry=["占位","普通","精良","卓越","史诗","传说","神器"],e.mBuWeiStr=["头盔","铠甲","护腿","武器","项链","护手","戒指","鞋子"],e.mShuxingStr=["生命","攻击","防御","命中","闪避","暴击","暴击伤害","负面抗性","生命恢复","物品掉落","金币掉落","经验掉落"],e.mWuqiIDs=["6002","6003","6004","6005","6006","6007","6008","6010","6011","6012","6015","6037","6017","6018","6021","6022","6024","6029","6030","6031"],e.mToukuiIDs=["6102","6103","6110","6104","6106","6122","6115","6116","6107","6111","6117","6126","6133","6113","6119","6109","6112","6108","6128","6130"],e.mYifuIDs=["6216","6204","6218","6210","6219","6208","6205","6212","6231","6226","6203","6202","6213","6225","6207","6217","6211","6229","6228","6230"],e.mHutuiIDs=["6702","6703","6708","6705","6707","6709","6704","6713","6722","6712","6727","6729","6711","6706","6714","6731","6725","6726","6728","6719"],e.mHushouIDs=["6302","6303","6304","6305","6306","6324","6332","6311","6316","6307","6313","6309","6318","6317","6323","6315","6336","6329","6328","6335"],e.mXieziIDs=["6404","6406","6402","6413","6405","6414","6434","6420","6417","6426","6433","6422","6416","6431","6419","6411","6412","6432","6429","6421"],e.mXianglianIDs=["6603","6606","6604","6613","6609","6608","6615","6612","6611","6625","6616","6607","6617","6620","6626","6622","6623","6629","6634","6624"],e.mJiezhiIDs=["6502","6504","6505","6510","6506","6509","6521","6508","6517","6518","6513","6526","6533","6530","6515","6525","6527","6522","6531","6507"],e.mPinzhiColorArry=[cc.Color.GRAY,cc.Color.WHITE,cc.color(150,255,70,255),cc.color(70,150,255,255),cc.color(255,70,255,255),cc.color(255,255,70,255),cc.color(255,70,80,255)],e.mEnterStarInit=!1,e.mIsLessFiveLev=!1,e.mFangjuBuWeiArr=[],e.mShipinBuWeiArr=[],e.mLastShowZhuangbeiLevIndex=-1,e}return __extends(e,t),e.prototype.onLoad=function(){var s=this;this.GetUIType.UIForms_ShowMode=r.UIFormShowMode.Normal,this.GetUIType.UIForm_AnimType=r.AnimType.Normal,this.GetUIType.UIForm_LucencyType=r.UIFormLucenyType.ImPenetrable,this.GetUIType.UIForms_Type=r.UIFormType.Normal,this.mEnterStarInit||(this.StarInit(),this.InitItem(null)),this.RigisterButtonObjectEvent(this.node,"backBtn",function(){a.default.instance().SetCurUIForm=r.CurUIForm.MainUIForm.toString(),s.mCurOpenLayout.parent.getComponent(cc.ScrollView).scrollToTop(0),s.ToggleClick0(),s.mToggleArry[0].isChecked=!0,s.InitItem(null),s.CloseUIForm(s.node.name)}),this.RigisterButtonObjectEvent(this.node,"dazaoBtn",function(){for(var e=s.mCurSelectZhuangbeiItem.mHechengNeedDaojuIDArry,t=s.mCurSelectZhuangbeiItem.mHechengNeedDaojuCountArry,n=!0,i=0;i<e.length;i++){var o=e[i],r=c.default.instance().GetItemByID(o);if(null==r){n=!1;break}if(r.mCount<t[i]){n=!1;break}}if(l.default.mIsOpenGMPattern&&(n=!0),n){var a=new h.default;a.Clone(s.mCurSelectZhuangbeiItem.mID.toString()),d.default.instance().ShowTip("打造成功"),u.default.emit(l.TEventType.EItemAddToRole,a);for(i=0;i<e.length;i++){o=e[i];u.default.emit(l.TEventType.EUseDaoju_ChangeToRole,o,t[i])}s.ShowItem(s.mCurSelectZhuangbeiItem)}else d.default.instance().ShowTip("缺少材料")});for(var e=0;e<this.mToggleArry.length;e++){var t=this.mToggleArry[e],n="ToggleClick"+e;m.default.RisiterToggleObjectEvent(t,this.node,n)}for(var i=0;i<5;i++){var o=cc.instantiate(this.mItemPrefab);this.mItemPool.put(o)}u.default.register(l.TEventType.ETieJIangPuClikZhuangbei,this.InitItem,this)},e.prototype.StarInit=function(){this.mFangjuBuWeiArr.length<=0&&(this.mFangjuBuWeiArr.push(this.mToukuiIDs),this.mFangjuBuWeiArr.push(this.mYifuIDs),this.mFangjuBuWeiArr.push(this.mHutuiIDs),this.mFangjuBuWeiArr.push(this.mHushouIDs),this.mFangjuBuWeiArr.push(this.mXieziIDs),this.mShipinBuWeiArr.push(this.mXianglianIDs),this.mShipinBuWeiArr.push(this.mJiezhiIDs));var e=this.GetShowZhuangbeiLev();if(this.mLastShowZhuangbeiLevIndex=e,this.mLastShowZhuangbeiLevIndex=this.mLastShowZhuangbeiLevIndex/5-1,e<5)this.mShuxingCom.active=!1;else{for(var t=2;t<this.mShuxingLabelCom.length;t++){this.mShuxingLabelCom[t].node.parent.active=!1}this.mShuxingCom.active=!0,this.mEnterStarInit=!0,this.InitBuWeiArry(this.mLastShowZhuangbeiLevIndex,0,!1)}},e.prototype.InitBuWeiArry=function(e,t,n){for(var i=e;t<=i;i--)this.InitTieJiangPuItem(this.mWuqiIDs[i],0,n);for(i=0;i<this.mFangjuBuWeiArr.length;i++)for(var o=this.mFangjuBuWeiArr[i],r=e;t<=r;r--)this.InitTieJiangPuItem(o[r],1,n);for(i=0;i<this.mShipinBuWeiArr.length;i++){var a=this.mShipinBuWeiArr[i];for(r=e;t<=r;r--)this.InitTieJiangPuItem(a[r],2,n)}for(var s=0;s<this.mLayoutArry.length;s++)m.default.SetLayoudHeight(this.mLayoutArry[s].childrenCount,this.mRow,this.mItemNodeHeight,this.mLayoutArry[s],6,5)},e.prototype.InitTieJiangPuItem=function(e,t,n){var i=this.GetItemNodeByPool();i.parent=this.mLayoutArry[t],(n&&this.mEnterStarInit||this.mIsLessFiveLev)&&i.setSiblingIndex(0);var o=p.default.instance().mIemMap.get(e);i.getComponent(s.default).InitItem(o,null)},e.prototype.PlayerLeveUpFive=function(){var e=this.mLastShowZhuangbeiLevIndex+1,t=this.ShouldShowZhuangbeiIndex();this.InitBuWeiArry(t,e,!0),this.mLastShowZhuangbeiLevIndex=t},e.prototype.InitItem=function(e,t,n,i){void 0===i&&(i=!1),n&&this.PlayerLeveUpFive(),this.mIsLessFiveLev=i;var o=null;if(null==e){var r=this.GetShowZhuangbeiLev(),a=r;if(a=a/5-1,r<5)return void(this.mShuxingCom.active=!1);for(var s=2;s<this.mShuxingLabelCom.length;s++){this.mShuxingLabelCom[s].node.parent.active=!1}this.mShuxingCom.active=!0,o=p.default.instance().mIemMap.get(this.mWuqiIDs[a])}else{if(this.mLastSelectZhuangbeiItem.mID==e.mID)return void(this.mLastTiejiangItemScri=t);null!=this.mLastTiejiangItemScri&&(this.mLastTiejiangItemScri.mSelect.active=!1),o=e,this.mLastTiejiangItemScri=t}this.mLastSelectZhuangbeiItem=o,this.mCurSelectZhuangbeiItem=o,this.mCurOpenLayout=this.mLayoutArry[0];c.default.instance().mPlayer_DB;this.ShowItem(o)},e.prototype.ShowItem=function(e){if(null!=e){e.mPinzhi<6?this.mName.string=cc.js.formatStr(this.mNameStr,this.mPinzhiTypeArry[e.mPinzhi],e.mName):this.mName.string=cc.js.formatStr(this.mShenqiNameStr,this.mPinzhiTypeArry[e.mPinzhi]),this.mName.node.color=this.mPinzhiColorArry[e.mPinzhi];for(var t=2;t<=e.mPinzhi;t++){this.mShuxingLabelCom[t].node.parent.active=!0}for(var n=e.mPinzhi+1;n<=6;n++){this.mShuxingLabelCom[n].node.parent.active=!1}var i=e.mHechengNeedDaojuIDArry,o=e.mHechengNeedDaojuCountArry;for(t=0;t<this.mNeedDaojuArry.length;t++){var r=t;this.mNeedDaojuArry[r].node.active=!0,this.mNeedDaojuArry[r].InitItem(r,i,o)}}},e.prototype.ToggleClick0=function(){this.mLayoutArry[1].parent.active=!1,this.mLayoutArry[2].parent.active=!1,this.mLayoutArry[0].parent.active=!0;var e=m.default.instance().mTiejiangPuFangjuSelect;e&&(e.mSelect.active=!1);var t=m.default.instance().mTiejiangPuShiPinSelect;t&&(t.mSelect.active=!1),this.mCurOpenLayout=this.mLayoutArry[0],this.mCurOpenLayout.parent.getComponent(cc.ScrollView).scrollToTop(0)},e.prototype.ToggleClick1=function(){this.mLayoutArry[2].parent.active=!1,this.mLayoutArry[0].parent.active=!1,this.mLayoutArry[1].parent.active=!0;var e=m.default.instance().mTiejiangPuWuqiSelect;e&&(e.mSelect.active=!1);var t=m.default.instance().mTiejiangPuShiPinSelect;t&&(t.mSelect.active=!1),this.mCurOpenLayout=this.mLayoutArry[1],this.mCurOpenLayout.parent.getComponent(cc.ScrollView).scrollToTop(0)},e.prototype.ToggleClick2=function(){this.mLayoutArry[0].parent.active=!1,this.mLayoutArry[1].parent.active=!1,this.mLayoutArry[2].parent.active=!0;var e=m.default.instance().mTiejiangPuWuqiSelect;e&&(e.mSelect.active=!1);var t=m.default.instance().mTiejiangPuFangjuSelect;t&&(t.mSelect.active=!1),this.mCurOpenLayout=this.mLayoutArry[2],this.mCurOpenLayout.parent.getComponent(cc.ScrollView).scrollToTop(0)},e.prototype.GetShowZhuangbeiLev=function(){var e=c.default.instance().mPlayer_DB.mLevel,t=e;return 100<=(e-=t%=5)&&(e=100),e},e.prototype.ShouldShowZhuangbeiIndex=function(){var e=this.GetShowZhuangbeiLev();return e=e/5-1},e.prototype.GetItemNodeByPool=function(){return 0<this.mItemPool.size()?this.mItemPool.get():cc.instantiate(this.mItemPrefab)},__decorate([g([cc.Toggle])],e.prototype,"mToggleArry",void 0),__decorate([g([cc.Node])],e.prototype,"mLayoutArry",void 0),__decorate([g({type:[o.default],serializable:!0,displayName:"所需材料"})],e.prototype,"mNeedDaojuArry",void 0),__decorate([g(cc.Label)],e.prototype,"mName",void 0),__decorate([g([cc.Label])],e.prototype,"mShuxingLabelCom",void 0),__decorate([g(cc.Node)],e.prototype,"mShuxingCom",void 0),__decorate([g(cc.Prefab)],e.prototype,"mItemPrefab",void 0),e=__decorate([f],e)}(i.default);n.default=I,cc._RF.pop()},{"../Entity/AllDB":"AllDB","../Entity/Role_DB":"Role_DB","../Entity/ZhuangBei_DB":"ZhuangBei_DB","../UI/DazaoNeeDaojuItem":"DazaoNeeDaojuItem","../UI/TieJiangPuItem":"TieJiangPuItem","../UIFormwork/BaseUIForm":"BaseUIForm","../UIFormwork/E_UIForm":"E_UIForm","../UIFormwork/ResourcesMar":"ResourcesMar","../UIFormwork/UIManager":"UIManager","../Utils/Constant":"Constant","../Utils/EventDispatch":"EventDispatch","../Utils/Util":"Util"}],UIManager:[function(e,t,n){"use strict";cc._RF.push(t,"3d7a48iAhlGvovh42EtZ8yC","UIManager"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Utils/Constant"),o=e("./BaseUIForm"),r=cc._decorator,a=r.ccclass,s=r.property,u=e("./E_UIForm"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mDebugLabel=null,e.testLabel="1111",e.mAllUIFormMap=new Map,e.mCurStackShowUIFormArry=new Array,e.mAlreadyOpenUIFormArry=new Array,e.mCurAllShowUIFormArry=new Array,e.mCurShowUIFromMap=new Map,e.mGameCanvas=null,e.mNormalNode=null,e.mFixedNode=null,e.mPopUpNode=null,e.isLoadAsses=!0,e.mCurUIForm=u.CurUIForm.MainUIForm,e}return __extends(e,t),n=e,Object.defineProperty(e.prototype,"GetCurUIFrom",{get:function(){return this.mCurUIForm},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SetCurUIForm",{set:function(e){this.mCurUIForm=u.CurUIForm[e]},enumerable:!0,configurable:!0}),e.instance=function(){if(null==this.mInstance){var e=cc.find("Canvas/"+i.default.mScriptMgr),t=new cc.Node("_UIManager");this.mInstance=t.addComponent(n),e.addChild(t),t.setPosition(0,0)}return this.mInstance},e.prototype.onLoad=function(){this.InitUIRoot()},e.prototype.InitUIRoot=function(){this.mGameCanvas=cc.find("Canvas"),this.mNormalNode=this.mGameCanvas.getChildByName(i.default.mNomal),this.mFixedNode=this.mGameCanvas.getChildByName(i.default.mFixed),this.mPopUpNode=this.mGameCanvas.getChildByName(i.default.mPopUp),this.mDebugLabel=this.mGameCanvas.getComponentInChildren(cc.Label)},e.prototype.ShowUIForms=function(e){var t=null;if(null==(t=this.LoadFormsToAllUIFormsCatch(e)))return cc.log("没有将["+e+"]加入到集合"),null;switch(t.GetUIType.IsClearStack&&this.ClearStackArray(),t.GetUIType.UIForms_ShowMode){case u.UIFormShowMode.Normal:this.PushUIToCurrentCache(e);break;case u.UIFormShowMode.ReverseChange:this.PushUIFormToStack(e);break;case u.UIFormShowMode.HideOther:this.PushUIFormsAndHideOther(e)}switch(t.GetUIType.UIForm_AnimType){case u.AnimType.TopToBottom:break;case u.AnimType.SmallToBig:t.node.runAction(cc.scaleTo(.2,1,1))}return t},e.prototype.OpenUIFormAndCloseOther=function(e){var t=u.CurUIForm[e],n=null;return t!=this.mCurUIForm&&(n=this.ShowUIForms(e),this.mCurUIForm=t,this.mCurAllShowUIFormArry.indexOf(e)<0&&this.mCurAllShowUIFormArry.push(e),this.CloseOtherUIForm(e)),n},e.prototype.CloseOtherUIForm=function(e){for(var t=0;t<this.mCurAllShowUIFormArry.length;t++){var n=this.mCurAllShowUIFormArry[t];null!=n&&n!=e&&n!=u.CurUIForm.MainUIForm&&(this.CloseUIForms(n),this.mCurAllShowUIFormArry.slice(n,1))}},e.prototype.SetCurUIFormByCenter=function(e){this.mCurUIForm=u.CurUIForm[e],this.mCurAllShowUIFormArry.indexOf(e)<0&&this.mCurAllShowUIFormArry.push(e)},e.prototype.CloseUIForms=function(e,t){void 0===t&&(t=null);var n=null;if(null==(n=this.LoadFormsToAllUIFormsCatch(e)))return cc.log("没有将["+e+"]加入到集合"),null;switch(n.GetUIType.UIForms_ShowMode){case u.UIFormShowMode.Normal:this.CloseNomalUIForm(e);break;case u.UIFormShowMode.ReverseChange:this.ClosePopUIFrom(e);break;case u.UIFormShowMode.HideOther:this.CloseAndDisplayOtherUIForms(e)}switch(n.GetUIType.UIForm_AnimType){case u.AnimType.TopToBottom:break;case u.AnimType.SmallToBig:n.node.runAction(cc.scaleTo(.2,0,0))}t&&(t.active=!1)},e.prototype.LoadFormsToAllUIFormsCatch=function(e){var t,n=this.mAllUIFormMap.get(e);if(null==n)return cc.log("没有将["+e+"]加入到集合"),null;t=n.getComponent(o.default);for(var i=0;i<this.mAlreadyOpenUIFormArry.length;i++){if(this.mAlreadyOpenUIFormArry[i]==n.name)return t}switch(this.mAlreadyOpenUIFormArry.push(n.name),this.mGameCanvas.addChild(n),n.parent=null,t.GetUIType.UIForms_Type){case u.UIFormType.Normal:this.mNormalNode.addChild(n);break;case u.UIFormType.Fixed:this.mFixedNode.addChild(n);break;case u.UIFormType.PopUp:this.mPopUpNode.addChild(n)}return n.setPosition(0,0),t},e.prototype.PushUIToCurrentCache=function(e){if(!this.mCurShowUIFromMap.has(e)){var t=this.mAllUIFormMap.get(e).getComponent(o.default);this.mCurShowUIFromMap.set(e,t),t.ActiveUIForm()}},e.prototype.PushUIFormToStack=function(e){for(var t=null,n=0;n<this.mCurStackShowUIFormArry.length;n++)if((t=this.mCurStackShowUIFormArry[n]).node.name==e)return;if(0<this.mCurStackShowUIFormArry.length){var i=this.mCurStackShowUIFormArry.pop();i.Freeze(),this.mCurStackShowUIFormArry.push(i)}null!=(t=this.mAllUIFormMap.get(e).getComponent(o.default))&&(t.ActiveUIForm(),this.mCurStackShowUIFormArry.push(t))},e.prototype.PushUIFormsAndHideOther=function(e){this.mCurStackShowUIFormArry.forEach(function(e,t){var n=e;n.UnActiveUIForm(),n.node.active=!1}),this.mCurShowUIFromMap.forEach(function(e,t){e.getComponent(o.default).UnActiveUIForm()}),this.PushUIToCurrentCache(e)},e.prototype.CloseNomalUIForm=function(e){var t=this.mCurShowUIFromMap.get(e);t&&(t.getComponent(o.default).UnActiveUIForm(),this.mCurShowUIFromMap.delete(e))},e.prototype.ClosePopUIFrom=function(e){var t=null;2<=this.mCurStackShowUIFormArry.length?((t=this.mCurStackShowUIFormArry.pop()).UnActiveUIForm(),(t=this.mCurStackShowUIFormArry.pop()).Redisplay(),this.mCurStackShowUIFormArry.push(t)):1==this.mCurStackShowUIFormArry.length&&(t=this.mCurStackShowUIFormArry.pop()).UnActiveUIForm()},e.prototype.CloseAndDisplayOtherUIForms=function(e){this.CloseNomalUIForm(e),this.mCurStackShowUIFormArry.forEach(function(e,t){e.Redisplay()}),this.mCurShowUIFromMap.forEach(function(e,t){e.getComponent(o.default).Redisplay()})},e.prototype.ClearStackArray=function(){0<this.mCurStackShowUIFormArry.length&&(this.mCurStackShowUIFormArry.forEach(function(e,t){e.UnActiveUIForm()}),this.mCurStackShowUIFormArry.length=0)},e.mInstance=null,__decorate([s(cc.Label)],e.prototype,"mDebugLabel",void 0),e=n=__decorate([a],e);var n}(cc.Component);n.default=l,cc._RF.pop()},{"../Utils/Constant":"Constant","./BaseUIForm":"BaseUIForm","./E_UIForm":"E_UIForm"}],UIMaskMgr:[function(e,t,n){"use strict";cc._RF.push(t,"1113bUIg1JO2qsjI6frb2+n","UIMaskMgr"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Utils/Constant"),o=e("../Utils/CCCompentHelper"),r=cc._decorator,a=r.ccclass,s=r.property,u=e("./E_UIForm"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e.mCanvas=null,e.mScriptsParentNode=null,e.mMaskPanel=null,e.mMaskColor=null,e.mMaskStarZinde=50,e.mOldMaskZinde=0,e}return __extends(e,t),(n=e).instance=function(){if(null==this.mInstance){var e=cc.find("Canvas"),t=new cc.Node("_UIMaskMgr");this.mInstance=t.addComponent(n),e.getChildByName(i.default.mScriptMgr).addChild(t),t.setPosition(0,0)}return this.mInstance},e.prototype.onLoad=function(){this.mScriptsParentNode=this.node.parent,this.mCanvas=cc.find("Canvas");var e=this.mCanvas.getChildByName(i.default.mPopUp);this.mMaskPanel=o.default.FindChildNode(e,i.default.m_UIMaskPanel),this.mOldMaskZinde=this.mMaskPanel.zIndex},e.prototype.SetMaskNode=function(e,t){switch(t){case u.UIFormLucenyType.Lucency:this.mMaskPanel.active=!0,this.mMaskPanel.opacity=0;break;case u.UIFormLucenyType.Translucence:this.mMaskPanel.active=!0,this.mMaskPanel.opacity=125;break;case u.UIFormLucenyType.ImPenetrable:this.mMaskPanel.active=!0,this.mMaskPanel.opacity=90;break;case u.UIFormLucenyType.Pentrate:this.mMaskPanel.active&&(this.mMaskPanel.active=!1);break;case u.UIFormLucenyType.NoLucency:this.mMaskPanel.opacity=255}this.mMaskPanel.zIndex=this.mMaskStarZinde,this.mMaskStarZinde+=1,e.zIndex=this.mMaskStarZinde},e.prototype.CancelMaskNode=function(e){this.mMaskPanel.active&&(this.mMaskPanel.zIndex=this.mOldMaskZinde,e.zIndex=50,this.mMaskPanel.active=!1)},e.mInstance=null,__decorate([s(cc.Label)],e.prototype,"label",void 0),__decorate([s],e.prototype,"text",void 0),e=n=__decorate([a],e);var n}(cc.Component);n.default=l,cc._RF.pop()},{"../Utils/CCCompentHelper":"CCCompentHelper","../Utils/Constant":"Constant","./E_UIForm":"E_UIForm"}],UIType:[function(e,t,n){"use strict";cc._RF.push(t,"932d3yqM4xK3Jfdf0iXmaLD","UIType"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./E_UIForm"),o=function(){this.IsClearStack=!1,this.UIForms_Type=i.UIFormType.Normal,this.UIForms_ShowMode=i.UIFormShowMode.Normal,this.UIForm_AnimType=i.AnimType.Normal,this.UIForm_LucencyType=i.UIFormLucenyType.Lucency};n.default=o,cc._RF.pop()},{"./E_UIForm":"E_UIForm"}],Util:[function(e,t,n){"use strict";cc._RF.push(t,"7c2dctKlRlPc5XR46sR2lW6","Util"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./CCCompentHelper"),h=e("../Entity/Role_DB"),r=e("./EventDispatch"),p=e("./Constant"),i=cc._decorator,a=i.ccclass,s=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mBeibaoZhuangbeiSelect=null,e.mBeibaoDaojuSelect=null,e.mTiejiangPuWuqiSelect=null,e.mTiejiangPuFangjuSelect=null,e.mTiejiangPuShiPinSelect=null,e.mNeedPTShitouArry=[1,1,1,1,2,3,6,8,12,16,21,27,34,42,51,62,73,85,98,115],e.mNeedHeightShitouArry=[10,16,28,44,64],e.mChongzhuNeedShitouArry=[1,3,6,8,12,16,21,27,34,45],e.mFumoNeedGemArry=[3,4,7,11,18,29,47,76,123,200],e.mZhuangbeiLevArry=[11,21,31,41,51,61,71,81,91,101],e.mFumoJichuValueArry=[75,60,50,65,32,16,20,15],e.mFumoSetUpValueArry=[10,6,3,8,4,1,5,5],e.mFujiaShuxingIDArry=[0,1,2,3,4,5,6,7,8,9,10],e.mShuxingValueMultipleByLev=[26,3.5,3.6,7,10,5.5,1.5,1],e}var c;return __extends(e,t),(c=e).instance=function(){return null==this.mInstance&&(this.mInstance=new c),this.mInstance},e.GetCode=function(){var e=null;return-2147483648==this.mAddCode&&(e=c.UnSerializer(p.TLocalStorage.ECode,!1)),e&&(this.mAddCode=c.UnSerializer(p.TLocalStorage.ECode,!1)),this.mAddCode+=1,c.Serializer(p.TLocalStorage.ECode,this.mAddCode,!1),this.mAddCode},e.setSeq=function(e,t){e.runAction(cc.sequence(t))},e.RigisterButtonObjectEvent=function(e,t,n){var i=o.default.FindChildNode(e,t);i.on(cc.Node.EventType.TOUCH_START,function(){}),i.on(cc.Node.EventType.TOUCH_END,function(){n()})},e.RisiterToggleObjectEvent=function(e,t,n){var i=new cc.Component.EventHandler;i.target=t,i.component=t.name,i.handler=n,e.checkEvents.push(i)},e.RandomNumber=function(e,t){if(e==t)return e;var n=Math.random();return Math.floor(n*t+(1-n)*e+n)},e.RandomNumberByArry=function(e){return e[c.RandomNumber(0,e.length-1)]},e.Serializer=function(e,t,n){void 0===n&&(n=!0);var i=t;n&&(i=JSON.stringify(i)),cc.sys.localStorage.setItem(e,i)},e.UnSerializer=function(e,t){void 0===t&&(t=!0);var n=cc.sys.localStorage.getItem(e);return t&&(n=JSON.parse(n)),n},e.SetLayoudHeight=function(e,t,n,i,o,r){void 0===o&&(o=0),void 0===r&&(r=0);var a=e=Math.ceil(e/=t);a-=1;var s=(e*=n)+(a*=o)+r;i.height=s},e.GetLevelExp=function(){var e=h.default.instance().mPlayer_DB,t=e.mLevel+1;return 3*Math.pow(t+Math.floor(e.mLevel/10),3)+25*Math.pow(t+Math.floor(e.mLevel/10),2)+12*t+160},e.Upgrade_Attribute=function(){var e=h.default.instance().mPlayer_DB,t=e.mLevel%10;e.mAttack=e.mAttack+6*t,e.mHP=e.mHP+10*t,e.mDef=e.mDef+5*t,e.mMingzhong=e.mMingzhong+5*t,e.mShanbi=e.mShanbi+6*t,e.mBaoji=e.mBaoji+6*t,e.mBaojiAttack=e.mBaojiAttack+10*t,e.mFumian=e.mFumian+3*t,r.default.emit(p.TEventType.EShuxingChangeToUI)},e.prototype.QianghuaNeedPT=function(e){return this.mNeedPTShitouArry[e-1]},e.prototype.QianghuaNeedHeight=function(e){return-1==(e-16<0?-1:e-16)?0:this.mNeedHeightShitouArry[e-16]},e.prototype.ChongzhuNeedCoin=function(e,t){return(e+10)*t*68},e.prototype.ChongzhuNeedShitou=function(e){return this.mChongzhuNeedShitouArry[this.GetZhuangbeiLevSection(e)]},e.prototype.FumoNeedCoin=function(e,t){return(e+10)*t*92},e.prototype.FumoNeedGem=function(e){return this.mFumoNeedGemArry[this.GetZhuangbeiLevSection(e)]},e.prototype.QianghuaItem=function(e,t){var n=e.mZhuShuxingValue,i=e.mQiangHuaLevel+1,o=i;o%=2;e.mZhuShuxingValue=e.mZhuShuxingValue+i*e.mPinzhi,e.mQiangHuaLevel=i,this.ChongzhuQuJian(e,e.mChongzhuLevel,e.mZhuShuxingValue,!0);var r=e.mZhuShuxingValue-n;h.default.instance().GetItemByCode(e.mCode,t);t||(h.default.instance().UpdateRoleDB(e.mZhuShuxing,r),12==i&&h.default.instance().UpdateRoleDB(e.mFuShuxing,e.mFuShuxingValue)),c.Serializer(p.TLocalStorage.ERole,h.default.instance())},e.prototype.ChongzhuItem=function(e,t,n){void 0===n&&(n=!1);e.mQiangHuaLevel;var i=e.mZhuShuxingValue,o=e.mChongzhuLevel,r=c.RandomNumber(0,3);if(r==e.mChongzhuLevel?e.mZhuShuxingValue=c.RandomNumber(e.mChongzhuMinValue,e.mChongzhuMaxValue):e.mChongzhuLevel=r,t){this.ChongzhuQujianByChongzhuBtn(e,r,o);var a=e.mZhuShuxingValue-i;n||h.default.instance().UpdateRoleDB(e.mZhuShuxing,a);h.default.instance().GetItemByCode(e.mCode,n);e}else this.ChongzhuQuJian(e,r,e.mZhuShuxingValue);c.Serializer(p.TLocalStorage.ERole,h.default.instance())},e.prototype.ChongzhuQujianByChongzhuBtn=function(e,t,n){void 0===t&&(t=0);e.mQiangHuaLevel;var i=5*(t-n),o=e.mChongzhuMinValue+=i,r=e.mChongzhuMaxValue+=i;e.mChongzhuLevel=t,e.mChongzhuMinValue=o,e.mChongzhuMaxValue=r,e.mZhuShuxingValue=c.RandomNumber(o,r)},e.prototype.ChongzhuQuJian=function(e,t,n,i){void 0===t&&(t=0),void 0===i&&(i=!1);var o=0,r=0,a=e.mQiangHuaLevel,s=n;if(a<6)switch(t){case 0:o=s+1,r=s+3;break;case 1:o=s+4,r=s+6;break;case 2:o=s+7,r=s+9;break;case 3:o=s+10,r=s+13}else if(a<11)switch(t){case 0:o=s+1,r=s+4;break;case 1:o=s+5,r=s+8;break;case 2:o=s+9,r=s+12;break;case 3:o=s+13,r=s+16}else if(a<16)switch(t){case 0:o=s+1,r=s+5;break;case 1:o=s+6,r=s+10;break;case 2:o=s+11,r=s+15;break;case 3:o=s+16,r=s+20}else switch(t){case 0:o=s+1,r=s+6;break;case 1:o=s+7,r=s+12;break;case 2:o=s+13,r=s+18;break;case 3:o=s+19,r=s+25}e.mChongzhuLevel=t,e.mChongzhuMinValue=o,e.mChongzhuMaxValue=r,e.mZhuShuxingValue=c.RandomNumber(o,r)},e.prototype.FumoItem=function(e,t,n,i){var o=e.mFumoShuxing,r=e.mFumoValue,a=e.mFumoLevel,s=c.RandomNumber(t,n),u=c.RandomNumber(0,7);if(s!=a||u!=o){e.mFumoLevel=s,e.mFumoShuxing=u;var l=this.mFumoJichuValueArry[u],m=this.mFumoSetUpValueArry[u];e.mFumoValue=(l+m+s+e.mLevel)*e.mPinzhi;h.default.instance().GetItemByCode(e.mCode,i);e,i||(h.default.instance().UpdateRoleDB(o,-r),h.default.instance().UpdateRoleDB(u,e.mFumoValue)),c.Serializer(p.TLocalStorage.ERole,h.default.instance())}},e.prototype.FujiaShuxingIDs=function(e){var t=e.mPinzhi,n=[],i=[];if(0!=t){for(var o=0;o<t-1;o++){var r=c.RandomNumber(0,7);n.push(r);var a=this.mShuxingValueMultipleByLev[r];a=Math.floor(a);var s=e.mLevel*a+t;i.push(s)}e.mFuJiaShuxingIDArry=[],e.mFuJiaShuxingValueArry=[],e.mFuJiaShuxingIDArry=n,e.mFuJiaShuxingValueArry=i}},e.prototype.ShenqiShuxingIDs=function(e){var t=e.mPinzhi;if(!(t<6)){for(var n=c.RandomNumber(1,4),i=[],o=[],r=0;r<n;r++){var a=c.RandomNumber(0,7);i.push(a);var s=this.mShuxingValueMultipleByLev[a],u=e.mLevel*s+t;o.push(u)}e.mShenqiShuxingIDArry=[],e.mShenqiShuxingValueArry=[],e.mShenqiShuxingIDArry=i,e.mShenqiShuxingValueArry=o}},e.prototype.Shenqixilian=function(e,t){var n=c.RandomNumber(0,7),i=this.mShuxingValueMultipleByLev[n],o=t.mLevel*i+t.mPinzhi;t.mShenqiShuxingIDArry.splice(e,1,n),t.mShenqiShuxingValueArry.splice(e,1,o),r.default.emit(p.TEventType.EUseDaoju_ChangeToRole,"5010",p.default.mShenqiXiaohao)},e.prototype.GetZhuangbeiLevSection=function(e){if(e<=1)return 0;for(var t=0;t<this.mZhuangbeiLevArry.length;t++){if(e<this.mZhuangbeiLevArry[t])return t}},e.mInstance=null,e.mAddCode=-2147483648,e=c=__decorate([a],e)}(cc.Component));n.default=s,cc._RF.pop()},{"../Entity/Role_DB":"Role_DB","./CCCompentHelper":"CCCompentHelper","./Constant":"Constant","./EventDispatch":"EventDispatch"}],WuPinItem:[function(e,t,n){"use strict";cc._RF.push(t,"274189WigJFn6IdnjIPya37","WuPinItem"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Utils/AllTexture"),i=e("../Utils/Util"),r=e("../UIFormwork/UIManager"),a=e("../Utils/Constant"),s=e("../UIFormwork/ResourcesMar"),u=cc._decorator,l=u.ccclass,m=u.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mCount=null,e.mIcon=null,e.mSelect=null,e.mPinzhiSprite=null,e.mItemAtlas=null,e.mItem=null,e.mPinzhiStr="quality_bg%s",e.mCurItemCount=0,e.mRow=4,e.mItemNodeHeight=95,e.mBeiBaoUIForm=null,e.mFightEndUIForm=null,e}return __extends(e,t),e.prototype.onLoad=function(){i.default.RigisterButtonObjectEvent(this.node,this.node.name,function(){if(null!=this.mItem)if(this.mItem.mItemType!=a.TItemType.zhuangbei||this.mFightEndUIForm)if(this.mFightEndUIForm){if(this.mItem.mItemType==a.TItemType.zhuangbei)return void s.default.instance().ShowTip("装备请到背包内查看");r.default.instance().ShowUIForms(a.default.mFightDaojuPopUIForm).InitUIFormItme(this.mItem,this)}else{this.mSelect.active=!0,r.default.instance().ShowUIForms(a.default.mDaojuPopUIForm).InitUIFormItme(this.mItem,this)}else this.mSelect.active=!0,r.default.instance().ShowUIForms(a.default.mZhuangBeiPopUIForm).InitUIFormItme(this.mItem,!0,this)}.bind(this))},e.prototype.InitItem=function(e,t,n){this.mItem=e,this.mCurItemCount=0,this.mBeiBaoUIForm=t,null==this.mItemAtlas&&(this.mItemAtlas=o.default.instance().GetAtlasByName("items")),this.mFightEndUIForm=n,this.mIcon.spriteFrame=this.mItemAtlas.getSpriteFrame(e.mIcon);var i=cc.js.formatStr(this.mPinzhiStr,e.mPinzhi);this.mPinzhiSprite.spriteFrame=this.mItemAtlas.getSpriteFrame(i),e.mCount<2?(this.mCurItemCount=1,this.mCount.node.active=!1):(this.mCurItemCount=e.mCount,this.mCount.string=e.mCount.toString(),this.mCount.node.active=!0)},e.prototype.ChangeCount=function(){this.mCurItemCount+=1,this.mCurItemCount<2?this.mCount.node.active=!1:(this.mCount.node.active=!0,this.mCount.string=this.mCurItemCount.toString())},e.prototype.AddCount=function(e){0==e.mItemType&&this.mItem.mID==e.mID&&(this.mCount.node.active=!0,this.mCurItemCount+=e.mCount,this.mCount.string=this.mCurItemCount.toString())},e.prototype.DelCount=function(e,t,n){this.mItem.mID==e&&(this.mCurItemCount-=t,1<this.mCurItemCount?this.mCount.string=this.mCurItemCount.toString():1==this.mCurItemCount?this.mCount.node.active=!1:0==this.mCurItemCount?this.ClearItem(n):console.log("数据层数量够吗????"))},e.prototype.ClearItem=function(e){e<0&&console.log("物品没在背包????"),0==this.mItem.mItemType?(this.mBeiBaoUIForm.mDaojuIDs.splice(e,1),i.default.SetLayoudHeight(this.mBeiBaoUIForm.mDaojuIDs.length,this.mRow,this.mItemNodeHeight,this.mBeiBaoUIForm.mDaojuLayout,1,3)):(this.mBeiBaoUIForm.mZhuangbeiIDS.splice(e,1),i.default.SetLayoudHeight(this.mBeiBaoUIForm.mZhuangbeiIDS.length,this.mRow,this.mItemNodeHeight,this.mBeiBaoUIForm.mZhuangbeiLayout,1,3)),this.mCurItemCount=0,this.mItem=null,this.node.parent=null,this.mBeiBaoUIForm.mItemPool.put(this.node)},__decorate([m(cc.Label)],e.prototype,"mCount",void 0),__decorate([m(cc.Sprite)],e.prototype,"mIcon",void 0),__decorate([m(cc.Node)],e.prototype,"mSelect",void 0),__decorate([m(cc.Sprite)],e.prototype,"mPinzhiSprite",void 0),e=__decorate([l],e)}(cc.Component);n.default=c,cc._RF.pop()},{"../UIFormwork/ResourcesMar":"ResourcesMar","../UIFormwork/UIManager":"UIManager","../Utils/AllTexture":"AllTexture","../Utils/Constant":"Constant","../Utils/Util":"Util"}],ZhuangBeiItem:[function(e,t,n){"use strict";cc._RF.push(t,"17119ceALlMQq/BjEi18Wug","ZhuangBeiItem"),Object.defineProperty(n,"__esModule",{value:!0});var c=e("../Utils/Util"),h=e("../Utils/AllTexture"),i=e("../Utils/Constant"),o=e("../Utils/EventDispatch"),r=e("../UIFormwork/UIManager"),p=e("../Utils/Constant"),d=e("../Entity/Role_DB"),a=cc._decorator,s=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mQianghuaLev=null,e.mLevel=null,e.mIcon=null,e.mPinzhi=null,e.mFumoLev=null,e.mZhuangBeiItem=null,e.mItemAtlas=null,e.mLevelStr="Lv.%s",e.mPinzhiStr="quality_bg%s",e.mTBuWeiType=i.TBuWeiType.tou,e}return __extends(e,t),e.prototype.onLoad=function(){o.default.register(i.TEventType.EXie_ZhuangBei,this.xieZhuangbei,this),o.default.register(i.TEventType.EChuan_ZhuangBei,this.InitZBItem,this),o.default.register(i.TEventType.EJiaQiangFumo,this.JiaqiangFumoChangeUI,this),o.default.register(i.TEventType.EJiaQiangQianghua,this.JiaqiangQianghuaChangeUI,this),c.default.RigisterButtonObjectEvent(this.node,this.node.name,function(){null!=this.mZhuangBeiItem&&r.default.instance().ShowUIForms(p.default.mZhuangBeiPopUIForm).InitUIFormItme(this.mZhuangBeiItem,!1)}.bind(this))},e.prototype.InitZBItem=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];null==this.mItemAtlas&&(this.mItemAtlas=h.default.instance().GetAtlasByName("items"));var n=e[0];if(n.mBuWei==this.mTBuWeiType){for(var i=d.default.instance().mPlayer_DB,o=!1,r=0;r<i.mZhuangbeiArry.length;r++){var a=i.mZhuangbeiArry[r];null!=a&&(a.mBuWei==n.mBuWei&&(o=!0))}(null!=this.mZhuangBeiItem||o)&&(this.xieZhuangbei(this.mZhuangBeiItem),d.default.instance().mPlayer_DB.mZhuangbeiArry.splice(n.mBuWei,1,n),c.default.Serializer(p.TLocalStorage.ERole,d.default.instance())),this.mZhuangBeiItem=n,this.mIcon.node.active=!0,this.mIcon.spriteFrame=this.mItemAtlas.getSpriteFrame(n.mIcon),this.mLevel.string=cc.js.formatStr(this.mLevelStr,n.mLevel);var s=cc.js.formatStr(this.mPinzhiStr,n.mPinzhi);this.mPinzhi.node.active=!0,this.mPinzhi.spriteFrame=this.mItemAtlas.getSpriteFrame(s);var u=n.mQiangHuaLevel,l=n.mFumoLevel,m=l+l.toString();0<u?(this.mQianghuaLev.node.active=!0,this.mQianghuaLev.string="+"+u.toString()):this.mQianghuaLev.node.active=!1,0<=l?(this.mFumoLev.node.active=!0,this.mFumoLev.spriteFrame=this.mItemAtlas.getSpriteFrame(m)):this.mFumoLev.node.active=!1,d.default.instance().mPlayer_DB.mZhuangbeiArry.splice(n.mBuWei,1,n),c.default.Serializer(p.TLocalStorage.ERole,d.default.instance())}},e.prototype.JiaqiangFumoChangeUI=function(e){if(null!=this.mZhuangBeiItem&&this.mZhuangBeiItem.mBuWei==e){var t=this.mZhuangBeiItem.mFumoLevel,n=t+t.toString();0<=t?(this.mFumoLev.node.active=!0,this.mFumoLev.spriteFrame=this.mItemAtlas.getSpriteFrame(n)):this.mFumoLev.node.active=!1}},e.prototype.JiaqiangQianghuaChangeUI=function(e){null!=this.mZhuangBeiItem&&this.mZhuangBeiItem.mBuWei==e&&(0<this.mZhuangBeiItem.mQiangHuaLevel?(this.mQianghuaLev.node.active=!0,this.mQianghuaLev.string="+"+this.mZhuangBeiItem.mQiangHuaLevel.toString()):this.mQianghuaLev.node.active=!1)},e.prototype.xieZhuangbei=function(e){null!=this.mZhuangBeiItem&&e.mBuWei==this.mZhuangBeiItem.mBuWei&&(this.mQianghuaLev.node.active=!1,this.mLevel.string="",this.mIcon.node.active=!1,this.mPinzhi.node.active=!1,this.mFumoLev.node.active=!1,this.mZhuangBeiItem.mIsDress=0,o.default.emit(i.TEventType.EXieZhuangBei_ChangeToRole,e),o.default.emit(i.TEventType.EShuxingChangeToUI),this.mZhuangBeiItem=null)},__decorate([u(cc.Label)],e.prototype,"mQianghuaLev",void 0),__decorate([u(cc.Label)],e.prototype,"mLevel",void 0),__decorate([u(cc.Sprite)],e.prototype,"mIcon",void 0),__decorate([u(cc.Sprite)],e.prototype,"mPinzhi",void 0),__decorate([u(cc.Sprite)],e.prototype,"mFumoLev",void 0),__decorate([u({type:cc.Enum(i.TBuWeiType),serializable:!0,displayName:"装备部位"})],e.prototype,"mTBuWeiType",void 0),e=__decorate([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../Entity/Role_DB":"Role_DB","../UIFormwork/UIManager":"UIManager","../Utils/AllTexture":"AllTexture","../Utils/Constant":"Constant","../Utils/EventDispatch":"EventDispatch","../Utils/Util":"Util"}],ZhuangBeiPopUIForm:[function(e,t,n){"use strict";cc._RF.push(t,"f0e82EZ+3pKoIECklvWANd/","ZhuangBeiPopUIForm"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../UIFormwork/BaseUIForm"),o=e("../UIFormwork/E_UIForm"),s=e("../Utils/AllTexture"),u=e("../Utils/Constant"),r=e("../Utils/EventDispatch"),a=e("../UIFormwork/UIMaskMgr"),l=e("../UIFormwork/UIManager"),m=e("../Entity/Role_DB"),c=e("../Utils/Util"),h=e("../UIFormwork/ResourcesMar"),p=cc._decorator,d=p.ccclass,y=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mName=null,e.isShier=null,e.mBUwei=null,e.mChongzhuLev=null,e.mLevel=null,e.mZhushuxing=null,e.mFushuxing=null,e.mFujiaLabelArry=new Array,e.mShenqiLabelArry=new Array,e.mFumoshuxing=null,e.mFumoLev=null,e.mIcon=null,e.mPinzhi=null,e.mShenqiBtn=null,e.mQianghuaBtn=null,e.mChongzhuBtn=null,e.mFumoBtn=null,e.mXiexiaBtn=null,e.mFenjieBtn=null,e.mXiexiaBtnLabel=null,e.mFenjieGetCoin=null,e.mFenjieGetShenqiShitou=null,e.mItemAtlas=null,e.mNameQianghuaLev="%s:%s %s%s",e.mShenqiNameQianghuaLev="%s★%s %s%s",e.mShuxingAndValue="%s +%s",e.mPinzhiStr="quality_bg%s",e.mLevelStr="Lv.%s",e.mChongzhuStr=["普通","标准","优秀","极品"],e.mPinzhiTypeArry=["占位","普通","精良","卓越","史诗","传说","神器"],e.mBuWeiStr=["头盔","铠甲","护腿","武器","项链","护手","戒指","鞋子"],e.mShuxingStr=["生命","攻击","防御","命中","闪避","暴击","暴击伤害","负面抗性","生命恢复","物品掉落","金币掉落","经验掉落"],e.mQianghuaNoSHierColor=new cc.Color(130,106,106,255),e.mChongzhuColorArry=[cc.Color.WHITE,cc.color(150,255,70,255),cc.color(255,70,255,255),cc.color(255,255,70,255)],e.mPinzhiColorArry=[cc.Color.GRAY,cc.Color.WHITE,cc.color(150,255,70,255),cc.color(70,150,255,255),cc.color(255,70,255,255),cc.color(255,255,70,255),cc.color(255,70,80,255)],e.mOpenIsBeibao=!0,e.mCurZhuangbei=null,e.mOldZhuangbei=null,e.mLastWupinItem=null,e.mIsfenjieClick=!1,e.mCurfenjieGetCoin=0,e.mCurfenjieGetShiqiShitou=0,e.mShenqifenjieGetshitouArry=[2,2,3,5,6,6,8],e}return __extends(e,t),e.prototype.onLoad=function(){var e=this;this.GetUIType.UIForms_ShowMode=o.UIFormShowMode.ReverseChange,this.GetUIType.UIForm_AnimType=o.AnimType.Normal,this.GetUIType.UIForm_LucencyType=o.UIFormLucenyType.ImPenetrable,this.GetUIType.UIForms_Type=o.UIFormType.PopUp,r.default.register(u.TEventType.EJiaQiangFumo_ChangeToPopUIForm,this.FumoItem,this),r.default.register(u.TEventType.EShenqiXilianUpdateZhuangbeiPopUI,this.FujiaAndShenqi,this),this.RigisterButtonObjectEvent(a.default.instance().mMaskPanel,"_UIMaskPanel",function(){e.haiyuanUI()}),this.mShenqiBtn.on(cc.Node.EventType.TOUCH_END,function(){e.mCurZhuangbei.mPinzhi<6||(e.haiyuanUI(),l.default.instance().ShowUIForms(u.default.mJiaQiangUIForm).InitUIFormItme(e.mOldZhuangbei,u.JiaqiangType.shenqi,e.mOpenIsBeibao))}),this.mQianghuaBtn.on(cc.Node.EventType.TOUCH_END,function(){e.mCurZhuangbei.mQiangHuaLevel>u.default.mCurMaxQianghuaLev||(e.haiyuanUI(),l.default.instance().ShowUIForms(u.default.mJiaQiangUIForm).InitUIFormItme(e.mOldZhuangbei,u.JiaqiangType.qianghua,e.mOpenIsBeibao))}),this.mChongzhuBtn.on(cc.Node.EventType.TOUCH_END,function(){e.haiyuanUI(),l.default.instance().ShowUIForms(u.default.mJiaQiangUIForm).InitUIFormItme(e.mOldZhuangbei,u.JiaqiangType.chongzhu,e.mOpenIsBeibao)}),this.mFumoBtn.on(cc.Node.EventType.TOUCH_END,function(){e.haiyuanUI(),l.default.instance().ShowUIForms(u.default.mJiaQiangUIForm).InitUIFormItme(e.mOldZhuangbei,u.JiaqiangType.fumo,e.mOpenIsBeibao)}),this.mXiexiaBtn.on(cc.Node.EventType.TOUCH_END,function(){if(e.mOpenIsBeibao){if(m.default.instance().mPlayer_DB.mLevel<e.mCurZhuangbei.mLevel&&!u.default.mIsOpenGMPattern)return void h.default.instance().ShowTip("等级不够");e.mLastWupinItem.mSelect.active=!1,r.default.emit(u.TEventType.EChuan_ZhuangBei,e.mCurZhuangbei),r.default.emit(u.TEventType.EChuanZhuangBei_ChangeToRole,e.mCurZhuangbei),r.default.emit(u.TEventType.EShuxingChangeToUI)}else r.default.emit(u.TEventType.EXie_ZhuangBei,e.mCurZhuangbei);e.haiyuanUI()}),this.mFenjieBtn.on(cc.Node.EventType.TOUCH_END,function(){if(e.mOpenIsBeibao){if(!e.mIsfenjieClick)return e.mIsfenjieClick=!0,void h.default.instance().ShowTip("再次点击,分解装备");e.mLastWupinItem.mSelect.active=!1,r.default.emit(u.TEventType.EDelZhuangBei_ChangeToRole,e.mCurZhuangbei)}else h.default.instance().ShowTip("穿戴装备不可直接分解");e.haiyuanUI()})},e.prototype.InitUIFormItme=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0];if(this.mOpenIsBeibao=e[1],null==this.mCurZhuangbei||this.mCurZhuangbei.mBuWei!=n.mBuWei){null==this.mItemAtlas&&(this.mItemAtlas=s.default.instance().GetAtlasByName("items")),this.mOpenIsBeibao?(this.mXiexiaBtnLabel.string="穿戴",this.mFenjieBtn.active=!0):(this.mFenjieBtn.active=!1,this.mXiexiaBtnLabel.string="卸下");var i=e[2];i!=this.mLastWupinItem&&this.mLastWupinItem&&(this.mLastWupinItem.mSelect.active=!1),this.mLastWupinItem=i,this.mCurZhuangbei=n,this.mOldZhuangbei=n,c.default.instance().mBeibaoZhuangbeiSelect=i,this.mIcon.spriteFrame=this.mItemAtlas.getSpriteFrame(n.mIcon),this.mLevel.string=n.mLevel.toString(),this.mBUwei.string=this.mBuWeiStr[n.mBuWei],this.mFushuxing.string=cc.js.formatStr(this.mShuxingAndValue,this.mShuxingStr[n.mFuShuxing],n.mFuShuxingValue),this.FujiaAndShenqi(n.mFuJiaShuxingIDArry,n.mFuJiaShuxingValueArry,!1),this.FujiaAndShenqi(n.mShenqiShuxingIDArry,n.mShenqiShuxingValueArry,!0),this.QianghuaItem(),this.ChongzhuItem(),this.FumoItem(n);var o=n.mPinzhi;if(o<6)this.mShenqiBtn.active=!1,this.mCurfenjieGetCoin=u.default.mZhuangbeiFenjieStarCoin*o*n.mLevel,this.mFenjieGetCoin.string=this.mCurfenjieGetCoin.toString(),this.mFenjieGetShenqiShitou.node.parent.active=!1,this.mFenjieGetCoin.node.parent.active=!0;else{var r=n.mLevel/10-4;this.mCurfenjieGetShiqiShitou=this.mShenqifenjieGetshitouArry[r],this.mFenjieGetShenqiShitou.string=this.mCurfenjieGetShiqiShitou.toString(),this.mFenjieGetCoin.node.parent.active=!1,this.mFenjieGetShenqiShitou.node.parent.active=!0,this.mShenqiBtn.active=!0}var a=cc.js.formatStr(this.mPinzhiStr,o);this.mPinzhi.spriteFrame=this.mItemAtlas.getSpriteFrame(a)}},e.prototype.FujiaAndShenqi=function(e,t,n){for(var i,o=0;o<e.length;o++){var r=e[o];(i=n?this.mShenqiLabelArry[o]:this.mFujiaLabelArry[o]).string=cc.js.formatStr(this.mShuxingAndValue,this.mShuxingStr[r],t[o]),i.node.parent.active=!0}},e.prototype.QianghuaItem=function(){var e=this.mCurZhuangbei.mQiangHuaLevel,t=this.mCurZhuangbei.mPinzhi;this.mName.string=0<e?t<6?cc.js.formatStr(this.mNameQianghuaLev,this.mPinzhiTypeArry[this.mCurZhuangbei.mPinzhi],this.mCurZhuangbei.mName,"+",e):cc.js.formatStr(this.mShenqiNameQianghuaLev,this.mPinzhiTypeArry[this.mCurZhuangbei.mPinzhi],this.mCurZhuangbei.mName,"+",e):t<6?cc.js.formatStr(this.mNameQianghuaLev,this.mPinzhiTypeArry[this.mCurZhuangbei.mPinzhi],this.mCurZhuangbei.mName,"",""):cc.js.formatStr(this.mShenqiNameQianghuaLev,this.mPinzhiTypeArry[this.mCurZhuangbei.mPinzhi],this.mCurZhuangbei.mName,"",""),this.mName.node.color=this.mPinzhiColorArry[this.mCurZhuangbei.mPinzhi],11<e?(this.isShier.node.active=!1,this.mFushuxing.node.color=cc.Color.WHITE):(this.isShier.node.active=!0,this.mFushuxing.node.color=this.mQianghuaNoSHierColor)},e.prototype.ChongzhuItem=function(){var e=this.mCurZhuangbei.mChongzhuLevel;this.mChongzhuLev.string=this.mChongzhuStr[e],this.mChongzhuLev.node.color=this.mChongzhuColorArry[e],this.mZhushuxing.string=cc.js.formatStr(this.mShuxingAndValue,this.mShuxingStr[this.mCurZhuangbei.mZhuShuxing],this.mCurZhuangbei.mZhuShuxingValue)},e.prototype.FumoItem=function(e){var t=e.mFumoLevel,n=t+t.toString();this.mFumoshuxing.string=cc.js.formatStr(this.mShuxingAndValue,this.mShuxingStr[e.mFumoShuxing],e.mFumoValue),0<=t?(this.mFumoLev.node.parent.active=!0,this.mFumoLev.spriteFrame=this.mItemAtlas.getSpriteFrame(n)):this.mFumoLev.node.parent.active=!1},e.prototype.haiyuanUI=function(){for(var e=0;e<this.mFujiaLabelArry.length;e++){this.mFujiaLabelArry[e].node.parent.active=!1}for(var t=0;t<this.mShenqiLabelArry.length;t++){this.mShenqiLabelArry[t].node.parent.active=!1}this.mIsfenjieClick=!1,this.mFumoshuxing.node.parent.active=!1,this.mCurZhuangbei=null,this.CloseUIForm(this.node.name)},__decorate([y(cc.Label)],e.prototype,"mName",void 0),__decorate([y(cc.Label)],e.prototype,"isShier",void 0),__decorate([y(cc.Label)],e.prototype,"mBUwei",void 0),__decorate([y(cc.Label)],e.prototype,"mChongzhuLev",void 0),__decorate([y(cc.Label)],e.prototype,"mLevel",void 0),__decorate([y(cc.Label)],e.prototype,"mZhushuxing",void 0),__decorate([y(cc.Label)],e.prototype,"mFushuxing",void 0),__decorate([y([cc.Label])],e.prototype,"mFujiaLabelArry",void 0),__decorate([y([cc.Label])],e.prototype,"mShenqiLabelArry",void 0),__decorate([y(cc.Label)],e.prototype,"mFumoshuxing",void 0),__decorate([y(cc.Sprite)],e.prototype,"mFumoLev",void 0),__decorate([y(cc.Sprite)],e.prototype,"mIcon",void 0),__decorate([y(cc.Sprite)],e.prototype,"mPinzhi",void 0),__decorate([y(cc.Node)],e.prototype,"mShenqiBtn",void 0),__decorate([y(cc.Node)],e.prototype,"mQianghuaBtn",void 0),__decorate([y(cc.Node)],e.prototype,"mChongzhuBtn",void 0),__decorate([y(cc.Node)],e.prototype,"mFumoBtn",void 0),__decorate([y(cc.Node)],e.prototype,"mXiexiaBtn",void 0),__decorate([y(cc.Node)],e.prototype,"mFenjieBtn",void 0),__decorate([y(cc.Label)],e.prototype,"mXiexiaBtnLabel",void 0),__decorate([y(cc.Label)],e.prototype,"mFenjieGetCoin",void 0),__decorate([y(cc.Label)],e.prototype,"mFenjieGetShenqiShitou",void 0),e=__decorate([d],e)}(i.default);n.default=f,cc._RF.pop()},{"../Entity/Role_DB":"Role_DB","../UIFormwork/BaseUIForm":"BaseUIForm","../UIFormwork/E_UIForm":"E_UIForm","../UIFormwork/ResourcesMar":"ResourcesMar","../UIFormwork/UIManager":"UIManager","../UIFormwork/UIMaskMgr":"UIMaskMgr","../Utils/AllTexture":"AllTexture","../Utils/Constant":"Constant","../Utils/EventDispatch":"EventDispatch","../Utils/Util":"Util"}],ZhuangBei_DB:[function(e,t,n){"use strict";cc._RF.push(t,"128d9gkcOJA9a1/Qu155C6r","ZhuangBei_DB"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Utils/Util"),o=e("./AllDB"),r=e("../Utils/Constant"),a=e("../UI/ItemBase"),s=cc._decorator,u=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Clone=function(e){var t=o.default.instance().mIemMap.get(e);this.mID=t.mID,this.mCode=i.default.GetCode(),this.mIcon=t.mIcon,this.mName=t.mName,this.mDes=t.mDes,this.mBuWei=t.mBuWei,this.mLevel=t.mLevel,this.mPinzhi=t.mPinzhi,this.mZhuShuxing=t.mZhuShuxing,this.mZhuShuxingValue=t.mZhuShuxingValue,this.mFuShuxing=t.mFuShuxing,this.mFuShuxingValue=t.mFuShuxingValue,i.default.instance().FujiaShuxingIDs(this),i.default.instance().ShenqiShuxingIDs(this),i.default.instance().ChongzhuItem(this,!1),this.mHechengNeedDaojuIDArry=t.mHechengNeedDaojuIDArry,this.mHechengNeedDaojuCountArry=t.mHechengNeedDaojuCountArry,this.mFenjieGetDaojuIDArry=t.mFenjieGetDaojuIDArry,this.mFenjieGetDaojuCountArry=t.mFenjieGetDaojuCountArry,this.mItemType=r.TItemType.zhuangbei},t=__decorate([u],t)}(a.default));n.default=l,cc._RF.pop()},{"../UI/ItemBase":"ItemBase","../Utils/Constant":"Constant","../Utils/Util":"Util","./AllDB":"AllDB"}],proto_msg:[function(e,t,n){"use strict";cc._RF.push(t,"a760fvynLBGw4dhRqqPg7oC","proto_msg");var i,o,r,a,s,u,l,m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=e("protobufjs/minimal"),h=c.Reader,p=c.Writer,d=c.util,y=c.roots.default||(c.roots.default={});y.Msg=((l={}).MsgType=(i={},(o=Object.create(i))[i[0]="TheTableR"]=0,o[i[1]="TheTableA"]=1,o[i[2]="TheFileR"]=2,o[i[3]="TheFileA"]=3,o[i[4]="TheBundleAssetR"]=4,o[i[5]="TheBundleAssetA"]=5,o[i[6]="TheRegR"]=6,o[i[7]="TheRegA"]=7,o[i[8]="TheRoleByUdidR"]=8,o[i[9]="TheRoleA"]=9,o[i[10]="TheRoleByAccountR"]=10,o[i[11]="TheExtensionRole"]=11,o[i[12]="TheRoleItem"]=12,o[i[13]="TheAddRoleItemR"]=13,o[i[14]="TheAddRoleItemA"]=14,o[i[15]="TheRole"]=15,o[i[16]="ThePorpBytes"]=16,o[i[17]="TheRolePropList"]=17,o[i[18]="TheEquipment"]=18,o[i[19]="TheProp"]=19,o[i[20]="TheNickName"]=20,o[i[21]="TheUpdateNameR"]=21,o[i[22]="TheUpdateNameA"]=22,o[i[23]="TheAnnc"]=23,o),l.TableR=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.tableName="",t.prototype.oldVersion=d.Long?d.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.tableName&&e.hasOwnProperty("tableName")&&t.uint32(10).string(e.tableName),null!=e.oldVersion&&e.hasOwnProperty("oldVersion")&&t.uint32(16).int64(e.oldVersion),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof h||(e=h.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new y.Msg.TableR;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.tableName=e.string();break;case 2:i.oldVersion=e.int64();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":m(e))||null===e?"object expected":null!=e.tableName&&e.hasOwnProperty("tableName")&&!d.isString(e.tableName)?"tableName: string expected":null!=e.oldVersion&&e.hasOwnProperty("oldVersion")&&!(d.isInteger(e.oldVersion)||e.oldVersion&&d.isInteger(e.oldVersion.low)&&d.isInteger(e.oldVersion.high))?"oldVersion: integer|Long expected":null},t.fromObject=function(e){if(e instanceof y.Msg.TableR)return e;var t=new y.Msg.TableR;return null!=e.tableName&&(t.tableName=String(e.tableName)),null!=e.oldVersion&&(d.Long?(t.oldVersion=d.Long.fromValue(e.oldVersion)).unsigned=!1:"string"==typeof e.oldVersion?t.oldVersion=parseInt(e.oldVersion,10):"number"==typeof e.oldVersion?t.oldVersion=e.oldVersion:"object"===m(e.oldVersion)&&(t.oldVersion=new d.LongBits(e.oldVersion.low>>>0,e.oldVersion.high>>>0).toNumber())),t},t.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(n.tableName="",d.Long){var i=new d.Long(0,0,!1);n.oldVersion=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.oldVersion=t.longs===String?"0":0;return null!=e.tableName&&e.hasOwnProperty("tableName")&&(n.tableName=e.tableName),null!=e.oldVersion&&e.hasOwnProperty("oldVersion")&&("number"==typeof e.oldVersion?n.oldVersion=t.longs===String?String(e.oldVersion):e.oldVersion:n.oldVersion=t.longs===String?d.Long.prototype.toString.call(e.oldVersion):t.longs===Number?new d.LongBits(e.oldVersion.low>>>0,e.oldVersion.high>>>0).toNumber():e.oldVersion),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),l.TableA=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var e,n;return t.prototype.rlt=0,t.prototype.tableName="",t.prototype.byteData=d.newBuffer([]),t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.rlt&&e.hasOwnProperty("rlt")&&t.uint32(8).int32(e.rlt),null!=e.tableName&&e.hasOwnProperty("tableName")&&t.uint32(18).string(e.tableName),null!=e.byteData&&e.hasOwnProperty("byteData")&&t.uint32(26).bytes(e.byteData),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof h||(e=h.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new y.Msg.TableA;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.rlt=e.int32();break;case 2:i.tableName=e.string();break;case 3:i.byteData=e.bytes();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!==(void 0===e?"undefined":m(e))||null===e)return"object expected";if(null!=e.rlt&&e.hasOwnProperty("rlt"))switch(e.rlt){default:return"rlt: enum value expected";case 0:case 1:case 2:}return null!=e.tableName&&e.hasOwnProperty("tableName")&&!d.isString(e.tableName)?"tableName: string expected":null!=e.byteData&&e.hasOwnProperty("byteData")&&!(e.byteData&&"number"==typeof e.byteData.length||d.isString(e.byteData))?"byteData: buffer expected":null},t.fromObject=function(e){if(e instanceof y.Msg.TableA)return e;var t=new y.Msg.TableA;switch(e.rlt){case"NoTable":case 0:t.rlt=0;break;case"NeedUpdate":case 1:t.rlt=1;break;case"HasLatest":case 2:t.rlt=2}return null!=e.tableName&&(t.tableName=String(e.tableName)),null!=e.byteData&&("string"==typeof e.byteData?d.base64.decode(e.byteData,t.byteData=d.newBuffer(d.base64.length(e.byteData)),0):e.byteData.length&&(t.byteData=e.byteData)),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.rlt=t.enums===String?"NoTable":0,n.tableName="",t.bytes===String?n.byteData="":(n.byteData=[],t.bytes!==Array&&(n.byteData=d.newBuffer(n.byteData)))),null!=e.rlt&&e.hasOwnProperty("rlt")&&(n.rlt=t.enums===String?y.Msg.TableA.Rlt[e.rlt]:e.rlt),null!=e.tableName&&e.hasOwnProperty("tableName")&&(n.tableName=e.tableName),null!=e.byteData&&e.hasOwnProperty("byteData")&&(n.byteData=t.bytes===String?d.base64.encode(e.byteData,0,e.byteData.length):t.bytes===Array?Array.prototype.slice.call(e.byteData):e.byteData),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t.Rlt=(e={},(n=Object.create(e))[e[0]="NoTable"]=0,n[e[1]="NeedUpdate"]=1,n[e[2]="HasLatest"]=2,n),t}(),l.FileR=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.FileName="",t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.FileName&&e.hasOwnProperty("FileName")&&t.uint32(10).string(e.FileName),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof h||(e=h.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new y.Msg.FileR;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.FileName=e.string();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":m(e))||null===e?"object expected":null!=e.FileName&&e.hasOwnProperty("FileName")&&!d.isString(e.FileName)?"FileName: string expected":null},t.fromObject=function(e){if(e instanceof y.Msg.FileR)return e;var t=new y.Msg.FileR;return null!=e.FileName&&(t.FileName=String(e.FileName)),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.FileName=""),null!=e.FileName&&e.hasOwnProperty("FileName")&&(n.FileName=e.FileName),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),l.FileA=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.FileName="",t.prototype.byteData=d.newBuffer([]),t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.FileName&&e.hasOwnProperty("FileName")&&t.uint32(10).string(e.FileName),null!=e.byteData&&e.hasOwnProperty("byteData")&&t.uint32(18).bytes(e.byteData),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof h||(e=h.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new y.Msg.FileA;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.FileName=e.string();break;case 2:i.byteData=e.bytes();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":m(e))||null===e?"object expected":null!=e.FileName&&e.hasOwnProperty("FileName")&&!d.isString(e.FileName)?"FileName: string expected":null!=e.byteData&&e.hasOwnProperty("byteData")&&!(e.byteData&&"number"==typeof e.byteData.length||d.isString(e.byteData))?"byteData: buffer expected":null},t.fromObject=function(e){if(e instanceof y.Msg.FileA)return e;var t=new y.Msg.FileA;return null!=e.FileName&&(t.FileName=String(e.FileName)),null!=e.byteData&&("string"==typeof e.byteData?d.base64.decode(e.byteData,t.byteData=d.newBuffer(d.base64.length(e.byteData)),0):e.byteData.length&&(t.byteData=e.byteData)),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.FileName="",t.bytes===String?n.byteData="":(n.byteData=[],t.bytes!==Array&&(n.byteData=d.newBuffer(n.byteData)))),null!=e.FileName&&e.hasOwnProperty("FileName")&&(n.FileName=e.FileName),null!=e.byteData&&e.hasOwnProperty("byteData")&&(n.byteData=t.bytes===String?d.base64.encode(e.byteData,0,e.byteData.length):t.bytes===Array?Array.prototype.slice.call(e.byteData):e.byteData),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),l.BundleAssetR=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.BundleAssetName="",t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.BundleAssetName&&e.hasOwnProperty("BundleAssetName")&&t.uint32(10).string(e.BundleAssetName),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof h||(e=h.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new y.Msg.BundleAssetR;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.BundleAssetName=e.string();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":m(e))||null===e?"object expected":null!=e.BundleAssetName&&e.hasOwnProperty("BundleAssetName")&&!d.isString(e.BundleAssetName)?"BundleAssetName: string expected":null},t.fromObject=function(e){if(e instanceof y.Msg.BundleAssetR)return e;var t=new y.Msg.BundleAssetR;return null!=e.BundleAssetName&&(t.BundleAssetName=String(e.BundleAssetName)),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.BundleAssetName=""),null!=e.BundleAssetName&&e.hasOwnProperty("BundleAssetName")&&(n.BundleAssetName=e.BundleAssetName),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),l.BundleAssetA=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.BundleAssetName="",t.prototype.byteData=d.newBuffer([]),t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.BundleAssetName&&e.hasOwnProperty("BundleAssetName")&&t.uint32(10).string(e.BundleAssetName),null!=e.byteData&&e.hasOwnProperty("byteData")&&t.uint32(18).bytes(e.byteData),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof h||(e=h.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new y.Msg.BundleAssetA;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.BundleAssetName=e.string();break;case 2:i.byteData=e.bytes();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":m(e))||null===e?"object expected":null!=e.BundleAssetName&&e.hasOwnProperty("BundleAssetName")&&!d.isString(e.BundleAssetName)?"BundleAssetName: string expected":null!=e.byteData&&e.hasOwnProperty("byteData")&&!(e.byteData&&"number"==typeof e.byteData.length||d.isString(e.byteData))?"byteData: buffer expected":null},t.fromObject=function(e){if(e instanceof y.Msg.BundleAssetA)return e;var t=new y.Msg.BundleAssetA;return null!=e.BundleAssetName&&(t.BundleAssetName=String(e.BundleAssetName)),null!=e.byteData&&("string"==typeof e.byteData?d.base64.decode(e.byteData,t.byteData=d.newBuffer(d.base64.length(e.byteData)),0):e.byteData.length&&(t.byteData=e.byteData)),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.BundleAssetName="",t.bytes===String?n.byteData="":(n.byteData=[],t.bytes!==Array&&(n.byteData=d.newBuffer(n.byteData)))),null!=e.BundleAssetName&&e.hasOwnProperty("BundleAssetName")&&(n.BundleAssetName=e.BundleAssetName),null!=e.byteData&&e.hasOwnProperty("byteData")&&(n.byteData=t.bytes===String?d.base64.encode(e.byteData,0,e.byteData.length):t.bytes===Array?Array.prototype.slice.call(e.byteData):e.byteData),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),l.RegR=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.udid="",t.prototype.name="",t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.udid&&e.hasOwnProperty("udid")&&t.uint32(10).string(e.udid),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(18).string(e.name),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof h||(e=h.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new y.Msg.RegR;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.udid=e.string();break;case 2:i.name=e.string();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":m(e))||null===e?"object expected":null!=e.udid&&e.hasOwnProperty("udid")&&!d.isString(e.udid)?"udid: string expected":null!=e.name&&e.hasOwnProperty("name")&&!d.isString(e.name)?"name: string expected":null},t.fromObject=function(e){if(e instanceof y.Msg.RegR)return e;var t=new y.Msg.RegR;return null!=e.udid&&(t.udid=String(e.udid)),null!=e.name&&(t.name=String(e.name)),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.udid="",n.name=""),null!=e.udid&&e.hasOwnProperty("udid")&&(n.udid=e.udid),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),l.RegA=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var e,n;return t.prototype.erro=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.erro&&e.hasOwnProperty("erro")&&t.uint32(8).int32(e.erro),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof h||(e=h.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new y.Msg.RegA;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.erro=e.int32();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!==(void 0===e?"undefined":m(e))||null===e)return"object expected";if(null!=e.erro&&e.hasOwnProperty("erro"))switch(e.erro){default:return"erro: enum value expected";case 0:case 1:}return null},t.fromObject=function(e){if(e instanceof y.Msg.RegA)return e;var t=new y.Msg.RegA;switch(e.erro){case"RepeatName":case 0:t.erro=0;break;case"Success":case 1:t.erro=1}return t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.erro=t.enums===String?"RepeatName":0),null!=e.erro&&e.hasOwnProperty("erro")&&(n.erro=t.enums===String?y.Msg.RegA.Reg[e.erro]:e.erro),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t.Reg=(e={},(n=Object.create(e))[e[0]="RepeatName"]=0,n[e[1]="Success"]=1,n),t}(),l.RoleByUdidR=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.udid="",t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.udid&&e.hasOwnProperty("udid")&&t.uint32(10).string(e.udid),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof h||(e=h.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new y.Msg.RoleByUdidR;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.udid=e.string();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":m(e))||null===e?"object expected":null!=e.udid&&e.hasOwnProperty("udid")&&!d.isString(e.udid)?"udid: string expected":null},t.fromObject=function(e){if(e instanceof y.Msg.RoleByUdidR)return e;var t=new y.Msg.RoleByUdidR;return null!=e.udid&&(t.udid=String(e.udid)),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.udid=""),null!=e.udid&&e.hasOwnProperty("udid")&&(n.udid=e.udid),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),l.RoleA=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.erro=0,t.prototype.role=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.erro&&e.hasOwnProperty("erro")&&t.uint32(8).int32(e.erro),null!=e.role&&e.hasOwnProperty("role")&&y.Msg.Role.encode(e.role,t.uint32(18).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof h||(e=h.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new y.Msg.RoleA;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.erro=e.int32();break;case 2:i.role=y.Msg.Role.decode(e,e.uint32());break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!==(void 0===e?"undefined":m(e))||null===e)return"object expected";if(null!=e.erro&&e.hasOwnProperty("erro")&&!d.isInteger(e.erro))return"erro: integer expected";if(null!=e.role&&e.hasOwnProperty("role")){var t=y.Msg.Role.verify(e.role);if(t)return"role."+t}return null},t.fromObject=function(e){if(e instanceof y.Msg.RoleA)return e;var t=new y.Msg.RoleA;if(null!=e.erro&&(t.erro=0|e.erro),null!=e.role){if("object"!==m(e.role))throw TypeError(".Msg.RoleA.role: object expected");t.role=y.Msg.Role.fromObject(e.role)}return t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.erro=0,n.role=null),null!=e.erro&&e.hasOwnProperty("erro")&&(n.erro=e.erro),null!=e.role&&e.hasOwnProperty("role")&&(n.role=y.Msg.Role.toObject(e.role,t)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),l.RoleByAccountR=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.account="",t.prototype.password="",t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.account&&e.hasOwnProperty("account")&&t.uint32(10).string(e.account),null!=e.password&&e.hasOwnProperty("password")&&t.uint32(18).string(e.password),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof h||(e=h.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new y.Msg.RoleByAccountR;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.account=e.string();break;case 2:i.password=e.string();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":m(e))||null===e?"object expected":null!=e.account&&e.hasOwnProperty("account")&&!d.isString(e.account)?"account: string expected":null!=e.password&&e.hasOwnProperty("password")&&!d.isString(e.password)?"password: string expected":null},t.fromObject=function(e){if(e instanceof y.Msg.RoleByAccountR)return e;var t=new y.Msg.RoleByAccountR;return null!=e.account&&(t.account=String(e.account)),null!=e.password&&(t.password=String(e.password)),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.account="",n.password=""),null!=e.account&&e.hasOwnProperty("account")&&(n.account=e.account),null!=e.password&&e.hasOwnProperty("password")&&(n.password=e.password),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),l.TItemGearType=(r={},(a=Object.create(r))[r[0]="EWhite"]=0,a[r[1]="EGreen"]=1,a[r[2]="EBule"]=2,a[r[3]="EPurple"]=3,a[r[4]="EOrange"]=4,a[r[5]="ERed"]=5,a),l.TEquipmentPropertyType=(s={},(u=Object.create(s))[s[0]="EHp"]=0,u[s[1]="EAttack"]=1,u[s[2]="EDefense"]=2,u[s[3]="EHit"]=3,u[s[4]="EDodge"]=4,u[s[5]="ECrit"]=5,u[s[6]="ECritAttack"]=6,u[s[7]="ENegativeResistance"]=7,u[s[8]="EHpRes"]=8,u[s[9]="EItemsDrop"]=9,u[s[10]="ECoinDrop"]=10,u),l.ExtensionRole=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.curNicknameID=0,t.prototype.integral=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.curNicknameID&&e.hasOwnProperty("curNicknameID")&&t.uint32(8).int32(e.curNicknameID),null!=e.integral&&e.hasOwnProperty("integral")&&t.uint32(16).int32(e.integral),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof h||(e=h.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new y.Msg.ExtensionRole;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.curNicknameID=e.int32();break;case 2:i.integral=e.int32();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":m(e))||null===e?"object expected":null!=e.curNicknameID&&e.hasOwnProperty("curNicknameID")&&!d.isInteger(e.curNicknameID)?"curNicknameID: integer expected":null!=e.integral&&e.hasOwnProperty("integral")&&!d.isInteger(e.integral)?"integral: integer expected":null},t.fromObject=function(e){if(e instanceof y.Msg.ExtensionRole)return e;var t=new y.Msg.ExtensionRole;return null!=e.curNicknameID&&(t.curNicknameID=0|e.curNicknameID),null!=e.integral&&(t.integral=0|e.integral),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.curNicknameID=0,n.integral=0),null!=e.curNicknameID&&e.hasOwnProperty("curNicknameID")&&(n.curNicknameID=e.curNicknameID),null!=e.integral&&e.hasOwnProperty("integral")&&(n.integral=e.integral),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),l.RoleItem=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.account="",t.prototype.password="",t.prototype.phone="",t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.account&&e.hasOwnProperty("account")&&t.uint32(10).string(e.account),null!=e.password&&e.hasOwnProperty("password")&&t.uint32(18).string(e.password),null!=e.phone&&e.hasOwnProperty("phone")&&t.uint32(26).string(e.phone),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof h||(e=h.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new y.Msg.RoleItem;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.account=e.string();break;case 2:i.password=e.string();break;case 3:i.phone=e.string();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":m(e))||null===e?"object expected":null!=e.account&&e.hasOwnProperty("account")&&!d.isString(e.account)?"account: string expected":null!=e.password&&e.hasOwnProperty("password")&&!d.isString(e.password)?"password: string expected":null!=e.phone&&e.hasOwnProperty("phone")&&!d.isString(e.phone)?"phone: string expected":null},t.fromObject=function(e){if(e instanceof y.Msg.RoleItem)return e;var t=new y.Msg.RoleItem;return null!=e.account&&(t.account=String(e.account)),null!=e.password&&(t.password=String(e.password)),null!=e.phone&&(t.phone=String(e.phone)),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.account="",n.password="",n.phone=""),null!=e.account&&e.hasOwnProperty("account")&&(n.account=e.account),null!=e.password&&e.hasOwnProperty("password")&&(n.password=e.password),null!=e.phone&&e.hasOwnProperty("phone")&&(n.phone=e.phone),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),l.AddRoleItemR=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.account="",t.prototype.password="",t.prototype.phone="",t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.account&&e.hasOwnProperty("account")&&t.uint32(10).string(e.account),null!=e.password&&e.hasOwnProperty("password")&&t.uint32(18).string(e.password),null!=e.phone&&e.hasOwnProperty("phone")&&t.uint32(26).string(e.phone),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof h||(e=h.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new y.Msg.AddRoleItemR;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.account=e.string();break;case 2:i.password=e.string();break;case 3:i.phone=e.string();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":m(e))||null===e?"object expected":null!=e.account&&e.hasOwnProperty("account")&&!d.isString(e.account)?"account: string expected":null!=e.password&&e.hasOwnProperty("password")&&!d.isString(e.password)?"password: string expected":null!=e.phone&&e.hasOwnProperty("phone")&&!d.isString(e.phone)?"phone: string expected":null},t.fromObject=function(e){if(e instanceof y.Msg.AddRoleItemR)return e;var t=new y.Msg.AddRoleItemR;return null!=e.account&&(t.account=String(e.account)),null!=e.password&&(t.password=String(e.password)),null!=e.phone&&(t.phone=String(e.phone)),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.account="",n.password="",n.phone=""),null!=e.account&&e.hasOwnProperty("account")&&(n.account=e.account),null!=e.password&&e.hasOwnProperty("password")&&(n.password=e.password),null!=e.phone&&e.hasOwnProperty("phone")&&(n.phone=e.phone),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),l.AddRoleItemA=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var e,n;return t.prototype.erro=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.erro&&e.hasOwnProperty("erro")&&t.uint32(8).int32(e.erro),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof h||(e=h.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new y.Msg.AddRoleItemA;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.erro=e.int32();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!==(void 0===e?"undefined":m(e))||null===e)return"object expected";if(null!=e.erro&&e.hasOwnProperty("erro"))switch(e.erro){default:return"erro: enum value expected";case 0:case 1:}return null},t.fromObject=function(e){if(e instanceof y.Msg.AddRoleItemA)return e;var t=new y.Msg.AddRoleItemA;switch(e.erro){case"RepeatAccount":case 0:t.erro=0;break;case"Success":case 1:t.erro=1}return t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.erro=t.enums===String?"RepeatAccount":0),null!=e.erro&&e.hasOwnProperty("erro")&&(n.erro=t.enums===String?y.Msg.AddRoleItemA.AddRoleItem[e.erro]:e.erro),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t.AddRoleItem=(e={},(n=Object.create(e))[e[0]="RepeatAccount"]=0,n[e[1]="Success"]=1,n),t}(),l.Role=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.id=0,t.prototype.udid="",t.prototype.heroType=0,t.prototype.professionalName=0,t.prototype.name="",t.prototype.level=0,t.prototype.coin=0,t.prototype.money=0,t.prototype.exp=0,t.prototype.hp=0,t.prototype.mp=0,t.prototype.attack_Min=0,t.prototype.attack_Max=0,t.prototype.magicAttack_Min=0,t.prototype.magicAttack_Max=0,t.prototype.defense=0,t.prototype.pK_Defense=0,t.prototype.attack_Speed=0,t.prototype.hit=0,t.prototype.dodge=0,t.prototype.criticalHits=0,t.prototype.excell=0,t.prototype.negativeresistance=0,t.prototype.hpRes=0,t.prototype.itemsDrop=0,t.prototype.coinDrop=0,t.prototype.damageRef=0,t.prototype.damageReduce=0,t.prototype.ignoreDef=0,t.prototype.lucky=0,t.prototype.extensionRole=null,t.prototype.bytes=null,t.prototype.roleItem=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int32(e.id),null!=e.udid&&e.hasOwnProperty("udid")&&t.uint32(18).string(e.udid),null!=e.heroType&&e.hasOwnProperty("heroType")&&t.uint32(24).int32(e.heroType),null!=e.professionalName&&e.hasOwnProperty("professionalName")&&t.uint32(32).int32(e.professionalName),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(42).string(e.name),null!=e.level&&e.hasOwnProperty("level")&&t.uint32(48).int32(e.level),null!=e.coin&&e.hasOwnProperty("coin")&&t.uint32(56).int32(e.coin),null!=e.money&&e.hasOwnProperty("money")&&t.uint32(64).int32(e.money),null!=e.exp&&e.hasOwnProperty("exp")&&t.uint32(72).int32(e.exp),null!=e.hp&&e.hasOwnProperty("hp")&&t.uint32(80).int32(e.hp),null!=e.mp&&e.hasOwnProperty("mp")&&t.uint32(88).int32(e.mp),null!=e.attack_Min&&e.hasOwnProperty("attack_Min")&&t.uint32(96).int32(e.attack_Min),null!=e.attack_Max&&e.hasOwnProperty("attack_Max")&&t.uint32(104).int32(e.attack_Max),null!=e.magicAttack_Min&&e.hasOwnProperty("magicAttack_Min")&&t.uint32(112).int32(e.magicAttack_Min),null!=e.magicAttack_Max&&e.hasOwnProperty("magicAttack_Max")&&t.uint32(120).int32(e.magicAttack_Max),null!=e.defense&&e.hasOwnProperty("defense")&&t.uint32(133).float(e.defense),null!=e.pK_Defense&&e.hasOwnProperty("pK_Defense")&&t.uint32(141).float(e.pK_Defense),null!=e.attack_Speed&&e.hasOwnProperty("attack_Speed")&&t.uint32(144).int32(e.attack_Speed),null!=e.hit&&e.hasOwnProperty("hit")&&t.uint32(157).float(e.hit),null!=e.dodge&&e.hasOwnProperty("dodge")&&t.uint32(165).float(e.dodge),null!=e.criticalHits&&e.hasOwnProperty("criticalHits")&&t.uint32(168).int32(e.criticalHits),null!=e.excell&&e.hasOwnProperty("excell")&&t.uint32(181).float(e.excell),null!=e.negativeresistance&&e.hasOwnProperty("negativeresistance")&&t.uint32(189).float(e.negativeresistance),null!=e.hpRes&&e.hasOwnProperty("hpRes")&&t.uint32(192).int32(e.hpRes),null!=e.itemsDrop&&e.hasOwnProperty("itemsDrop")&&t.uint32(205).float(e.itemsDrop),null!=e.coinDrop&&e.hasOwnProperty("coinDrop")&&t.uint32(213).float(e.coinDrop),null!=e.damageRef&&e.hasOwnProperty("damageRef")&&t.uint32(221).float(e.damageRef),null!=e.damageReduce&&e.hasOwnProperty("damageReduce")&&t.uint32(229).float(e.damageReduce),null!=e.ignoreDef&&e.hasOwnProperty("ignoreDef")&&t.uint32(237).float(e.ignoreDef),null!=e.lucky&&e.hasOwnProperty("lucky")&&t.uint32(245).float(e.lucky),null!=e.extensionRole&&e.hasOwnProperty("extensionRole")&&y.Msg.ExtensionRole.encode(e.extensionRole,t.uint32(250).fork()).ldelim(),null!=e.bytes&&e.hasOwnProperty("bytes")&&y.Msg.PorpBytes.encode(e.bytes,t.uint32(258).fork()).ldelim(),null!=e.roleItem&&e.hasOwnProperty("roleItem")&&y.Msg.RoleItem.encode(e.roleItem,t.uint32(266).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof h||(e=h.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new y.Msg.Role;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;case 2:i.udid=e.string();break;case 3:i.heroType=e.int32();break;case 4:i.professionalName=e.int32();break;case 5:i.name=e.string();break;case 6:i.level=e.int32();break;case 7:i.coin=e.int32();break;case 8:i.money=e.int32();break;case 9:i.exp=e.int32();break;case 10:i.hp=e.int32();break;case 11:i.mp=e.int32();break;case 12:i.attack_Min=e.int32();break;case 13:i.attack_Max=e.int32();break;case 14:i.magicAttack_Min=e.int32();break;case 15:i.magicAttack_Max=e.int32();break;case 16:i.defense=e.float();break;case 17:i.pK_Defense=e.float();break;case 18:i.attack_Speed=e.int32();break;case 19:i.hit=e.float();break;case 20:i.dodge=e.float();break;case 21:i.criticalHits=e.int32();break;case 22:i.excell=e.float();break;case 23:i.negativeresistance=e.float();break;case 24:i.hpRes=e.int32();break;case 25:i.itemsDrop=e.float();break;case 26:i.coinDrop=e.float();break;case 27:i.damageRef=e.float();break;case 28:i.damageReduce=e.float();break;case 29:i.ignoreDef=e.float();break;case 30:i.lucky=e.float();break;case 31:i.extensionRole=y.Msg.ExtensionRole.decode(e,e.uint32());break;case 32:i.bytes=y.Msg.PorpBytes.decode(e,e.uint32());break;case 33:i.roleItem=y.Msg.RoleItem.decode(e,e.uint32());break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":m(e))||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!d.isInteger(e.id)?"id: integer expected":null!=e.udid&&e.hasOwnProperty("udid")&&!d.isString(e.udid)?"udid: string expected":null!=e.heroType&&e.hasOwnProperty("heroType")&&!d.isInteger(e.heroType)?"heroType: integer expected":null!=e.professionalName&&e.hasOwnProperty("professionalName")&&!d.isInteger(e.professionalName)?"professionalName: integer expected":null!=e.name&&e.hasOwnProperty("name")&&!d.isString(e.name)?"name: string expected":null!=e.level&&e.hasOwnProperty("level")&&!d.isInteger(e.level)?"level: integer expected":null!=e.coin&&e.hasOwnProperty("coin")&&!d.isInteger(e.coin)?"coin: integer expected":null!=e.money&&e.hasOwnProperty("money")&&!d.isInteger(e.money)?"money: integer expected":null!=e.exp&&e.hasOwnProperty("exp")&&!d.isInteger(e.exp)?"exp: integer expected":null!=e.hp&&e.hasOwnProperty("hp")&&!d.isInteger(e.hp)?"hp: integer expected":null!=e.mp&&e.hasOwnProperty("mp")&&!d.isInteger(e.mp)?"mp: integer expected":null!=e.attack_Min&&e.hasOwnProperty("attack_Min")&&!d.isInteger(e.attack_Min)?"attack_Min: integer expected":null!=e.attack_Max&&e.hasOwnProperty("attack_Max")&&!d.isInteger(e.attack_Max)?"attack_Max: integer expected":null!=e.magicAttack_Min&&e.hasOwnProperty("magicAttack_Min")&&!d.isInteger(e.magicAttack_Min)?"magicAttack_Min: integer expected":null!=e.magicAttack_Max&&e.hasOwnProperty("magicAttack_Max")&&!d.isInteger(e.magicAttack_Max)?"magicAttack_Max: integer expected":null!=e.defense&&e.hasOwnProperty("defense")&&"number"!=typeof e.defense?"defense: number expected":null!=e.pK_Defense&&e.hasOwnProperty("pK_Defense")&&"number"!=typeof e.pK_Defense?"pK_Defense: number expected":null!=e.attack_Speed&&e.hasOwnProperty("attack_Speed")&&!d.isInteger(e.attack_Speed)?"attack_Speed: integer expected":null!=e.hit&&e.hasOwnProperty("hit")&&"number"!=typeof e.hit?"hit: number expected":null!=e.dodge&&e.hasOwnProperty("dodge")&&"number"!=typeof e.dodge?"dodge: number expected":null!=e.criticalHits&&e.hasOwnProperty("criticalHits")&&!d.isInteger(e.criticalHits)?"criticalHits: integer expected":null!=e.excell&&e.hasOwnProperty("excell")&&"number"!=typeof e.excell?"excell: number expected":null!=e.negativeresistance&&e.hasOwnProperty("negativeresistance")&&"number"!=typeof e.negativeresistance?"negativeresistance: number expected":null!=e.hpRes&&e.hasOwnProperty("hpRes")&&!d.isInteger(e.hpRes)?"hpRes: integer expected":null!=e.itemsDrop&&e.hasOwnProperty("itemsDrop")&&"number"!=typeof e.itemsDrop?"itemsDrop: number expected":null!=e.coinDrop&&e.hasOwnProperty("coinDrop")&&"number"!=typeof e.coinDrop?"coinDrop: number expected":null!=e.damageRef&&e.hasOwnProperty("damageRef")&&"number"!=typeof e.damageRef?"damageRef: number expected":null!=e.damageReduce&&e.hasOwnProperty("damageReduce")&&"number"!=typeof e.damageReduce?"damageReduce: number expected":null!=e.ignoreDef&&e.hasOwnProperty("ignoreDef")&&"number"!=typeof e.ignoreDef?"ignoreDef: number expected":null!=e.lucky&&e.hasOwnProperty("lucky")&&"number"!=typeof e.lucky?"lucky: number expected":null!=e.extensionRole&&e.hasOwnProperty("extensionRole")&&(t=y.Msg.ExtensionRole.verify(e.extensionRole))?"extensionRole."+t:null!=e.bytes&&e.hasOwnProperty("bytes")&&(t=y.Msg.PorpBytes.verify(e.bytes))?"bytes."+t:null!=e.roleItem&&e.hasOwnProperty("roleItem")&&(t=y.Msg.RoleItem.verify(e.roleItem))?"roleItem."+t:null;var t},t.fromObject=function(e){if(e instanceof y.Msg.Role)return e;var t=new y.Msg.Role;if(null!=e.id&&(t.id=0|e.id),null!=e.udid&&(t.udid=String(e.udid)),null!=e.heroType&&(t.heroType=0|e.heroType),null!=e.professionalName&&(t.professionalName=0|e.professionalName),null!=e.name&&(t.name=String(e.name)),null!=e.level&&(t.level=0|e.level),null!=e.coin&&(t.coin=0|e.coin),null!=e.money&&(t.money=0|e.money),null!=e.exp&&(t.exp=0|e.exp),null!=e.hp&&(t.hp=0|e.hp),null!=e.mp&&(t.mp=0|e.mp),null!=e.attack_Min&&(t.attack_Min=0|e.attack_Min),null!=e.attack_Max&&(t.attack_Max=0|e.attack_Max),null!=e.magicAttack_Min&&(t.magicAttack_Min=0|e.magicAttack_Min),null!=e.magicAttack_Max&&(t.magicAttack_Max=0|e.magicAttack_Max),null!=e.defense&&(t.defense=Number(e.defense)),null!=e.pK_Defense&&(t.pK_Defense=Number(e.pK_Defense)),null!=e.attack_Speed&&(t.attack_Speed=0|e.attack_Speed),null!=e.hit&&(t.hit=Number(e.hit)),null!=e.dodge&&(t.dodge=Number(e.dodge)),null!=e.criticalHits&&(t.criticalHits=0|e.criticalHits),null!=e.excell&&(t.excell=Number(e.excell)),null!=e.negativeresistance&&(t.negativeresistance=Number(e.negativeresistance)),null!=e.hpRes&&(t.hpRes=0|e.hpRes),null!=e.itemsDrop&&(t.itemsDrop=Number(e.itemsDrop)),null!=e.coinDrop&&(t.coinDrop=Number(e.coinDrop)),null!=e.damageRef&&(t.damageRef=Number(e.damageRef)),null!=e.damageReduce&&(t.damageReduce=Number(e.damageReduce)),null!=e.ignoreDef&&(t.ignoreDef=Number(e.ignoreDef)),null!=e.lucky&&(t.lucky=Number(e.lucky)),null!=e.extensionRole){if("object"!==m(e.extensionRole))throw TypeError(".Msg.Role.extensionRole: object expected");t.extensionRole=y.Msg.ExtensionRole.fromObject(e.extensionRole)}if(null!=e.bytes){if("object"!==m(e.bytes))throw TypeError(".Msg.Role.bytes: object expected");t.bytes=y.Msg.PorpBytes.fromObject(e.bytes)}if(null!=e.roleItem){if("object"!==m(e.roleItem))throw TypeError(".Msg.Role.roleItem: object expected");t.roleItem=y.Msg.RoleItem.fromObject(e.roleItem)}return t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.udid="",n.heroType=0,n.professionalName=0,n.name="",n.level=0,n.coin=0,n.money=0,n.exp=0,n.hp=0,n.mp=0,n.attack_Min=0,n.attack_Max=0,n.magicAttack_Min=0,n.magicAttack_Max=0,n.defense=0,n.pK_Defense=0,n.attack_Speed=0,n.hit=0,n.dodge=0,n.criticalHits=0,n.excell=0,n.negativeresistance=0,n.hpRes=0,n.itemsDrop=0,n.coinDrop=0,n.damageRef=0,n.damageReduce=0,n.ignoreDef=0,n.lucky=0,n.extensionRole=null,n.bytes=null,n.roleItem=null),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.udid&&e.hasOwnProperty("udid")&&(n.udid=e.udid),null!=e.heroType&&e.hasOwnProperty("heroType")&&(n.heroType=e.heroType),null!=e.professionalName&&e.hasOwnProperty("professionalName")&&(n.professionalName=e.professionalName),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.level&&e.hasOwnProperty("level")&&(n.level=e.level),null!=e.coin&&e.hasOwnProperty("coin")&&(n.coin=e.coin),null!=e.money&&e.hasOwnProperty("money")&&(n.money=e.money),null!=e.exp&&e.hasOwnProperty("exp")&&(n.exp=e.exp),null!=e.hp&&e.hasOwnProperty("hp")&&(n.hp=e.hp),null!=e.mp&&e.hasOwnProperty("mp")&&(n.mp=e.mp),null!=e.attack_Min&&e.hasOwnProperty("attack_Min")&&(n.attack_Min=e.attack_Min),null!=e.attack_Max&&e.hasOwnProperty("attack_Max")&&(n.attack_Max=e.attack_Max),null!=e.magicAttack_Min&&e.hasOwnProperty("magicAttack_Min")&&(n.magicAttack_Min=e.magicAttack_Min),null!=e.magicAttack_Max&&e.hasOwnProperty("magicAttack_Max")&&(n.magicAttack_Max=e.magicAttack_Max),null!=e.defense&&e.hasOwnProperty("defense")&&(n.defense=t.json&&!isFinite(e.defense)?String(e.defense):e.defense),null!=e.pK_Defense&&e.hasOwnProperty("pK_Defense")&&(n.pK_Defense=t.json&&!isFinite(e.pK_Defense)?String(e.pK_Defense):e.pK_Defense),null!=e.attack_Speed&&e.hasOwnProperty("attack_Speed")&&(n.attack_Speed=e.attack_Speed),null!=e.hit&&e.hasOwnProperty("hit")&&(n.hit=t.json&&!isFinite(e.hit)?String(e.hit):e.hit),null!=e.dodge&&e.hasOwnProperty("dodge")&&(n.dodge=t.json&&!isFinite(e.dodge)?String(e.dodge):e.dodge),null!=e.criticalHits&&e.hasOwnProperty("criticalHits")&&(n.criticalHits=e.criticalHits),null!=e.excell&&e.hasOwnProperty("excell")&&(n.excell=t.json&&!isFinite(e.excell)?String(e.excell):e.excell),null!=e.negativeresistance&&e.hasOwnProperty("negativeresistance")&&(n.negativeresistance=t.json&&!isFinite(e.negativeresistance)?String(e.negativeresistance):e.negativeresistance),null!=e.hpRes&&e.hasOwnProperty("hpRes")&&(n.hpRes=e.hpRes),null!=e.itemsDrop&&e.hasOwnProperty("itemsDrop")&&(n.itemsDrop=t.json&&!isFinite(e.itemsDrop)?String(e.itemsDrop):e.itemsDrop),null!=e.coinDrop&&e.hasOwnProperty("coinDrop")&&(n.coinDrop=t.json&&!isFinite(e.coinDrop)?String(e.coinDrop):e.coinDrop),null!=e.damageRef&&e.hasOwnProperty("damageRef")&&(n.damageRef=t.json&&!isFinite(e.damageRef)?String(e.damageRef):e.damageRef),null!=e.damageReduce&&e.hasOwnProperty("damageReduce")&&(n.damageReduce=t.json&&!isFinite(e.damageReduce)?String(e.damageReduce):e.damageReduce),null!=e.ignoreDef&&e.hasOwnProperty("ignoreDef")&&(n.ignoreDef=t.json&&!isFinite(e.ignoreDef)?String(e.ignoreDef):e.ignoreDef),null!=e.lucky&&e.hasOwnProperty("lucky")&&(n.lucky=t.json&&!isFinite(e.lucky)?String(e.lucky):e.lucky),null!=e.extensionRole&&e.hasOwnProperty("extensionRole")&&(n.extensionRole=y.Msg.ExtensionRole.toObject(e.extensionRole,t)),null!=e.bytes&&e.hasOwnProperty("bytes")&&(n.bytes=y.Msg.PorpBytes.toObject(e.bytes,t)),null!=e.roleItem&&e.hasOwnProperty("roleItem")&&(n.roleItem=y.Msg.RoleItem.toObject(e.roleItem,t)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),l.PorpBytes=function(){function t(e){if(this.equipments=[],this.props=[],this.tasks=[],this.nickNames=[],this.skills=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.equipments=d.emptyArray,t.prototype.props=d.emptyArray,t.prototype.tasks=d.emptyArray,t.prototype.nickNames=d.emptyArray,t.prototype.skills=d.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=p.create()),null!=e.equipments&&e.equipments.length)for(var n=0;n<e.equipments.length;++n)t.uint32(10).bytes(e.equipments[n]);if(null!=e.props&&e.props.length)for(n=0;n<e.props.length;++n)t.uint32(18).bytes(e.props[n]);if(null!=e.tasks&&e.tasks.length)for(n=0;n<e.tasks.length;++n)t.uint32(26).bytes(e.tasks[n]);if(null!=e.nickNames&&e.nickNames.length)for(n=0;n<e.nickNames.length;++n)t.uint32(34).bytes(e.nickNames[n]);if(null!=e.skills&&e.skills.length)for(n=0;n<e.skills.length;++n)t.uint32(42).bytes(e.skills[n]);return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof h||(e=h.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new y.Msg.PorpBytes;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.equipments&&i.equipments.length||(i.equipments=[]),i.equipments.push(e.bytes());break;case 2:i.props&&i.props.length||(i.props=[]),i.props.push(e.bytes());break;case 3:i.tasks&&i.tasks.length||(i.tasks=[]),i.tasks.push(e.bytes());break;case 4:i.nickNames&&i.nickNames.length||(i.nickNames=[]),i.nickNames.push(e.bytes());break;case 5:i.skills&&i.skills.length||(i.skills=[]),i.skills.push(e.bytes());break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!==(void 0===e?"undefined":m(e))||null===e)return"object expected";if(null!=e.equipments&&e.hasOwnProperty("equipments")){if(!Array.isArray(e.equipments))return"equipments: array expected";for(var t=0;t<e.equipments.length;++t)if(!(e.equipments[t]&&"number"==typeof e.equipments[t].length||d.isString(e.equipments[t])))return"equipments: buffer[] expected"}if(null!=e.props&&e.hasOwnProperty("props")){if(!Array.isArray(e.props))return"props: array expected";for(t=0;t<e.props.length;++t)if(!(e.props[t]&&"number"==typeof e.props[t].length||d.isString(e.props[t])))return"props: buffer[] expected"}if(null!=e.tasks&&e.hasOwnProperty("tasks")){if(!Array.isArray(e.tasks))return"tasks: array expected";for(t=0;t<e.tasks.length;++t)if(!(e.tasks[t]&&"number"==typeof e.tasks[t].length||d.isString(e.tasks[t])))return"tasks: buffer[] expected"}if(null!=e.nickNames&&e.hasOwnProperty("nickNames")){if(!Array.isArray(e.nickNames))return"nickNames: array expected";for(t=0;t<e.nickNames.length;++t)if(!(e.nickNames[t]&&"number"==typeof e.nickNames[t].length||d.isString(e.nickNames[t])))return"nickNames: buffer[] expected"}if(null!=e.skills&&e.hasOwnProperty("skills")){if(!Array.isArray(e.skills))return"skills: array expected";for(t=0;t<e.skills.length;++t)if(!(e.skills[t]&&"number"==typeof e.skills[t].length||d.isString(e.skills[t])))return"skills: buffer[] expected"}return null},t.fromObject=function(e){if(e instanceof y.Msg.PorpBytes)return e;var t=new y.Msg.PorpBytes;if(e.equipments){if(!Array.isArray(e.equipments))throw TypeError(".Msg.PorpBytes.equipments: array expected");t.equipments=[];for(var n=0;n<e.equipments.length;++n)"string"==typeof e.equipments[n]?d.base64.decode(e.equipments[n],t.equipments[n]=d.newBuffer(d.base64.length(e.equipments[n])),0):e.equipments[n].length&&(t.equipments[n]=e.equipments[n])}if(e.props){if(!Array.isArray(e.props))throw TypeError(".Msg.PorpBytes.props: array expected");for(t.props=[],n=0;n<e.props.length;++n)"string"==typeof e.props[n]?d.base64.decode(e.props[n],t.props[n]=d.newBuffer(d.base64.length(e.props[n])),0):e.props[n].length&&(t.props[n]=e.props[n])}if(e.tasks){if(!Array.isArray(e.tasks))throw TypeError(".Msg.PorpBytes.tasks: array expected");for(t.tasks=[],n=0;n<e.tasks.length;++n)"string"==typeof e.tasks[n]?d.base64.decode(e.tasks[n],t.tasks[n]=d.newBuffer(d.base64.length(e.tasks[n])),0):e.tasks[n].length&&(t.tasks[n]=e.tasks[n])}if(e.nickNames){if(!Array.isArray(e.nickNames))throw TypeError(".Msg.PorpBytes.nickNames: array expected");for(t.nickNames=[],n=0;n<e.nickNames.length;++n)"string"==typeof e.nickNames[n]?d.base64.decode(e.nickNames[n],t.nickNames[n]=d.newBuffer(d.base64.length(e.nickNames[n])),0):e.nickNames[n].length&&(t.nickNames[n]=e.nickNames[n])}if(e.skills){if(!Array.isArray(e.skills))throw TypeError(".Msg.PorpBytes.skills: array expected");for(t.skills=[],n=0;n<e.skills.length;++n)"string"==typeof e.skills[n]?d.base64.decode(e.skills[n],t.skills[n]=d.newBuffer(d.base64.length(e.skills[n])),0):e.skills[n].length&&(t.skills[n]=e.skills[n])}return t},t.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.equipments=[],n.props=[],n.tasks=[],n.nickNames=[],n.skills=[]),e.equipments&&e.equipments.length){n.equipments=[];for(var i=0;i<e.equipments.length;++i)n.equipments[i]=t.bytes===String?d.base64.encode(e.equipments[i],0,e.equipments[i].length):t.bytes===Array?Array.prototype.slice.call(e.equipments[i]):e.equipments[i]}if(e.props&&e.props.length)for(n.props=[],i=0;i<e.props.length;++i)n.props[i]=t.bytes===String?d.base64.encode(e.props[i],0,e.props[i].length):t.bytes===Array?Array.prototype.slice.call(e.props[i]):e.props[i];if(e.tasks&&e.tasks.length)for(n.tasks=[],i=0;i<e.tasks.length;++i)n.tasks[i]=t.bytes===String?d.base64.encode(e.tasks[i],0,e.tasks[i].length):t.bytes===Array?Array.prototype.slice.call(e.tasks[i]):e.tasks[i];if(e.nickNames&&e.nickNames.length)for(n.nickNames=[],i=0;i<e.nickNames.length;++i)n.nickNames[i]=t.bytes===String?d.base64.encode(e.nickNames[i],0,e.nickNames[i].length):t.bytes===Array?Array.prototype.slice.call(e.nickNames[i]):e.nickNames[i];if(e.skills&&e.skills.length)for(n.skills=[],i=0;i<e.skills.length;++i)n.skills[i]=t.bytes===String?d.base64.encode(e.skills[i],0,e.skills[i].length):t.bytes===Array?Array.prototype.slice.call(e.skills[i]):e.skills[i];return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),l.RolePropList=function(){function t(e){if(this.equipments=[],this.props=[],this.nickNames=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.equipments=d.emptyArray,t.prototype.props=d.emptyArray,t.prototype.nickNames=d.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=p.create()),null!=e.equipments&&e.equipments.length)for(var n=0;n<e.equipments.length;++n)y.Msg.Equipment.encode(e.equipments[n],t.uint32(10).fork()).ldelim();if(null!=e.props&&e.props.length)for(n=0;n<e.props.length;++n)y.Msg.Prop.encode(e.props[n],t.uint32(18).fork()).ldelim();if(null!=e.nickNames&&e.nickNames.length)for(n=0;n<e.nickNames.length;++n)y.Msg.NickName.encode(e.nickNames[n],t.uint32(26).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof h||(e=h.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new y.Msg.RolePropList;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.equipments&&i.equipments.length||(i.equipments=[]),i.equipments.push(y.Msg.Equipment.decode(e,e.uint32()));break;case 2:i.props&&i.props.length||(i.props=[]),i.props.push(y.Msg.Prop.decode(e,e.uint32()));break;case 3:i.nickNames&&i.nickNames.length||(i.nickNames=[]),i.nickNames.push(y.Msg.NickName.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!==(void 0===e?"undefined":m(e))||null===e)return"object expected";if(null!=e.equipments&&e.hasOwnProperty("equipments")){if(!Array.isArray(e.equipments))return"equipments: array expected";for(var t=0;t<e.equipments.length;++t)if(n=y.Msg.Equipment.verify(e.equipments[t]))return"equipments."+n}if(null!=e.props&&e.hasOwnProperty("props")){if(!Array.isArray(e.props))return"props: array expected";for(t=0;t<e.props.length;++t)if(n=y.Msg.Prop.verify(e.props[t]))return"props."+n}if(null!=e.nickNames&&e.hasOwnProperty("nickNames")){if(!Array.isArray(e.nickNames))return"nickNames: array expected";for(t=0;t<e.nickNames.length;++t){var n;if(n=y.Msg.NickName.verify(e.nickNames[t]))return"nickNames."+n}}return null},t.fromObject=function(e){if(e instanceof y.Msg.RolePropList)return e;var t=new y.Msg.RolePropList;if(e.equipments){if(!Array.isArray(e.equipments))throw TypeError(".Msg.RolePropList.equipments: array expected");t.equipments=[];for(var n=0;n<e.equipments.length;++n){if("object"!==m(e.equipments[n]))throw TypeError(".Msg.RolePropList.equipments: object expected");t.equipments[n]=y.Msg.Equipment.fromObject(e.equipments[n])}}if(e.props){if(!Array.isArray(e.props))throw TypeError(".Msg.RolePropList.props: array expected");for(t.props=[],n=0;n<e.props.length;++n){if("object"!==m(e.props[n]))throw TypeError(".Msg.RolePropList.props: object expected");t.props[n]=y.Msg.Prop.fromObject(e.props[n])}}if(e.nickNames){if(!Array.isArray(e.nickNames))throw TypeError(".Msg.RolePropList.nickNames: array expected");for(t.nickNames=[],n=0;n<e.nickNames.length;++n){if("object"!==m(e.nickNames[n]))throw TypeError(".Msg.RolePropList.nickNames: object expected");t.nickNames[n]=y.Msg.NickName.fromObject(e.nickNames[n])}}return t},t.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.equipments=[],n.props=[],n.nickNames=[]),e.equipments&&e.equipments.length){n.equipments=[];for(var i=0;i<e.equipments.length;++i)n.equipments[i]=y.Msg.Equipment.toObject(e.equipments[i],t)}if(e.props&&e.props.length)for(n.props=[],i=0;i<e.props.length;++i)n.props[i]=y.Msg.Prop.toObject(e.props[i],t);if(e.nickNames&&e.nickNames.length)for(n.nickNames=[],i=0;i<e.nickNames.length;++i)n.nickNames[i]=y.Msg.NickName.toObject(e.nickNames[i],t);return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),l.Equipment=function(){function t(e){if(this.additionalPropertyIDs=[],this.additionalPropertyValues=[],this.groupPropIDs=[],this.groupPropValues=[],this.decompositionPropIDs=[],this.decompositionPropValues=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.id=0,t.prototype.code=0,t.prototype.icon="",t.prototype.name="",t.prototype.needLevel=0,t.prototype.level=0,t.prototype.StrengthenLevel=0,t.prototype.gearType=0,t.prototype.menuProperty=0,t.prototype.menuPropertyValue=0,t.prototype.viceProperty=0,t.prototype.vicePropertyValue=0,t.prototype.additionalPropertyIDs=d.emptyArray,t.prototype.additionalPropertyValues=d.emptyArray,t.prototype.enchantLevel=0,t.prototype.enchantProperty=0,t.prototype.enchantPropertyValue=0,t.prototype.recastingLevel=0,t.prototype.recastingNeedCoin=0,t.prototype.recastingNeedProp=0,t.prototype.groupPropIDs=d.emptyArray,t.prototype.groupPropValues=d.emptyArray,t.prototype.decompositionCoin=0,t.prototype.decompositionPropIDs=d.emptyArray,t.prototype.decompositionPropValues=d.emptyArray,t.prototype.isCarry=0,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=p.create()),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int32(e.id),null!=e.code&&e.hasOwnProperty("code")&&t.uint32(16).int32(e.code),null!=e.icon&&e.hasOwnProperty("icon")&&t.uint32(26).string(e.icon),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(34).string(e.name),null!=e.needLevel&&e.hasOwnProperty("needLevel")&&t.uint32(40).int32(e.needLevel),null!=e.level&&e.hasOwnProperty("level")&&t.uint32(48).int32(e.level),null!=e.StrengthenLevel&&e.hasOwnProperty("StrengthenLevel")&&t.uint32(56).int32(e.StrengthenLevel),null!=e.gearType&&e.hasOwnProperty("gearType")&&t.uint32(64).int32(e.gearType),null!=e.menuProperty&&e.hasOwnProperty("menuProperty")&&t.uint32(72).int32(e.menuProperty),null!=e.menuPropertyValue&&e.hasOwnProperty("menuPropertyValue")&&t.uint32(80).int32(e.menuPropertyValue),null!=e.viceProperty&&e.hasOwnProperty("viceProperty")&&t.uint32(88).int32(e.viceProperty),null!=e.vicePropertyValue&&e.hasOwnProperty("vicePropertyValue")&&t.uint32(96).int32(e.vicePropertyValue),null!=e.additionalPropertyIDs&&e.additionalPropertyIDs.length){t.uint32(106).fork();for(var n=0;n<e.additionalPropertyIDs.length;++n)t.int32(e.additionalPropertyIDs[n]);t.ldelim()}if(null!=e.additionalPropertyValues&&e.additionalPropertyValues.length){for(t.uint32(114).fork(),n=0;n<e.additionalPropertyValues.length;++n)t.int32(e.additionalPropertyValues[n]);t.ldelim()}if(null!=e.enchantLevel&&e.hasOwnProperty("enchantLevel")&&t.uint32(120).int32(e.enchantLevel),null!=e.enchantProperty&&e.hasOwnProperty("enchantProperty")&&t.uint32(128).int32(e.enchantProperty),null!=e.enchantPropertyValue&&e.hasOwnProperty("enchantPropertyValue")&&t.uint32(136).int32(e.enchantPropertyValue),null!=e.recastingLevel&&e.hasOwnProperty("recastingLevel")&&t.uint32(144).int32(e.recastingLevel),null!=e.recastingNeedCoin&&e.hasOwnProperty("recastingNeedCoin")&&t.uint32(152).int32(e.recastingNeedCoin),null!=e.recastingNeedProp&&e.hasOwnProperty("recastingNeedProp")&&t.uint32(160).int32(e.recastingNeedProp),null!=e.groupPropIDs&&e.groupPropIDs.length){for(t.uint32(170).fork(),n=0;n<e.groupPropIDs.length;++n)t.int32(e.groupPropIDs[n]);t.ldelim()}if(null!=e.groupPropValues&&e.groupPropValues.length){for(t.uint32(178).fork(),n=0;n<e.groupPropValues.length;++n)t.int32(e.groupPropValues[n]);t.ldelim()}if(null!=e.decompositionCoin&&e.hasOwnProperty("decompositionCoin")&&t.uint32(184).int32(e.decompositionCoin),null!=e.decompositionPropIDs&&e.decompositionPropIDs.length){for(t.uint32(194).fork(),n=0;n<e.decompositionPropIDs.length;++n)t.int32(e.decompositionPropIDs[n]);t.ldelim()}if(null!=e.decompositionPropValues&&e.decompositionPropValues.length){for(t.uint32(202).fork(),n=0;n<e.decompositionPropValues.length;++n)t.int32(e.decompositionPropValues[n]);t.ldelim()}return null!=e.isCarry&&e.hasOwnProperty("isCarry")&&t.uint32(208).int32(e.isCarry),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof h||(e=h.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new y.Msg.Equipment;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;case 2:i.code=e.int32();break;case 3:i.icon=e.string();break;case 4:i.name=e.string();break;case 5:i.needLevel=e.int32();break;case 6:i.level=e.int32();break;case 7:i.StrengthenLevel=e.int32();break;case 8:i.gearType=e.int32();break;case 9:i.menuProperty=e.int32();break;case 10:i.menuPropertyValue=e.int32();break;case 11:i.viceProperty=e.int32();break;case 12:i.vicePropertyValue=e.int32();break;case 13:if(i.additionalPropertyIDs&&i.additionalPropertyIDs.length||(i.additionalPropertyIDs=[]),2==(7&o))for(var r=e.uint32()+e.pos;e.pos<r;)i.additionalPropertyIDs.push(e.int32());else i.additionalPropertyIDs.push(e.int32());break;case 14:if(i.additionalPropertyValues&&i.additionalPropertyValues.length||(i.additionalPropertyValues=[]),2==(7&o))for(r=e.uint32()+e.pos;e.pos<r;)i.additionalPropertyValues.push(e.int32());else i.additionalPropertyValues.push(e.int32());break;case 15:i.enchantLevel=e.int32();break;case 16:i.enchantProperty=e.int32();break;case 17:i.enchantPropertyValue=e.int32();break;case 18:i.recastingLevel=e.int32();break;case 19:i.recastingNeedCoin=e.int32();break;case 20:i.recastingNeedProp=e.int32();break;case 21:if(i.groupPropIDs&&i.groupPropIDs.length||(i.groupPropIDs=[]),2==(7&o))for(r=e.uint32()+e.pos;e.pos<r;)i.groupPropIDs.push(e.int32());else i.groupPropIDs.push(e.int32());break;case 22:if(i.groupPropValues&&i.groupPropValues.length||(i.groupPropValues=[]),2==(7&o))for(r=e.uint32()+e.pos;e.pos<r;)i.groupPropValues.push(e.int32());else i.groupPropValues.push(e.int32());break;case 23:i.decompositionCoin=e.int32();break;case 24:if(i.decompositionPropIDs&&i.decompositionPropIDs.length||(i.decompositionPropIDs=[]),2==(7&o))for(r=e.uint32()+e.pos;e.pos<r;)i.decompositionPropIDs.push(e.int32());else i.decompositionPropIDs.push(e.int32());break;case 25:if(i.decompositionPropValues&&i.decompositionPropValues.length||(i.decompositionPropValues=[]),2==(7&o))for(r=e.uint32()+e.pos;e.pos<r;)i.decompositionPropValues.push(e.int32());else i.decompositionPropValues.push(e.int32());break;case 26:i.isCarry=e.int32();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!==(void 0===e?"undefined":m(e))||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!d.isInteger(e.id))return"id: integer expected";if(null!=e.code&&e.hasOwnProperty("code")&&!d.isInteger(e.code))return"code: integer expected";if(null!=e.icon&&e.hasOwnProperty("icon")&&!d.isString(e.icon))return"icon: string expected";if(null!=e.name&&e.hasOwnProperty("name")&&!d.isString(e.name))return"name: string expected";if(null!=e.needLevel&&e.hasOwnProperty("needLevel")&&!d.isInteger(e.needLevel))return"needLevel: integer expected";if(null!=e.level&&e.hasOwnProperty("level")&&!d.isInteger(e.level))return"level: integer expected";if(null!=e.StrengthenLevel&&e.hasOwnProperty("StrengthenLevel")&&!d.isInteger(e.StrengthenLevel))return"StrengthenLevel: integer expected";if(null!=e.gearType&&e.hasOwnProperty("gearType"))switch(e.gearType){default:return"gearType: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:}if(null!=e.menuProperty&&e.hasOwnProperty("menuProperty"))switch(e.menuProperty){default:return"menuProperty: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if(null!=e.menuPropertyValue&&e.hasOwnProperty("menuPropertyValue")&&!d.isInteger(e.menuPropertyValue))return"menuPropertyValue: integer expected";if(null!=e.viceProperty&&e.hasOwnProperty("viceProperty"))switch(e.viceProperty){default:return"viceProperty: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if(null!=e.vicePropertyValue&&e.hasOwnProperty("vicePropertyValue")&&!d.isInteger(e.vicePropertyValue))return"vicePropertyValue: integer expected";if(null!=e.additionalPropertyIDs&&e.hasOwnProperty("additionalPropertyIDs")){if(!Array.isArray(e.additionalPropertyIDs))return"additionalPropertyIDs: array expected";for(var t=0;t<e.additionalPropertyIDs.length;++t)if(!d.isInteger(e.additionalPropertyIDs[t]))return"additionalPropertyIDs: integer[] expected"}if(null!=e.additionalPropertyValues&&e.hasOwnProperty("additionalPropertyValues")){if(!Array.isArray(e.additionalPropertyValues))return"additionalPropertyValues: array expected";for(t=0;t<e.additionalPropertyValues.length;++t)if(!d.isInteger(e.additionalPropertyValues[t]))return"additionalPropertyValues: integer[] expected"}if(null!=e.enchantLevel&&e.hasOwnProperty("enchantLevel")&&!d.isInteger(e.enchantLevel))return"enchantLevel: integer expected";if(null!=e.enchantProperty&&e.hasOwnProperty("enchantProperty")&&!d.isInteger(e.enchantProperty))return"enchantProperty: integer expected";if(null!=e.enchantPropertyValue&&e.hasOwnProperty("enchantPropertyValue")&&!d.isInteger(e.enchantPropertyValue))return"enchantPropertyValue: integer expected";if(null!=e.recastingLevel&&e.hasOwnProperty("recastingLevel")&&!d.isInteger(e.recastingLevel))return"recastingLevel: integer expected";if(null!=e.recastingNeedCoin&&e.hasOwnProperty("recastingNeedCoin")&&!d.isInteger(e.recastingNeedCoin))return"recastingNeedCoin: integer expected";if(null!=e.recastingNeedProp&&e.hasOwnProperty("recastingNeedProp")&&!d.isInteger(e.recastingNeedProp))return"recastingNeedProp: integer expected";if(null!=e.groupPropIDs&&e.hasOwnProperty("groupPropIDs")){if(!Array.isArray(e.groupPropIDs))return"groupPropIDs: array expected";for(t=0;t<e.groupPropIDs.length;++t)if(!d.isInteger(e.groupPropIDs[t]))return"groupPropIDs: integer[] expected"}if(null!=e.groupPropValues&&e.hasOwnProperty("groupPropValues")){if(!Array.isArray(e.groupPropValues))return"groupPropValues: array expected";for(t=0;t<e.groupPropValues.length;++t)if(!d.isInteger(e.groupPropValues[t]))return"groupPropValues: integer[] expected"}if(null!=e.decompositionCoin&&e.hasOwnProperty("decompositionCoin")&&!d.isInteger(e.decompositionCoin))return"decompositionCoin: integer expected";if(null!=e.decompositionPropIDs&&e.hasOwnProperty("decompositionPropIDs")){if(!Array.isArray(e.decompositionPropIDs))return"decompositionPropIDs: array expected";for(t=0;t<e.decompositionPropIDs.length;++t)if(!d.isInteger(e.decompositionPropIDs[t]))return"decompositionPropIDs: integer[] expected"}if(null!=e.decompositionPropValues&&e.hasOwnProperty("decompositionPropValues")){if(!Array.isArray(e.decompositionPropValues))return"decompositionPropValues: array expected";for(t=0;t<e.decompositionPropValues.length;++t)if(!d.isInteger(e.decompositionPropValues[t]))return"decompositionPropValues: integer[] expected"}return null!=e.isCarry&&e.hasOwnProperty("isCarry")&&!d.isInteger(e.isCarry)?"isCarry: integer expected":null},t.fromObject=function(e){if(e instanceof y.Msg.Equipment)return e;var t=new y.Msg.Equipment;switch(null!=e.id&&(t.id=0|e.id),null!=e.code&&(t.code=0|e.code),null!=e.icon&&(t.icon=String(e.icon)),null!=e.name&&(t.name=String(e.name)),null!=e.needLevel&&(t.needLevel=0|e.needLevel),null!=e.level&&(t.level=0|e.level),null!=e.StrengthenLevel&&(t.StrengthenLevel=0|e.StrengthenLevel),e.gearType){case"EWhite":case 0:t.gearType=0;break;case"EGreen":case 1:t.gearType=1;break;case"EBule":case 2:t.gearType=2;break;case"EPurple":case 3:t.gearType=3;break;case"EOrange":case 4:t.gearType=4;break;case"ERed":case 5:t.gearType=5}switch(e.menuProperty){case"EHp":case 0:t.menuProperty=0;break;case"EAttack":case 1:t.menuProperty=1;break;case"EDefense":case 2:t.menuProperty=2;break;case"EHit":case 3:t.menuProperty=3;break;case"EDodge":case 4:t.menuProperty=4;break;case"ECrit":case 5:t.menuProperty=5;break;case"ECritAttack":case 6:t.menuProperty=6;break;case"ENegativeResistance":case 7:t.menuProperty=7;break;case"EHpRes":case 8:t.menuProperty=8;break;case"EItemsDrop":case 9:t.menuProperty=9;break;case"ECoinDrop":case 10:t.menuProperty=10}switch(null!=e.menuPropertyValue&&(t.menuPropertyValue=0|e.menuPropertyValue),e.viceProperty){case"EHp":case 0:t.viceProperty=0;break;case"EAttack":case 1:t.viceProperty=1;break;case"EDefense":case 2:t.viceProperty=2;break;case"EHit":case 3:t.viceProperty=3;break;case"EDodge":case 4:t.viceProperty=4;break;case"ECrit":case 5:t.viceProperty=5;break;case"ECritAttack":case 6:t.viceProperty=6;break;case"ENegativeResistance":case 7:t.viceProperty=7;break;case"EHpRes":case 8:t.viceProperty=8;break;case"EItemsDrop":case 9:t.viceProperty=9;break;case"ECoinDrop":case 10:t.viceProperty=10}if(null!=e.vicePropertyValue&&(t.vicePropertyValue=0|e.vicePropertyValue),e.additionalPropertyIDs){if(!Array.isArray(e.additionalPropertyIDs))throw TypeError(".Msg.Equipment.additionalPropertyIDs: array expected");t.additionalPropertyIDs=[];for(var n=0;n<e.additionalPropertyIDs.length;++n)t.additionalPropertyIDs[n]=0|e.additionalPropertyIDs[n]}if(e.additionalPropertyValues){if(!Array.isArray(e.additionalPropertyValues))throw TypeError(".Msg.Equipment.additionalPropertyValues: array expected");for(t.additionalPropertyValues=[],n=0;n<e.additionalPropertyValues.length;++n)t.additionalPropertyValues[n]=0|e.additionalPropertyValues[n]}if(null!=e.enchantLevel&&(t.enchantLevel=0|e.enchantLevel),null!=e.enchantProperty&&(t.enchantProperty=0|e.enchantProperty),null!=e.enchantPropertyValue&&(t.enchantPropertyValue=0|e.enchantPropertyValue),null!=e.recastingLevel&&(t.recastingLevel=0|e.recastingLevel),null!=e.recastingNeedCoin&&(t.recastingNeedCoin=0|e.recastingNeedCoin),null!=e.recastingNeedProp&&(t.recastingNeedProp=0|e.recastingNeedProp),e.groupPropIDs){if(!Array.isArray(e.groupPropIDs))throw TypeError(".Msg.Equipment.groupPropIDs: array expected");for(t.groupPropIDs=[],n=0;n<e.groupPropIDs.length;++n)t.groupPropIDs[n]=0|e.groupPropIDs[n]}if(e.groupPropValues){if(!Array.isArray(e.groupPropValues))throw TypeError(".Msg.Equipment.groupPropValues: array expected");for(t.groupPropValues=[],n=0;n<e.groupPropValues.length;++n)t.groupPropValues[n]=0|e.groupPropValues[n]}if(null!=e.decompositionCoin&&(t.decompositionCoin=0|e.decompositionCoin),e.decompositionPropIDs){if(!Array.isArray(e.decompositionPropIDs))throw TypeError(".Msg.Equipment.decompositionPropIDs: array expected");for(t.decompositionPropIDs=[],n=0;n<e.decompositionPropIDs.length;++n)t.decompositionPropIDs[n]=0|e.decompositionPropIDs[n]}if(e.decompositionPropValues){if(!Array.isArray(e.decompositionPropValues))throw TypeError(".Msg.Equipment.decompositionPropValues: array expected");for(t.decompositionPropValues=[],n=0;n<e.decompositionPropValues.length;++n)t.decompositionPropValues[n]=0|e.decompositionPropValues[n]}return null!=e.isCarry&&(t.isCarry=0|e.isCarry),t},t.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.additionalPropertyIDs=[],n.additionalPropertyValues=[],n.groupPropIDs=[],n.groupPropValues=[],n.decompositionPropIDs=[],n.decompositionPropValues=[]),t.defaults&&(n.id=0,n.code=0,n.icon="",n.name="",n.needLevel=0,n.level=0,n.StrengthenLevel=0,n.gearType=t.enums===String?"EWhite":0,n.menuProperty=t.enums===String?"EHp":0,n.menuPropertyValue=0,n.viceProperty=t.enums===String?"EHp":0,n.vicePropertyValue=0,n.enchantLevel=0,n.enchantProperty=0,n.enchantPropertyValue=0,n.recastingLevel=0,n.recastingNeedCoin=0,n.recastingNeedProp=0,n.decompositionCoin=0,n.isCarry=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.code&&e.hasOwnProperty("code")&&(n.code=e.code),null!=e.icon&&e.hasOwnProperty("icon")&&(n.icon=e.icon),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.needLevel&&e.hasOwnProperty("needLevel")&&(n.needLevel=e.needLevel),null!=e.level&&e.hasOwnProperty("level")&&(n.level=e.level),null!=e.StrengthenLevel&&e.hasOwnProperty("StrengthenLevel")&&(n.StrengthenLevel=e.StrengthenLevel),null!=e.gearType&&e.hasOwnProperty("gearType")&&(n.gearType=t.enums===String?y.Msg.TItemGearType[e.gearType]:e.gearType),null!=e.menuProperty&&e.hasOwnProperty("menuProperty")&&(n.menuProperty=t.enums===String?y.Msg.TEquipmentPropertyType[e.menuProperty]:e.menuProperty),null!=e.menuPropertyValue&&e.hasOwnProperty("menuPropertyValue")&&(n.menuPropertyValue=e.menuPropertyValue),null!=e.viceProperty&&e.hasOwnProperty("viceProperty")&&(n.viceProperty=t.enums===String?y.Msg.TEquipmentPropertyType[e.viceProperty]:e.viceProperty),null!=e.vicePropertyValue&&e.hasOwnProperty("vicePropertyValue")&&(n.vicePropertyValue=e.vicePropertyValue),e.additionalPropertyIDs&&e.additionalPropertyIDs.length){n.additionalPropertyIDs=[];for(var i=0;i<e.additionalPropertyIDs.length;++i)n.additionalPropertyIDs[i]=e.additionalPropertyIDs[i]}if(e.additionalPropertyValues&&e.additionalPropertyValues.length)for(n.additionalPropertyValues=[],i=0;i<e.additionalPropertyValues.length;++i)n.additionalPropertyValues[i]=e.additionalPropertyValues[i];if(null!=e.enchantLevel&&e.hasOwnProperty("enchantLevel")&&(n.enchantLevel=e.enchantLevel),null!=e.enchantProperty&&e.hasOwnProperty("enchantProperty")&&(n.enchantProperty=e.enchantProperty),null!=e.enchantPropertyValue&&e.hasOwnProperty("enchantPropertyValue")&&(n.enchantPropertyValue=e.enchantPropertyValue),null!=e.recastingLevel&&e.hasOwnProperty("recastingLevel")&&(n.recastingLevel=e.recastingLevel),null!=e.recastingNeedCoin&&e.hasOwnProperty("recastingNeedCoin")&&(n.recastingNeedCoin=e.recastingNeedCoin),null!=e.recastingNeedProp&&e.hasOwnProperty("recastingNeedProp")&&(n.recastingNeedProp=e.recastingNeedProp),e.groupPropIDs&&e.groupPropIDs.length)for(n.groupPropIDs=[],i=0;i<e.groupPropIDs.length;++i)n.groupPropIDs[i]=e.groupPropIDs[i];if(e.groupPropValues&&e.groupPropValues.length)for(n.groupPropValues=[],i=0;i<e.groupPropValues.length;++i)n.groupPropValues[i]=e.groupPropValues[i];if(null!=e.decompositionCoin&&e.hasOwnProperty("decompositionCoin")&&(n.decompositionCoin=e.decompositionCoin),e.decompositionPropIDs&&e.decompositionPropIDs.length)for(n.decompositionPropIDs=[],i=0;i<e.decompositionPropIDs.length;++i)n.decompositionPropIDs[i]=e.decompositionPropIDs[i];if(e.decompositionPropValues&&e.decompositionPropValues.length)for(n.decompositionPropValues=[],i=0;i<e.decompositionPropValues.length;++i)n.decompositionPropValues[i]=e.decompositionPropValues[i];return null!=e.isCarry&&e.hasOwnProperty("isCarry")&&(n.isCarry=e.isCarry),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),l.Prop=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.id=0,t.prototype.code=0,t.prototype.level=0,t.prototype.name="",t.prototype.des="",t.prototype.buyMoney=0,t.prototype.sellCoin=0,t.prototype.gearType=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int32(e.id),null!=e.code&&e.hasOwnProperty("code")&&t.uint32(16).int32(e.code),null!=e.level&&e.hasOwnProperty("level")&&t.uint32(24).int32(e.level),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(34).string(e.name),null!=e.des&&e.hasOwnProperty("des")&&t.uint32(42).string(e.des),null!=e.buyMoney&&e.hasOwnProperty("buyMoney")&&t.uint32(48).int32(e.buyMoney),null!=e.sellCoin&&e.hasOwnProperty("sellCoin")&&t.uint32(56).int32(e.sellCoin),null!=e.gearType&&e.hasOwnProperty("gearType")&&t.uint32(64).int32(e.gearType),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof h||(e=h.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new y.Msg.Prop;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;case 2:i.code=e.int32();break;case 3:i.level=e.int32();break;case 4:i.name=e.string();break;case 5:i.des=e.string();break;case 6:i.buyMoney=e.int32();break;case 7:i.sellCoin=e.int32();break;case 8:i.gearType=e.int32();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!==(void 0===e?"undefined":m(e))||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!d.isInteger(e.id))return"id: integer expected";if(null!=e.code&&e.hasOwnProperty("code")&&!d.isInteger(e.code))return"code: integer expected";if(null!=e.level&&e.hasOwnProperty("level")&&!d.isInteger(e.level))return"level: integer expected";if(null!=e.name&&e.hasOwnProperty("name")&&!d.isString(e.name))return"name: string expected";if(null!=e.des&&e.hasOwnProperty("des")&&!d.isString(e.des))return"des: string expected";if(null!=e.buyMoney&&e.hasOwnProperty("buyMoney")&&!d.isInteger(e.buyMoney))return"buyMoney: integer expected";if(null!=e.sellCoin&&e.hasOwnProperty("sellCoin")&&!d.isInteger(e.sellCoin))return"sellCoin: integer expected";if(null!=e.gearType&&e.hasOwnProperty("gearType"))switch(e.gearType){default:return"gearType: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:}return null},t.fromObject=function(e){if(e instanceof y.Msg.Prop)return e;var t=new y.Msg.Prop;switch(null!=e.id&&(t.id=0|e.id),null!=e.code&&(t.code=0|e.code),null!=e.level&&(t.level=0|e.level),null!=e.name&&(t.name=String(e.name)),null!=e.des&&(t.des=String(e.des)),null!=e.buyMoney&&(t.buyMoney=0|e.buyMoney),null!=e.sellCoin&&(t.sellCoin=0|e.sellCoin),e.gearType){case"EWhite":case 0:t.gearType=0;break;case"EGreen":case 1:t.gearType=1;break;case"EBule":case 2:t.gearType=2;break;case"EPurple":case 3:t.gearType=3;break;case"EOrange":case 4:t.gearType=4;break;case"ERed":case 5:t.gearType=5}return t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.code=0,n.level=0,n.name="",n.des="",n.buyMoney=0,n.sellCoin=0,n.gearType=t.enums===String?"EWhite":0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.code&&e.hasOwnProperty("code")&&(n.code=e.code),null!=e.level&&e.hasOwnProperty("level")&&(n.level=e.level),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.des&&e.hasOwnProperty("des")&&(n.des=e.des),null!=e.buyMoney&&e.hasOwnProperty("buyMoney")&&(n.buyMoney=e.buyMoney),null!=e.sellCoin&&e.hasOwnProperty("sellCoin")&&(n.sellCoin=e.sellCoin),null!=e.gearType&&e.hasOwnProperty("gearType")&&(n.gearType=t.enums===String?y.Msg.TItemGearType[e.gearType]:e.gearType),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),l.NickName=function(){function t(e){if(this.addPropertys=[],this.addPropertyValues=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.id=0,t.prototype.name="",t.prototype.demand="",t.prototype.des="",t.prototype.addPropertys=d.emptyArray,t.prototype.addPropertyValues=d.emptyArray,t.prototype.isCarry=0,t.prototype.isGet=0,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=p.create()),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int32(e.id),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(18).string(e.name),null!=e.demand&&e.hasOwnProperty("demand")&&t.uint32(26).string(e.demand),null!=e.des&&e.hasOwnProperty("des")&&t.uint32(34).string(e.des),null!=e.addPropertys&&e.addPropertys.length){t.uint32(42).fork();for(var n=0;n<e.addPropertys.length;++n)t.int32(e.addPropertys[n]);t.ldelim()}if(null!=e.addPropertyValues&&e.addPropertyValues.length){for(t.uint32(50).fork(),n=0;n<e.addPropertyValues.length;++n)t.int32(e.addPropertyValues[n]);t.ldelim()}return null!=e.isCarry&&e.hasOwnProperty("isCarry")&&t.uint32(56).int32(e.isCarry),null!=e.isGet&&e.hasOwnProperty("isGet")&&t.uint32(64).int32(e.isGet),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof h||(e=h.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new y.Msg.NickName;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;case 2:i.name=e.string();break;case 3:i.demand=e.string();break;case 4:i.des=e.string();break;case 5:if(i.addPropertys&&i.addPropertys.length||(i.addPropertys=[]),2==(7&o))for(var r=e.uint32()+e.pos;e.pos<r;)i.addPropertys.push(e.int32());else i.addPropertys.push(e.int32());break;case 6:if(i.addPropertyValues&&i.addPropertyValues.length||(i.addPropertyValues=[]),2==(7&o))for(r=e.uint32()+e.pos;e.pos<r;)i.addPropertyValues.push(e.int32());else i.addPropertyValues.push(e.int32());break;case 7:i.isCarry=e.int32();break;case 8:i.isGet=e.int32();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!==(void 0===e?"undefined":m(e))||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!d.isInteger(e.id))return"id: integer expected";if(null!=e.name&&e.hasOwnProperty("name")&&!d.isString(e.name))return"name: string expected";if(null!=e.demand&&e.hasOwnProperty("demand")&&!d.isString(e.demand))return"demand: string expected";if(null!=e.des&&e.hasOwnProperty("des")&&!d.isString(e.des))return"des: string expected";if(null!=e.addPropertys&&e.hasOwnProperty("addPropertys")){if(!Array.isArray(e.addPropertys))return"addPropertys: array expected";for(var t=0;t<e.addPropertys.length;++t)if(!d.isInteger(e.addPropertys[t]))return"addPropertys: integer[] expected"}if(null!=e.addPropertyValues&&e.hasOwnProperty("addPropertyValues")){if(!Array.isArray(e.addPropertyValues))return"addPropertyValues: array expected";for(t=0;t<e.addPropertyValues.length;++t)if(!d.isInteger(e.addPropertyValues[t]))return"addPropertyValues: integer[] expected"}return null!=e.isCarry&&e.hasOwnProperty("isCarry")&&!d.isInteger(e.isCarry)?"isCarry: integer expected":null!=e.isGet&&e.hasOwnProperty("isGet")&&!d.isInteger(e.isGet)?"isGet: integer expected":null},t.fromObject=function(e){if(e instanceof y.Msg.NickName)return e;var t=new y.Msg.NickName;if(null!=e.id&&(t.id=0|e.id),null!=e.name&&(t.name=String(e.name)),null!=e.demand&&(t.demand=String(e.demand)),null!=e.des&&(t.des=String(e.des)),e.addPropertys){if(!Array.isArray(e.addPropertys))throw TypeError(".Msg.NickName.addPropertys: array expected");t.addPropertys=[];for(var n=0;n<e.addPropertys.length;++n)t.addPropertys[n]=0|e.addPropertys[n]}if(e.addPropertyValues){if(!Array.isArray(e.addPropertyValues))throw TypeError(".Msg.NickName.addPropertyValues: array expected");for(t.addPropertyValues=[],n=0;n<e.addPropertyValues.length;++n)t.addPropertyValues[n]=0|e.addPropertyValues[n]}return null!=e.isCarry&&(t.isCarry=0|e.isCarry),null!=e.isGet&&(t.isGet=0|e.isGet),t},t.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.addPropertys=[],n.addPropertyValues=[]),t.defaults&&(n.id=0,n.name="",n.demand="",n.des="",n.isCarry=0,n.isGet=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.demand&&e.hasOwnProperty("demand")&&(n.demand=e.demand),null!=e.des&&e.hasOwnProperty("des")&&(n.des=e.des),e.addPropertys&&e.addPropertys.length){n.addPropertys=[];for(var i=0;i<e.addPropertys.length;++i)n.addPropertys[i]=e.addPropertys[i]}if(e.addPropertyValues&&e.addPropertyValues.length)for(n.addPropertyValues=[],i=0;i<e.addPropertyValues.length;++i)n.addPropertyValues[i]=e.addPropertyValues[i];return null!=e.isCarry&&e.hasOwnProperty("isCarry")&&(n.isCarry=e.isCarry),null!=e.isGet&&e.hasOwnProperty("isGet")&&(n.isGet=e.isGet),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),l.UpdateNameR=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.udid="",t.prototype.name="",t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.udid&&e.hasOwnProperty("udid")&&t.uint32(10).string(e.udid),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(18).string(e.name),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof h||(e=h.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new y.Msg.UpdateNameR;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.udid=e.string();break;case 2:i.name=e.string();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":m(e))||null===e?"object expected":null!=e.udid&&e.hasOwnProperty("udid")&&!d.isString(e.udid)?"udid: string expected":null!=e.name&&e.hasOwnProperty("name")&&!d.isString(e.name)?"name: string expected":null},t.fromObject=function(e){if(e instanceof y.Msg.UpdateNameR)return e;var t=new y.Msg.UpdateNameR;return null!=e.udid&&(t.udid=String(e.udid)),null!=e.name&&(t.name=String(e.name)),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.udid="",n.name=""),null!=e.udid&&e.hasOwnProperty("udid")&&(n.udid=e.udid),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),l.UpdateNameA=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.erro=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.erro&&e.hasOwnProperty("erro")&&t.uint32(8).int32(e.erro),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof h||(e=h.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new y.Msg.UpdateNameA;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.erro=e.int32();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":m(e))||null===e?"object expected":null!=e.erro&&e.hasOwnProperty("erro")&&!d.isInteger(e.erro)?"erro: integer expected":null},t.fromObject=function(e){if(e instanceof y.Msg.UpdateNameA)return e;var t=new y.Msg.UpdateNameA;return null!=e.erro&&(t.erro=0|e.erro),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.erro=0),null!=e.erro&&e.hasOwnProperty("erro")&&(n.erro=e.erro),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),l.Annc=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.id=0,t.prototype.anncDes="",t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int32(e.id),null!=e.anncDes&&e.hasOwnProperty("anncDes")&&t.uint32(18).string(e.anncDes),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof h||(e=h.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new y.Msg.Annc;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;case 2:i.anncDes=e.string();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":m(e))||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!d.isInteger(e.id)?"id: integer expected":null!=e.anncDes&&e.hasOwnProperty("anncDes")&&!d.isString(e.anncDes)?"anncDes: string expected":null},t.fromObject=function(e){if(e instanceof y.Msg.Annc)return e;var t=new y.Msg.Annc;return null!=e.id&&(t.id=0|e.id),null!=e.anncDes&&(t.anncDes=String(e.anncDes)),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.anncDes=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.anncDes&&e.hasOwnProperty("anncDes")&&(n.anncDes=e.anncDes),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),l),t.exports=y,cc._RF.pop()},{"protobufjs/minimal":1}]},{},["AllDB","Daoju_DB","Enemy_DB","MaoxianItem_DB","Role_DB","Shop_DB","Skill_DB","ZhuangBei_DB","Enemy","FightUnit","Player","TestUIForm","BatchUIForm","BeiBaoUIForm","ChoujiangUIForm","DaojuPopUIForm","DialogUIForm","EnemysUIForm","FightDaojuPopUIForm","FightEndUIForm","FuBenUIForm","HeishiUIForm","JiaQiangUIForm","MainUIForm","MaoXianFightUIForm","MaoXianUIForm","PopUpUIForm","RoleUIForm","SkillUIForm","TieJiangPuUIForm","ZhuangBeiPopUIForm","BaseUIForm","E_UIForm","ResourcesMar","UIManager","UIMaskMgr","UIType","BuffItem","DazaoNeeDaojuItem","EnemyItem","FubenItem","ItemBase","JiesuanItem","Loging","MainTop","MaoxianItem","PiaoXue","ShowTip","SkillItem","TieJiangPuItem","WuPinItem","ZhuangBeiItem","AllTexture","AudioMgr","ByteArray","CCCompentHelper","Constant","EventDispatch","HelloWorld","LoopScrollRect","Map","Queue","Stack","Util","proto_msg"]);